(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Ob(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},Ao={};var L_;function Mb(){if(L_)return Ao;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ao.Fragment=e,Ao.jsx=i,Ao.jsxs=i,Ao}var j_;function Vb(){return j_||(j_=1,Md.exports=Mb()),Md.exports}var b=Vb(),Vd={exports:{}},Se={};var P_;function kb(){if(P_)return Se;P_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function ge(O,Q,ie){this.props=O,this.context=Q,this.refs=ee,this.updater=ie||J}ge.prototype.isReactComponent={},ge.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ge.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=ge.prototype;function ve(O,Q,ie){this.props=O,this.context=Q,this.refs=ee,this.updater=ie||J}var Me=ve.prototype=new me;Me.constructor=ve,se(Me,ge.prototype),Me.isPureReactComponent=!0;var tt=Array.isArray;function ze(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Q,ie){var re=ie.ref;return{$$typeof:s,type:O,key:Q,ref:re!==void 0?re:null,props:ie}}function V(O,Q){return C(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Q[ie]})}var x=/\/+/g;function at(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ze,ze):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,ie,re,Ee){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(we){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case s:case e:Ne=!0;break;case S:return Ne=O._init,H(Ne(O._payload),Q,ie,re,Ee)}}if(Ne)return Ee=Ee(O),Ne=re===""?"."+at(O,0):re,tt(Ee)?(ie="",Ne!=null&&(ie=Ne.replace(x,"$&/")+"/"),H(Ee,Q,ie,"",function(Fi){return Fi})):Ee!=null&&(N(Ee)&&(Ee=V(Ee,ie+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Ne)),Q.push(Ee)),1;Ne=0;var Et=re===""?".":re+":";if(tt(O))for(var ot=0;ot<O.length;ot++)re=O[ot],we=Et+at(re,ot),Ne+=H(re,Q,ie,we,Ee);else if(ot=F(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(re=O.next()).done;)re=re.value,we=Et+at(re,ot++),Ne+=H(re,Q,ie,we,Ee);else if(we==="object"){if(typeof O.then=="function")return H(pt(O),Q,ie,re,Ee);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(O,Q,ie){if(O==null)return O;var re=[],Ee=0;return H(O,re,"","",function(we){return Q.call(ie,we,Ee++)}),re}function fe(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:ne,forEach:function(O,Q,ie){ne(O,function(){Q.apply(this,arguments)},ie)},count:function(O){var Q=0;return ne(O,function(){Q++}),Q},toArray:function(O){return ne(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=w,Se.Children=He,Se.Component=ge,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=ve,Se.StrictMode=a,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Q,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),Ee=O.key;if(Q!=null)for(we in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Q.ref===void 0||(re[we]=Q[we]);var we=arguments.length-2;if(we===1)re.children=ie;else if(1<we){for(var Ne=Array(we),Et=0;Et<we;Et++)Ne[Et]=arguments[Et+2];re.children=Ne}return C(O.type,Ee,re)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,Q,ie){var re,Ee={},we=null;if(Q!=null)for(re in Q.key!==void 0&&(we=""+Q.key),Q)A.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Q[re]);var Ne=arguments.length-2;if(Ne===1)Ee.children=ie;else if(1<Ne){for(var Et=Array(Ne),ot=0;ot<Ne;ot++)Et[ot]=arguments[ot+2];Ee.children=Et}if(O&&O.defaultProps)for(re in Ne=O.defaultProps,Ne)Ee[re]===void 0&&(Ee[re]=Ne[re]);return C(O,we,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:y,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:fe}},Se.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Se.startTransition=function(O){var Q=I.T,ie={};I.T=ie;try{var re=O(),Ee=I.S;Ee!==null&&Ee(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,Ve)}catch(we){Ve(we)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),I.T=Q}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,Q,ie){return I.H.useActionState(O,Q,ie)},Se.useCallback=function(O,Q){return I.H.useCallback(O,Q)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},Se.useEffect=function(O,Q){return I.H.useEffect(O,Q)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,Q,ie){return I.H.useImperativeHandle(O,Q,ie)},Se.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},Se.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},Se.useMemo=function(O,Q){return I.H.useMemo(O,Q)},Se.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},Se.useReducer=function(O,Q,ie){return I.H.useReducer(O,Q,ie)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,Q,ie){return I.H.useSyncExternalStore(O,Q,ie)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.3",Se}var z_;function Rm(){return z_||(z_=1,Vd.exports=kb()),Vd.exports}var Ke=Rm();const B_=Ob(Ke);var kd={exports:{}},wo={},Ud={exports:{}},Ld={};var q_;function Ub(){return q_||(q_=1,(function(s){function e(H,ne){var fe=H.length;H.push(ne);e:for(;0<fe;){var Ve=fe-1>>>1,He=H[Ve];if(0<o(He,ne))H[Ve]=ne,H[fe]=He,fe=Ve;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ne=H[0],fe=H.pop();if(fe!==ne){H[0]=fe;e:for(var Ve=0,He=H.length,O=He>>>1;Ve<O;){var Q=2*(Ve+1)-1,ie=H[Q],re=Q+1,Ee=H[re];if(0>o(ie,fe))re<He&&0>o(Ee,ie)?(H[Ve]=Ee,H[re]=fe,Ve=re):(H[Ve]=ie,H[Q]=fe,Ve=Q);else if(re<He&&0>o(Ee,fe))H[Ve]=Ee,H[re]=fe,Ve=re;else break e}}return ne}function o(H,ne){var fe=H.sortIndex-ne.sortIndex;return fe!==0?fe:H.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,w=null,M=3,F=!1,J=!1,se=!1,ee=!1,ge=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Me(H){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=H)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function tt(H){if(se=!1,Me(H),!J)if(i(g)!==null)J=!0,ze||(ze=!0,U());else{var ne=i(_);ne!==null&&pt(tt,ne.startTime-H)}}var ze=!1,I=-1,A=5,C=-1;function V(){return ee?!0:!(s.unstable_now()-C<A)}function N(){if(ee=!1,ze){var H=s.unstable_now();C=H;var ne=!0;try{e:{J=!1,se&&(se=!1,me(I),I=-1),F=!0;var fe=M;try{t:{for(Me(H),w=i(g);w!==null&&!(w.expirationTime>H&&V());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,M=w.priorityLevel;var He=Ve(w.expirationTime<=H);if(H=s.unstable_now(),typeof He=="function"){w.callback=He,Me(H),ne=!0;break t}w===i(g)&&a(g),Me(H)}else a(g);w=i(g)}if(w!==null)ne=!0;else{var O=i(_);O!==null&&pt(tt,O.startTime-H),ne=!1}}break e}finally{w=null,M=fe,F=!1}ne=void 0}}finally{ne?U():ze=!1}}}var U;if(typeof ve=="function")U=function(){ve(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,at=x.port2;x.port1.onmessage=N,U=function(){at.postMessage(null)}}else U=function(){ge(N,0)};function pt(H,ne){I=ge(function(){H(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var fe=M;M=ne;try{return H()}finally{M=fe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=M;M=H;try{return ne()}finally{M=fe}},s.unstable_scheduleCallback=function(H,ne,fe){var Ve=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,H){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,H={id:S++,callback:ne,priorityLevel:H,startTime:fe,expirationTime:He,sortIndex:-1},fe>Ve?(H.sortIndex=fe,e(_,H),i(g)===null&&H===i(_)&&(se?(me(I),I=-1):se=!0,pt(tt,fe-Ve))):(H.sortIndex=He,e(g,H),J||F||(J=!0,ze||(ze=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ne=M;return function(){var fe=M;M=ne;try{return H.apply(this,arguments)}finally{M=fe}}}})(Ld)),Ld}var H_;function Lb(){return H_||(H_=1,Ud.exports=Ub()),Ud.exports}var jd={exports:{}},sn={};var G_;function jb(){if(G_)return sn;G_=1;var s=Rm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},sn.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},sn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},sn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},sn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(g,{crossOrigin:w,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},sn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},sn.requestFormReset=function(g){a.d.r(g)},sn.unstable_batchedUpdates=function(g,_){return g(_)},sn.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var F_;function Pb(){if(F_)return jd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=jb(),jd.exports}var Q_;function zb(){if(Q_)return wo;Q_=1;var s=Lb(),e=Rm(),i=Pb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ge:return"Profiler";case ee:return"StrictMode";case tt:return"Suspense";case ze:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ve:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case Me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var pt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],He=-1;function O(t){return{current:t}}function Q(t){0>He||(t.current=Ve[He],Ve[He]=null,He--)}function ie(t,n){He++,Ve[He]=t.current,t.current=n}var re=O(null),Ee=O(null),we=O(null),Ne=O(null);function Et(t,n){switch(ie(we,n),ie(Ee,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=l_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),ie(re,t)}function ot(){Q(re),Q(Ee),Q(we)}function Fi(t){t.memoizedState!==null&&ie(Ne,t);var n=re.current,r=l_(n,t.type);n!==r&&(ie(Ee,t),ie(re,r))}function mi(t){Ee.current===t&&(Q(re),Q(Ee)),Ne.current===t&&(Q(Ne),Eo._currentValue=fe)}var Rs,Qi;function Mn(t){if(Rs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Rs=n&&n[1]||"",Qi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Qi}var Cs=!1;function Yi(t,n){if(!t||Cs)return"";Cs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){z=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Cs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Mn(r):""}function Ki(t,n){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Yi(t.type,!1);case 11:return Yi(t.type.render,!1);case 1:return Yi(t.type,!0);case 31:return Mn("Activity");default:return""}}function he(t){try{var n="",r=null;do n+=Ki(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Z=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,Ce=s.unstable_cancelCallback,Bt=s.unstable_shouldYield,Tt=s.unstable_requestPaint,te=s.unstable_now,Lt=s.unstable_getCurrentPriorityLevel,fn=s.unstable_ImmediatePriority,Vn=s.unstable_UserBlockingPriority,dn=s.unstable_NormalPriority,gi=s.unstable_LowPriority,Jn=s.unstable_IdlePriority,Xi=s.log,$i=s.unstable_setDisableYieldValue,nn=null,yt=null;function Qt(t){if(typeof Xi=="function"&&$i(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(nn,t)}catch{}}var Xe=Math.clz32?Math.clz32:lu,au=Math.log,ha=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(au(t)/ha|0)|0}var pi=256,xr=262144,xt=4194304;function yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=yi(l):(p&=E,p!==0?h=yi(p):r||(r=E&~t,r!==0&&(h=yi(r))))):(E=l&~f,E!==0?h=yi(E):p!==0?h=yi(p):r||(r=l&~t,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Xe(r),K=1<<G;E[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&Cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Al(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function wl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ir(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Wn(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ei=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ei,qt="__reactProps$"+ei,Ei="__reactContainer$"+ei,fa="__reactEvents$"+ei,jh="__reactListeners$"+ei,cu="__reactHandles$"+ei,hu="__reactResources$"+ei,Ti="__reactMarker$"+ei;function da(t){delete t[Rt],delete t[qt],delete t[fa],delete t[jh],delete t[cu]}function bi(t){var n=t[Rt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Rt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=m_(t);t!==null;){if(r=t[Rt])return r;t=m_(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[Rt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[Ti]=!0}var xl=new Set,Rl={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Rl[t]=n,t=0;t<n.length;t++)xl.add(n[t])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Nl={};function fu(t){return Z.call(Nl,t)?!0:Z.call(Il,t)?!1:Cl.test(t)?Nl[t]=!0:(Il[t]=!0,!1)}function ma(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function An(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function It(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=Dl(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function mn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ol(t,p,Ht(n)):r!=null?Ol(t,p,Ht(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ht(E):t.removeAttribute("name")}function du(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Je(t)}function Ol(t,n,r){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ns(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function Ds(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Je(t)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Vl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ml(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ml(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var kl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ri=null;function Or(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(a(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Nr(l)}break e;case"textarea":mu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(t,!!r.multiple,n,!1)}}}var _a=!1;function Vs(t,n,r){if(_a)return t(n,r);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(Ms!==null||Ri!==null)&&(uc(),Ms&&(n=Ms,t=Ri,Ri=Ms=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ni(t,n){var r=t.stateNode;if(r===null)return null;var l=r[qt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Ln)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Mr=!1}var Ci=null,Ul=null,Vr=null;function Ll(){if(Vr)return Vr;var t,n=Ul,r=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Vr=h.slice(t,1<l?1-l:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function ii(){return!1}function Yt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ii,this.isPropagationStopped=ii,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Yt(Wi),ks=w({},Wi,{view:0,detail:0}),jl=Yt(ks),Us,va,Ni,Ea=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Us=t.screenX-Ni.screenX,va=t.screenY-Ni.screenY):va=Us=0,Ni=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Pl=Yt(Ea),Ur=w({},Ea,{dataTransfer:0}),yu=Yt(Ur),_u=w({},ks,{relatedTarget:0}),Lr=Yt(_u),zl=w({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Yt(zl),Ta=w({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Yt(Ta),Tu=w({},Wi,{data:0}),Di=Yt(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Ls(){return wu}var un=w({},ks,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Yt(un),Ru=w({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Yt(Ru),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=Yt(u),v=w({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Yt(v),L=w({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Yt(L),W=w({},Wi,{newState:0,oldState:0}),xe=Yt(W),bt=[9,13,27,32],Qe=Ln&&"CompositionEvent"in window,ft=null;Ln&&"documentMode"in document&&(ft=document.documentMode);var jn=Ln&&"TextEvent"in window&&!ft,Oi=Ln&&(!Qe||ft&&8<ft&&11>=ft),si=" ",ri=!1;function jr(t,n){switch(t){case"keyup":return bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function nT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return t=n.data,t===si&&ri?null:t;default:return null}}function iT(t,n){if(Sa)return t==="compositionend"||!Qe&&jr(t,n)?(t=Ll(),Vr=Ul=Ci=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sT[t.type]:n==="textarea"}function _g(t,n,r,l){Ms?Ri?Ri.push(l):Ri=[l]:Ms=l,n=pc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Bl=null,ql=null;function rT(t){e_(t,0)}function Cu(t){var n=Sn(t);if(Nr(n))return t}function vg(t,n){if(t==="change")return n}var Eg=!1;if(Ln){var Ph;if(Ln){var zh="oninput"in document;if(!zh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),zh=typeof Tg.oninput=="function"}Ph=zh}else Ph=!1;Eg=Ph&&(!document.documentMode||9<document.documentMode)}function bg(){Bl&&(Bl.detachEvent("onpropertychange",Sg),ql=Bl=null)}function Sg(t){if(t.propertyName==="value"&&Cu(ql)){var n=[];_g(n,ql,t,Un(t)),Vs(rT,n)}}function aT(t,n,r){t==="focusin"?(bg(),Bl=n,ql=r,Bl.attachEvent("onpropertychange",Sg)):t==="focusout"&&bg()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(ql)}function oT(t,n){if(t==="click")return Cu(n)}function uT(t,n){if(t==="input"||t==="change")return Cu(n)}function cT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:cT;function Hl(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Z.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,n){var r=Ag(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ag(r)}}function xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xi(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hT=Ln&&"documentMode"in document&&11>=document.documentMode,Aa=null,qh=null,Gl=null,Hh=!1;function Cg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||Aa==null||Aa!==xi(l)||(l=Aa,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Hl(Gl,l)||(Gl=l,l=pc(qh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Aa)))}function Pr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var wa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Gh={},Ig={};Ln&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zr(t){if(Gh[t])return Gh[t];if(!wa[t])return t;var n=wa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ig)return Gh[t]=n[r];return t}var Ng=zr("animationend"),Dg=zr("animationiteration"),Og=zr("animationstart"),fT=zr("transitionrun"),dT=zr("transitionstart"),mT=zr("transitioncancel"),Mg=zr("transitionend"),Vg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ai(t,n){Vg.set(t,n),Ai(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],xa=0,Qh=0;function Nu(){for(var t=xa,n=Qh=xa=0;n<t;){var r=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&kg(r,h,f)}}function Du(t,n,r,l){Pn[xa++]=t,Pn[xa++]=n,Pn[xa++]=r,Pn[xa++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return Du(t,n,r,l),Ou(t)}function Br(t,n){return Du(t,null,null,n),Ou(t)}function kg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Xe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<fo)throw fo=0,id=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function gT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,r,l){return new gT(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var r=t.alternate;return r===null?(r=xn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ug(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=Eb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=xn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return qr(r.children,h,f,n);case ee:p=8,h|=24;break;case ge:return t=xn(12,r,n,h|2),t.elementType=ge,t.lanes=f,t;case tt:return t=xn(13,r,n,h),t.elementType=tt,t.lanes=f,t;case ze:return t=xn(19,r,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:p=10;break e;case me:p=9;break e;case Me:p=11;break e;case I:p=14;break e;case A:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=xn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function qr(t,n,r,l){return t=xn(7,t,l,n),t.lanes=r,t}function Xh(t,n,r){return t=xn(6,t,null,n),t.lanes=r,t}function Lg(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function $h(t,n,r){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jg=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var r=jg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:he(n)},jg.set(t,n),n)}return{value:t,source:n,stack:he(n)}}var Ca=[],Ia=0,Vu=null,Fl=0,Bn=[],qn=0,js=null,Mi=1,Vi="";function ns(t,n){Ca[Ia++]=Fl,Ca[Ia++]=Vu,Vu=t,Fl=n}function Pg(t,n,r){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=js,js=t;var l=Mi;t=Vi;var h=32-Xe(l)-1;l&=~(1<<h),r+=1;var f=32-Xe(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Mi=1<<32-Xe(n)+h|r<<h|l,Vi=f+t}else Mi=1<<f|r<<h|l,Vi=t}function Jh(t){t.return!==null&&(ns(t,1),Pg(t,1,0))}function Zh(t){for(;t===Vu;)Vu=Ca[--Ia],Ca[Ia]=null,Fl=Ca[--Ia],Ca[Ia]=null;for(;t===js;)js=Bn[--qn],Bn[qn]=null,Vi=Bn[--qn],Bn[qn]=null,Mi=Bn[--qn],Bn[qn]=null}function zg(t,n){Bn[qn++]=Mi,Bn[qn++]=Vi,Bn[qn++]=js,Mi=n.id,Vi=n.overflow,js=t}var Kt=null,ut=null,Be=!1,Ps=null,Hn=!1,Wh=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(zn(n,t)),Wh}function Bg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Rt]=t,n[qt]=l,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<go.length;r++)Oe(go[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),du(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Ds(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||s_(n.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||zs(t,!0)}function qg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Kt=Kt.return}}function Na(t){if(t!==Kt)return!1;if(!Be)return qg(t),Be=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&ut&&zs(t),qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=d_(t)}else n===27?(n=ut,er(t.type)?(t=Sd,Sd=null,ut=t):ut=n):ut=Kt?Fn(t.stateNode.nextSibling):null;return!0}function Hr(){ut=Kt=null,Be=!1}function ef(){var t=Ps;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Ps=null),t}function Ql(t){Ps===null?Ps=[t]:Ps.push(t)}var tf=O(null),Gr=null,is=null;function Bs(t,n,r){ie(tf,n._currentValue),n._currentValue=r}function ss(t){t._currentValue=tf.current,Q(tf)}function nf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),nf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;wn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ne.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Eo):t=[Eo])}h=h.return}t!==null&&sf(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Hg(Gr,t)}function Uu(t,n){return Gr===null&&Fr(t),Hg(t,n)}function Hg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return r}var pT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yT=s.unstable_scheduleCallback,_T=s.unstable_NormalPriority,Nt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new pT,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&yT(_T,function(){t.controller.abort()})}var Kl=null,af=0,Oa=0,Ma=null;function vT(t,n){if(Kl===null){var r=Kl=[];af=0,Oa=ud(),Ma={status:"pending",value:void 0,then:function(l){r.push(l)}}}return af++,n.then(Gg,Gg),n}function Gg(){if(--af===0&&Kl!==null){Ma!==null&&(Ma.status="fulfilled");var t=Kl;Kl=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ET(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Fg=H.S;H.S=function(t,n){Cy=te(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vT(t,n),Fg!==null&&Fg(t,n)};var Qr=O(null);function lf(){var t=Qr.current;return t!==null?t:lt.pooledCache}function Lu(t,n){n===null?ie(Qr,Qr.current):ie(Qr,n.pool)}function Qg(){var t=lf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Va=Error(a(460)),of=Error(a(474)),ju=Error(a(542)),Pu={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ti,ti),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$g(t),t}throw Kr=n,Va}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Kr=r,Va):r}}var Kr=null;function Xg(){if(Kr===null)throw Error(a(459));var t=Kr;return Kr=null,t}function $g(t){if(t===Va||t===ju)throw Error(a(483))}var ka=null,Xl=0;function zu(t){var n=Xl;return Xl+=1,ka===null&&(ka=[]),Kg(ka,t,n)}function $l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ts(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,Y){return D===null||D.tag!==6?(D=Xh(j,k.mode,Y),D.return=k,D):(D=h(D,j),D.return=k,D)}function R(k,D,j,Y){var de=j.type;return de===se?G(k,D,j.props.children,Y,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Yr(de)===D.type)?(D=h(D,j.props),$l(D,j),D.return=k,D):(D=Mu(j.type,j.key,j.props,null,k.mode,Y),$l(D,j),D.return=k,D)}function P(k,D,j,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=$h(j,k.mode,Y),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function G(k,D,j,Y,de){return D===null||D.tag!==7?(D=qr(j,k.mode,Y,de),D.return=k,D):(D=h(D,j),D.return=k,D)}function K(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=Mu(D.type,D.key,D.props,null,k.mode,j),$l(j,D),j.return=k,j;case J:return D=$h(D,k.mode,j),D.return=k,D;case A:return D=Yr(D),K(k,D,j)}if(pt(D)||U(D))return D=qr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return K(k,zu(D),j);if(D.$$typeof===ve)return K(k,Uu(k,D),j);Bu(k,D)}return null}function z(k,D,j,Y){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(k,D,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===de?R(k,D,j,Y):null;case J:return j.key===de?P(k,D,j,Y):null;case A:return j=Yr(j),z(k,D,j,Y)}if(pt(j)||U(j))return de!==null?null:G(k,D,j,Y,null);if(typeof j.then=="function")return z(k,D,zu(j),Y);if(j.$$typeof===ve)return z(k,D,Uu(k,j),Y);Bu(k,j)}return null}function q(k,D,j,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(D,k,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?j:Y.key)||null,R(D,k,Y,de);case J:return k=k.get(Y.key===null?j:Y.key)||null,P(D,k,Y,de);case A:return Y=Yr(Y),q(k,D,j,Y,de)}if(pt(Y)||U(Y))return k=k.get(j)||null,G(D,k,Y,de,null);if(typeof Y.then=="function")return q(k,D,j,zu(Y),de);if(Y.$$typeof===ve)return q(k,D,j,Uu(D,Y),de);Bu(D,Y)}return null}function oe(k,D,j,Y){for(var de=null,Ge=null,ue=D,Ie=D=0,Ue=null;ue!==null&&Ie<j.length;Ie++){ue.index>Ie?(Ue=ue,ue=null):Ue=ue.sibling;var Fe=z(k,ue,j[Ie],Y);if(Fe===null){ue===null&&(ue=Ue);break}t&&ue&&Fe.alternate===null&&n(k,ue),D=f(Fe,D,Ie),Ge===null?de=Fe:Ge.sibling=Fe,Ge=Fe,ue=Ue}if(Ie===j.length)return r(k,ue),Be&&ns(k,Ie),de;if(ue===null){for(;Ie<j.length;Ie++)ue=K(k,j[Ie],Y),ue!==null&&(D=f(ue,D,Ie),Ge===null?de=ue:Ge.sibling=ue,Ge=ue);return Be&&ns(k,Ie),de}for(ue=l(ue);Ie<j.length;Ie++)Ue=q(ue,k,Ie,j[Ie],Y),Ue!==null&&(t&&Ue.alternate!==null&&ue.delete(Ue.key===null?Ie:Ue.key),D=f(Ue,D,Ie),Ge===null?de=Ue:Ge.sibling=Ue,Ge=Ue);return t&&ue.forEach(function(rr){return n(k,rr)}),Be&&ns(k,Ie),de}function ye(k,D,j,Y){if(j==null)throw Error(a(151));for(var de=null,Ge=null,ue=D,Ie=D=0,Ue=null,Fe=j.next();ue!==null&&!Fe.done;Ie++,Fe=j.next()){ue.index>Ie?(Ue=ue,ue=null):Ue=ue.sibling;var rr=z(k,ue,Fe.value,Y);if(rr===null){ue===null&&(ue=Ue);break}t&&ue&&rr.alternate===null&&n(k,ue),D=f(rr,D,Ie),Ge===null?de=rr:Ge.sibling=rr,Ge=rr,ue=Ue}if(Fe.done)return r(k,ue),Be&&ns(k,Ie),de;if(ue===null){for(;!Fe.done;Ie++,Fe=j.next())Fe=K(k,Fe.value,Y),Fe!==null&&(D=f(Fe,D,Ie),Ge===null?de=Fe:Ge.sibling=Fe,Ge=Fe);return Be&&ns(k,Ie),de}for(ue=l(ue);!Fe.done;Ie++,Fe=j.next())Fe=q(ue,k,Ie,Fe.value,Y),Fe!==null&&(t&&Fe.alternate!==null&&ue.delete(Fe.key===null?Ie:Fe.key),D=f(Fe,D,Ie),Ge===null?de=Fe:Ge.sibling=Fe,Ge=Fe);return t&&ue.forEach(function(Db){return n(k,Db)}),Be&&ns(k,Ie),de}function rt(k,D,j,Y){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===se){if(D.tag===7){r(k,D.sibling),Y=h(D,j.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Yr(de)===D.type){r(k,D.sibling),Y=h(D,j.props),$l(Y,j),Y.return=k,k=Y;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===se?(Y=qr(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Mu(j.type,j.key,j.props,null,k.mode,Y),$l(Y,j),Y.return=k,k=Y)}return p(k);case J:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),Y=h(D,j.children||[]),Y.return=k,k=Y;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Y=$h(j,k.mode,Y),Y.return=k,k=Y}return p(k);case A:return j=Yr(j),rt(k,D,j,Y)}if(pt(j))return oe(k,D,j,Y);if(U(j)){if(de=U(j),typeof de!="function")throw Error(a(150));return j=de.call(j),ye(k,D,j,Y)}if(typeof j.then=="function")return rt(k,D,zu(j),Y);if(j.$$typeof===ve)return rt(k,D,Uu(k,j),Y);Bu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),Y=h(D,j),Y.return=k,k=Y):(r(k,D),Y=Xh(j,k.mode,Y),Y.return=k,k=Y),p(k)):r(k,D)}return function(k,D,j,Y){try{Xl=0;var de=rt(k,D,j,Y);return ka=null,de}catch(ue){if(ue===Va||ue===ju)throw ue;var Ge=xn(29,ue,null,k.mode);return Ge.lanes=Y,Ge.return=k,Ge}}}var Xr=Jg(!0),Zg=Jg(!1),qs=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),kg(t,null,r),n}return Du(t,l,n,r),Ou(t)}function Jl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}function hf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function Zl(){if(ff){var t=Ma;if(t!==null)throw t}}function Wl(t,n,r,l){ff=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,G=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(ke&z)===z:(l&z)===z){z!==0&&z===Oa&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ye=E;z=n;var rt=r;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){K=oe.call(rt,K,z);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,z=typeof oe=="function"?oe.call(rt,K,z):oe,z==null)break e;K=w({},K,z);break e;case 2:qs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,R=K):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Xs|=p,t.lanes=p,t.memoizedState=K}}function Wg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ep(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wg(r[t],n)}var Ua=O(null),qu=O(0);function tp(t,n){t=ds,ie(qu,t),ie(Ua,n),ds=t|n.baseLanes}function df(){ie(qu,ds),ie(Ua,Ua.current)}function mf(){ds=qu.current,Q(Ua),Q(qu)}var Rn=O(null),Gn=null;function Fs(t){var n=t.alternate;ie(St,St.current&1),ie(Rn,t),Gn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Gn=t)}function gf(t){ie(St,St.current),ie(Rn,t),Gn===null&&(Gn=t)}function np(t){t.tag===22?(ie(St,St.current),ie(Rn,t),Gn===null&&(Gn=t)):Qs()}function Qs(){ie(St,St.current),ie(Rn,Rn.current)}function Cn(t){Q(Rn),Gn===t&&(Gn=null),Q(St)}var St=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||bd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Re=null,it=null,Dt=null,Gu=!1,La=!1,$r=!1,Fu=0,eo=0,ja=null,TT=0;function _t(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wn(t[r],n[r]))return!1;return!0}function yf(t,n,r,l,h,f){return rs=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Pp:Of,$r=!1,f=r(l,h),$r=!1,La&&(f=sp(n,r,l,h)),ip(t),f}function ip(t){H.H=io;var n=it!==null&&it.next!==null;if(rs=0,Dt=it=Re=null,Gu=!1,eo=0,ja=null,n)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&ku(t)&&(Ot=!0))}function sp(t,n,r,l){Re=t;var h=0;do{if(La&&(ja=null),eo=0,La=!1,25<=h)throw Error(a(301));if(h+=1,Dt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zp,f=n(r,l)}while(La);return f}function bT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?to(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Re.flags|=1024),n}function _f(){var t=Fu!==0;return Fu=0,t}function vf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}rs=0,Dt=it=Re=null,La=!1,eo=Fu=0,ja=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function At(){if(it===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Dt===null?Re.memoizedState:Dt.next;if(n!==null)Dt=n,it=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(t){var n=eo;return eo+=1,ja===null&&(ja=[]),t=Kg(ja,t,n),n=Re,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Pp:Of),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return to(t);if(t.$$typeof===ve)return Xt(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function as(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=At();return bf(n,it,t)}function bf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(ke&K)===K:(rs&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Oa&&(G=!0);else if((rs&z)===z){P=P.next,z===Oa&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,Re.lanes|=z,Xs|=z;K=P.action,$r&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Re.lanes|=K,Xs|=K;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!wn(f,t.memoizedState)&&(Ot=!0,G&&(r=Ma,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function rp(t,n,r){var l=Re,h=At(),f=Be;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((it||h).memoizedState,r);if(p&&(h.memoizedState=r,Ot=!0),h=h.queue,xf(op.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},lp.bind(null,l,h,r,n),null),lt===null)throw Error(a(349));f||(rs&127)!==0||ap(l,n,r)}return r}function ap(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Qu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function lp(t,n,r,l){n.value=r,n.getSnapshot=l,up(n)&&cp(t)}function op(t,n,r){return r(function(){up(n)&&cp(t)})}function up(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wn(t,r)}catch{return!0}}function cp(t){var n=Br(t,2);n!==null&&En(n,t,2)}function Af(t){var n=cn();if(typeof t=="function"){var r=t;if(t=r(),$r){Qt(!0);try{r()}finally{Qt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function hp(t,n,r,l){return t.baseState=r,bf(t,it,typeof l=="function"?l:as)}function ST(t,n,r,l,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,fp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function fp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,l),R=H.S;R!==null&&R(p,E),dp(t,n,E)}catch(P){wf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,l),dp(t,n,f)}catch(P){wf(t,n,P)}}function dp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){mp(t,n,l)},function(l){return wf(t,n,l)}):mp(t,n,r)}function mp(t,n,r){n.status="fulfilled",n.value=r,gp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,fp(t,r)))}function wf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,gp(n),n=n.next;while(n!==l)}t.action=null}function gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pp(t,n){return n}function yp(t,n){if(Be){var r=lt.formState;if(r!==null){e:{var l=Re;if(Be){if(ut){t:{for(var h=ut,f=Hn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Fn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},r.queue=l,r=Up.bind(null,Re,l),l.dispatch=r,l=Af(!1),f=Df.bind(null,Re,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=ST.bind(null,Re,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function _p(t){var n=At();return vp(n,it,t)}function vp(t,n,r){if(n=bf(t,n,pp)[0],t=Ku(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(p){throw p===Va?ju:p}else l=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,Pa(9,{destroy:void 0},AT.bind(null,h,r),null)),[l,f,t]}function AT(t,n){t.action=n}function Ep(t){var n=At(),r=it;if(r!==null)return vp(n,r,t);At(),n=n.memoizedState,r=At();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Pa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Qu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Tp(){return At().memoizedState}function Xu(t,n,r,l){var h=cn();Re.flags|=t,h.memoizedState=Pa(1|n,{destroy:void 0},r,l===void 0?null:l)}function $u(t,n,r,l){var h=At();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&pf(l,it.memoizedState.deps)?h.memoizedState=Pa(n,f,r,l):(Re.flags|=t,h.memoizedState=Pa(1|n,f,r,l))}function bp(t,n){Xu(8390656,8,t,n)}function xf(t,n){$u(2048,8,t,n)}function wT(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Qu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Sp(t){var n=At().memoizedState;return wT({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(t,n){return $u(4,2,t,n)}function wp(t,n){return $u(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rp(t,n,r){r=r!=null?r.concat([t]):null,$u(4,4,xp.bind(null,n,t),r)}function Rf(){}function Cp(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ip(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),$r){Qt(!0);try{t()}finally{Qt(!1)}}return r.memoizedState=[l,n],l}function Cf(t,n,r){return r===void 0||(rs&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),Re.lanes|=t,Xs|=t,r)}function Np(t,n,r,l){return wn(r,n)?r:Ua.current!==null?(t=Cf(t,r,l),wn(t,n)||(Ot=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(ke&261930)===0?(Ot=!0,t.memoizedState=r):(t=Ny(),Re.lanes|=t,Xs|=t,n)}function Dp(t,n,r,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Df(t,!1,n,r);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=ET(R,l);no(t,n,G,Dn(t))}else no(t,n,l,Dn(t))}catch(K){no(t,n,{then:function(){},status:"rejected",reason:K},Dn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function xT(){}function If(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Op(t).queue;Dp(t,h,n,fe,r===null?xT:function(){return Mp(t),r(l)})}function Op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mp(t){var n=Op(t);n.next===null&&(n=t.alternate.memoizedState),no(t,n.next.queue,{},Dn())}function Nf(){return Xt(Eo)}function Vp(){return At().memoizedState}function kp(){return At().memoizedState}function RT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Hs(r);var l=Gs(n,t,r);l!==null&&(En(l,n,r),Jl(l,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function CT(t,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Lp(n,r):(r=Yh(t,n,r,l),r!==null&&(En(r,t,l),jp(r,n,l)))}function Up(t,n,r){var l=Dn();no(t,n,r,l)}function no(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Lp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,p))return Du(t,n,h,0),lt===null&&Nu(),!1}catch{}if(r=Yh(t,n,h,l),r!==null)return En(r,t,l),jp(r,n,l),!0}return!1}function Df(t,n,r,l){if(l={lane:2,revertLane:ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Yh(t,r,l,2),n!==null&&En(n,t,2)}function Ju(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Lp(t,n){La=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function jp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}var io={readContext:Xt,use:Yu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};io.useEffectEvent=_t;var Pp={readContext:Xt,use:Yu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:bp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,xp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=cn();n=n===void 0?null:n;var l=t();if($r){Qt(!0);try{t()}finally{Qt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=cn();if(r!==void 0){var h=r(n);if($r){Qt(!0);try{r(n)}finally{Qt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Up.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=cn();return Cf(r,t,n)},useTransition:function(){var t=Af(!1);return t=Dp.bind(null,Re,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Re,h=cn();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),lt===null)throw Error(a(349));(ke&127)!==0||ap(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,bp(op.bind(null,l,f,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},lp.bind(null,l,f,r,n),null),r},useId:function(){var t=cn(),n=lt.identifierPrefix;if(Be){var r=Vi,l=Mi;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=TT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return cn().memoizedState=RT.bind(null,Re)},useEffectEvent:function(t){var n=cn(),r={impl:t};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:Xt,use:Yu,useCallback:Cp,useContext:Xt,useEffect:xf,useImperativeHandle:Rp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Ip,useReducer:Ku,useRef:Tp,useState:function(){return Ku(as)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=At();return Np(r,it.memoizedState,t,n)},useTransition:function(){var t=Ku(as)[0],n=At().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Nf,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var r=At();return hp(r,it,t,n)},useMemoCache:Tf,useCacheRefresh:kp};Of.useEffectEvent=Sp;var zp={readContext:Xt,use:Yu,useCallback:Cp,useContext:Xt,useEffect:xf,useImperativeHandle:Rp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Ip,useReducer:Sf,useRef:Tp,useState:function(){return Sf(as)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=At();return it===null?Cf(r,t,n):Np(r,it.memoizedState,t,n)},useTransition:function(){var t=Sf(as)[0],n=At().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Nf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var r=At();return it!==null?hp(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:kp};zp.useEffectEvent=Sp;function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Hs(l);h.payload=n,r!=null&&(h.callback=r),n=Gs(t,h,l),n!==null&&(En(n,t,l),Jl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Dn(),h=Hs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Gs(t,h,l),n!==null&&(En(n,t,l),Jl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),l=Hs(r);l.tag=2,n!=null&&(l.callback=n),n=Gs(t,l,r),n!==null&&(En(n,t,r),Jl(n,t,r))}};function Bp(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,l)||!Hl(h,f):!0}function qp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Hp(t){Iu(t)}function Gp(t){console.error(t)}function Fp(t){Iu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,r){return r=Hs(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function Yp(t){return t=Hs(t),t.tag=3,t}function Kp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Qp(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Qp(n,r,l),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function IT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Da(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?cc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ad(t,l,h)),!1;case 22:return r.flags|=65536,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ad(t,l,h)),!1}throw Error(a(435,r.tag))}return ad(t,l,h),cc(),!1}if(Be)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Wh&&(t=Error(a(422),{cause:l}),Ql(zn(t,r)))):(l!==Wh&&(n=Error(a(423),{cause:l}),Ql(zn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,r),h=kf(t.stateNode,l,h),hf(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:l});if(f=zn(f,r),ho===null?ho=[f]:ho.push(f),vt!==4&&(vt=2),n===null)return!0;l=zn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kf(r.stateNode,l,t),hf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Yp(h),Kp(h,t,r,l),hf(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Ot=!1;function $t(t,n,r,l){n.child=t===null?Zg(n,null,r,l):Xr(n,t.child,r,l)}function Xp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Fr(n),l=yf(t,n,r,p,f,h),E=_f(),t!==null&&!Ot?(vf(t,n,h),ls(t,n,h)):(Be&&E&&Jh(n),n.flags|=1,$t(t,n,l,h),n.child)}function $p(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(t,n,f,l,h)):(t=Mu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(p,l)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ts(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=l=f,Gf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,ls(t,n,h)}return Lf(t,n,r,l,h)}function Zp(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Wp(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?tp(n,f):df(),np(n);else return l=n.lanes=536870912,Wp(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Lu(n,f.cachePool),tp(n,f),Qs(),n.memoizedState=null):(t!==null&&Lu(n,null),df(),Qs());return $t(t,n,h,r),n.child}function so(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,r,l,h){var f=lf();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),df(),np(n),t!==null&&Da(t,n,l,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,r){return Xr(n,t.child,null,r),t=Wu(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function NT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Wu(n,l),n.lanes=536870912,so(null,t);if(gf(n),(t=ut)?(t=f_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(t),r.return=n,n.child=r,Kt=n,ut=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return Wu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ot||Da(t,n,r,!1),h=(r&t.childLanes)!==0,Ot||h){if(l=lt,l!==null&&(p=wl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(t,p),En(l,t,p),Uf;cc(),n=ey(t,n,r)}else t=f.treeContext,ut=Fn(p.nextSibling),Kt=n,Be=!0,Ps=null,Hn=!1,t!==null&&zg(n,t),n=Wu(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,l,h){return Fr(n),r=yf(t,n,r,l,void 0,h),l=_f(),t!==null&&!Ot?(vf(t,n,h),ls(t,n,h)):(Be&&l&&Jh(n),n.flags|=1,$t(t,n,r,h),n.child)}function ty(t,n,r,l,h,f){return Fr(n),n.updateQueue=null,r=sp(n,l,r,h),ip(t),l=_f(),t!==null&&!Ot?(vf(t,n,f),ls(t,n,f)):(Be&&l&&Jh(n),n.flags|=1,$t(t,n,r,f),n.child)}function ny(t,n,r,l,h){if(Fr(n),n.stateNode===null){var f=Ra,p=r.contextType;typeof p=="object"&&p!==null&&(f=Xt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},uf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Xt(p):Ra,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Jr(r,E);f.props=R;var P=f.context,G=r.contextType;p=Ra,typeof G=="object"&&G!==null&&(p=Xt(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&qp(n,f,l,p),qs=!1;var z=n.memoizedState;f.state=z,Wl(n,l,f,h),Zl(),P=n.memoizedState,E||z!==P||qs?(typeof K=="function"&&(Mf(n,r,K,l),P=n.memoizedState),(R=qs||Bp(n,r,R,l,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,cf(t,n),p=n.memoizedProps,G=Jr(r,p),f.props=G,K=n.pendingProps,z=f.context,P=r.contextType,R=Ra,typeof P=="object"&&P!==null&&(R=Xt(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==R)&&qp(n,f,l,R),qs=!1,z=n.memoizedState,f.state=z,Wl(n,l,f,h),Zl();var q=n.memoizedState;p!==K||z!==q||qs||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Mf(n,r,E,l),q=n.memoizedState),(G=qs||Bp(n,r,G,l,z,q,R)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ec(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):$t(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function iy(t,n,r,l){return Hr(),n.flags|=256,$t(t,n,r,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Qg()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function sy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Be){if(h?Fs(n):Qs(),(t=ut)?(t=f_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(t),r.return=n,n.child=r,Kt=n,ut=null)):t=null,t===null)throw zs(n);return bd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Qs(),h=n.mode,E=tc({mode:"hidden",children:E},h),l=qr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(r),l.childLanes=zf(t,p,r),n.memoizedState=jf,so(null,l)):(Fs(n),Bf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(Qs(),n.child=t.child,n.flags|=128,n=null):(Qs(),E=l.fallback,h=n.mode,l=tc({mode:"visible",children:l.children},h),E=qr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=zf(t,p,r),n.memoizedState=jf,n=so(null,l));else if(Fs(n),bd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Ql({value:l,source:null,stack:null}),n=qf(t,n,r)}else if(Ot||Da(t,n,r,!1),p=(r&t.childLanes)!==0,Ot||p){if(p=lt,p!==null&&(l=wl(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Br(t,l),En(p,t,l),Uf;Td(E)||cc(),n=qf(t,n,r)}else Td(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ut=Fn(E.nextSibling),Kt=n,Be=!0,Ps=null,Hn=!1,t!==null&&zg(n,t),n=Bf(n,l.children),n.flags|=4096);return n}return h?(Qs(),E=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=ts(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=ts(P,E):(E=qr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,so(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(R=Nt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Qg(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=zf(t,p,r),n.memoizedState=jf,so(t.child,l)):(Fs(n),r=t.child,t=r.sibling,r=ts(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Bf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return Xr(n,t.child,null,r),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nf(t.return,n,r)}function Hf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ay(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=St.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(St,p),$t(t,n,l,r),l=Be?Fl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,r,n);else if(t.tag===19)ry(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Hu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,l);break;case"together":Hf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Da(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ts(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ts(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function DT(t,n,r){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Bs(n,Nt,t.memoizedState.cache),Hr();break;case 27:case 5:Fi(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sy(t,n,r):(Fs(n),t=ls(t,n,r),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Da(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ay(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:return n.lanes=0,Zp(t,n,r,n.pendingProps);case 24:Bs(n,Nt,t.memoizedState.cache)}return ls(t,n,r)}function ly(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Gf(t,r)&&(n.flags&128)===0)return Ot=!1,DT(t,n,r);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(n.flags&1048576)!==0&&Pg(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Jr(t,l),n.tag=1,n=ny(null,n,t,l,r)):(n.tag=0,n=Lf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Me){n.tag=11,n=Xp(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=$p(null,n,t,l,r);break e}}throw n=at(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Jr(l,n.pendingProps),ny(t,n,l,h,r);case 3:e:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,cf(t,n),Wl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Bs(n,Nt,l),l!==f.cache&&sf(n,[Nt],r,!0),Zl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,l,r);break e}else if(l!==h){h=zn(Error(a(424)),n),Ql(h),n=iy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Fn(t.firstChild),Kt=n,Be=!0,Ps=null,Hn=!0,r=Zg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),l===h){n=ls(t,n,r);break e}$t(t,n,l,r)}n=n.child}return n;case 26:return ec(t,n),t===null?(r=__(n.type,null,n.pendingProps,null))?n.memoizedState=r:Be||(r=n.type,t=n.pendingProps,l=yc(we.current).createElement(r),l[Rt]=n,l[qt]=t,Jt(l,r,t),Ct(l),n.stateNode=l):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fi(n),t===null&&Be&&(l=n.stateNode=g_(n.type,n.pendingProps,we.current),Kt=n,Hn=!0,h=ut,er(n.type)?(Sd=h,ut=Fn(l.firstChild)):ut=h),$t(t,n,n.pendingProps.children,r),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=lb(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Kt=n,ut=Fn(l.firstChild),Hn=!1,h=!0):h=!1),h||zs(n)),Fi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,_d(h,f)?l=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,bT,null,null,r),Eo._currentValue=h),ec(t,n),$t(t,n,l,r),n.child;case 6:return t===null&&Be&&((t=r=ut)&&(r=ob(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Kt=n,ut=null,t=!0):t=!1),t||zs(n)),null;case 13:return sy(t,n,r);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):$t(t,n,l,r),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,r);case 7:return $t(t,n,n.pendingProps,r),n.child;case 8:return $t(t,n,n.pendingProps.children,r),n.child;case 12:return $t(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bs(n,n.type,l.value),$t(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Fr(n),h=Xt(h),l=l(h),n.flags|=1,$t(t,n,l,r),n.child;case 14:return $p(t,n,n.type,n.pendingProps,r);case 15:return Jp(t,n,n.type,n.pendingProps,r);case 19:return ay(t,n,r);case 31:return NT(t,n,r);case 22:return Zp(t,n,r,n.pendingProps);case 24:return Fr(n),l=Xt(Nt),t===null?(h=lf(),h===null&&(h=lt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},uf(n),Bs(n,Nt,h)):((t.lanes&r)!==0&&(cf(t,n),Wl(n,null,null,r),Zl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,Nt,l)):(l=f.cache,Bs(n,Nt,l),l!==h.cache&&sf(n,[Nt],r,!0))),$t(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Ff(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Kr=Pu,of}else t.flags&=-16777217}function oy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(n))if(Vy())t.flags|=8192;else throw Kr=Pu,of}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Ha|=n)}function ro(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function OT(t,n,r){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Nt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(ct(n),oy(n,f)):(ct(n),Ff(n,h,null,l,r))):f?f!==t.memoizedState?(os(n),ct(n),oy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&os(n),ct(n),Ff(n,h,t,l,r)),null;case 27:if(mi(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=re.current,Na(n)?Bg(n):(t=g_(h,l,r),n.stateNode=t,os(n))}return ct(n),null;case 5:if(mi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=re.current,Na(n))Bg(n);else{var p=yc(we.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Rt]=n,f[qt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&os(n)}}return ct(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,Na(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,r)),t||zs(n,!0)}else t=yc(t).createTextNode(l),t[Rt]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Rt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Rt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),ct(n),null);case 4:return ot(),t===null&&dd(n.stateNode.containerInfo),ct(n),null;case 10:return ss(n.type),ct(n),null;case 19:if(Q(St),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,ro(l,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ug(r,t),r=r.sibling;return ie(St,St.current&1|2),Be&&ns(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&te()>lc&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return ct(n),null}else 2*te()-l.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=te(),t.sibling=null,r=St.current,ie(St,h?r&1|2:r&1),Be&&ns(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return Cn(n),mf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ss(Nt),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function MT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(Nt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(St),null;case 4:return ot(),null;case 10:return ss(n.type),null;case 22:case 23:return Cn(n),mf(),t!==null&&Q(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(Nt),null;case 25:return null;default:return null}}function uy(t,n){switch(Zh(n),n.tag){case 3:ss(Nt),ot();break;case 26:case 27:case 5:mi(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:Q(St);break;case 10:ss(n.type);break;case 22:case 23:Cn(n),mf(),t!==null&&Q(Qr);break;case 24:ss(Nt)}}function ao(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){We(n,n.return,E)}}function Ys(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(G){We(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){We(n,n.return,G)}}function cy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ep(n,r)}catch(l){We(t,t.return,l)}}}function hy(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){We(t,n,l)}}function lo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){We(t,n,h)}}function ki(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){We(t,n,h)}else r.current=null}function fy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){We(t,t.return,h)}}function Qf(t,n,r){try{var l=t.stateNode;tb(l,t.type,r,n),l[qt]=n}catch(h){We(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ic(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,n,r),t=t.sibling;t!==null;)ic(t,n,r),t=t.sibling}function my(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,r),n[Rt]=t,n[qt]=r}catch(f){We(t,t.return,f)}}var us=!1,Mt=!1,Xf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function VT(t,n){if(t=t.containerInfo,pd=Ac,t=Rg(t),Bh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,R=-1,P=0,G=0,K=t,z=null;t:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(R=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===t)break t;if(z===r&&++P===h&&(E=p),z===f&&++G===l&&(R=p),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:t,selectionRange:r},Ac=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=Jr(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function py(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:hs(t,r),l&4&&ao(5,r);break;case 1:if(hs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){We(r,r.return,p)}else{var h=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){We(r,r.return,p)}}l&64&&cy(r),l&512&&lo(r,r.return);break;case 3:if(hs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ep(t,n)}catch(p){We(r,r.return,p)}}break;case 27:n===null&&l&4&&my(r);case 26:case 5:hs(t,r),n===null&&l&4&&fy(r),l&512&&lo(r,r.return);break;case 12:hs(t,r);break;case 31:hs(t,r),l&4&&vy(t,r);break;case 13:hs(t,r),l&4&&Ey(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=HT.bind(null,r),ub(t,r))));break;case 22:if(l=r.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Mt,h=us;var f=Mt;us=l,(Mt=n)&&!f?fs(t,r,(r.subtreeFlags&8772)!==0):hs(t,r),us=h,Mt=f}break;case 30:break;default:hs(t,r)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,pn=!1;function cs(t,n,r){for(r=r.child;r!==null;)_y(t,n,r),r=r.sibling}function _y(t,n,r){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(nn,r)}catch{}switch(r.tag){case 26:Mt||ki(r,n),cs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Mt||ki(r,n);var l=dt,h=pn;er(r.type)&&(dt=r.stateNode,pn=!1),cs(t,n,r),yo(r.stateNode),dt=l,pn=h;break;case 5:Mt||ki(r,n);case 6:if(l=dt,h=pn,dt=null,cs(t,n,r),dt=l,pn=h,dt!==null)if(pn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(f){We(r,n,f)}else try{dt.removeChild(r.stateNode)}catch(f){We(r,n,f)}break;case 18:dt!==null&&(pn?(t=dt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ja(t)):c_(dt,r.stateNode));break;case 4:l=dt,h=pn,dt=r.stateNode.containerInfo,pn=!0,cs(t,n,r),dt=l,pn=h;break;case 0:case 11:case 14:case 15:Ys(2,r,n),Mt||Ys(4,r,n),cs(t,n,r);break;case 1:Mt||(ki(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hy(r,n,l)),cs(t,n,r);break;case 21:cs(t,n,r);break;case 22:Mt=(l=Mt)||r.memoizedState!==null,cs(t,n,r),Mt=l;break;default:cs(t,n,r)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(r){We(n,n.return,r)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(r){We(n,n.return,r)}}function kT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gy),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var r=kT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=GT.bind(null,t,l);l.then(h,h)}})}function yn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){dt=E.stateNode,pn=!1;break e}break;case 5:dt=E.stateNode,pn=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,pn=!0;break e}E=E.return}if(dt===null)throw Error(a(160));_y(f,p,h),dt=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var li=null;function Ty(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),l&4&&(Ys(3,t,t.return),ao(3,t),Ys(5,t,t.return));break;case 1:yn(n,t),_n(t),l&512&&(Mt||r===null||ki(r,r.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=li;if(yn(n,t),_n(t),l&512&&(Mt||r===null||ki(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,r),f[Rt]=t,Ct(f),l=f;break e;case"link":var p=T_("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),Jt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Rt]=t,Ct(f),l=f}t.stateNode=l}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?b_(h,t.type,t.stateNode):E_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(n,t),_n(t),l&512&&(Mt||r===null||ki(r,r.return)),r!==null&&l&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,t),_n(t),l&512&&(Mt||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(oe){We(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(yn(n,t),_n(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){We(t,t.return,oe)}}break;case 3:if(Ec=null,h=li,li=_c(n.containerInfo),yn(n,t),li=h,_n(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(oe){We(t,t.return,oe)}Xf&&(Xf=!1,by(t));break;case 4:l=li,li=_c(t.stateNode.containerInfo),yn(n,t),_n(t),li=l;break;case 12:yn(n,t),_n(t);break;case 31:yn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=te()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=us,G=Mt;if(us=P||h,Mt=G||R,yn(n,t),Mt=G,us=P,_n(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||us||Mt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){We(R,R.return,oe)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){We(R,R.return,oe)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?h_(q,!0):h_(R.stateNode,!1)}catch(oe){We(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sc(t,r))));break;case 19:yn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(dy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);ic(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(gn(p,""),r.flags&=-33);var E=Yf(t);ic(t,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Yf(t);Kf(t,P,R);break;default:throw Error(a(161))}}catch(G){We(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ys(4,n,n.return),Zr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hy(n,n.return,r),Zr(n);break;case 27:yo(n.stateNode);case 26:case 5:ki(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function fs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,r),ao(4,f);break;case 1:if(fs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){We(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Wg(R[h],E)}catch(P){We(l,l.return,P)}}r&&p&64&&cy(f),lo(f,f.return);break;case 27:my(f);case 26:case 5:fs(h,f,r),r&&l===null&&p&4&&fy(f),lo(f,f.return);break;case 12:fs(h,f,r);break;case 31:fs(h,f,r),r&&p&4&&vy(h,f);break;case 13:fs(h,f,r),r&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&fs(h,f,r),lo(f,f.return);break;case 30:break;default:fs(h,f,r)}n=n.sibling}}function $f(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function oi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(t,n,r,l),n=n.sibling}function Sy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,r,l),h&2048&&ao(9,n);break;case 1:oi(t,n,r,l);break;case 3:oi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){oi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(n,n.return,R)}}else oi(t,n,r,l);break;case 31:oi(t,n,r,l);break;case 13:oi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,r,l):oo(t,n):f._visibility&2?oi(t,n,r,l):(f._visibility|=2,za(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(p,n);break;case 24:oi(t,n,r,l),h&2048&&Jf(n.alternate,n);break;default:oi(t,n,r,l)}}function za(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:za(f,p,E,R,h),ao(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?za(f,p,E,R,h):oo(f,p):(G._visibility|=2,za(f,p,E,R,h)),h&&P&2048&&$f(p.alternate,p);break;case 24:za(f,p,E,R,h),h&&P&2048&&Jf(p.alternate,p);break;default:za(f,p,E,R,h)}n=n.sibling}}function oo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:oo(r,l),h&2048&&$f(l.alternate,l);break;case 24:oo(r,l),h&2048&&Jf(l.alternate,l);break;default:oo(r,l)}n=n.sibling}}var uo=8192;function Ba(t,n,r){if(t.subtreeFlags&uo)for(t=t.child;t!==null;)Ay(t,n,r),t=t.sibling}function Ay(t,n,r){switch(t.tag){case 26:Ba(t,n,r),t.flags&uo&&t.memoizedState!==null&&Tb(r,li,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,r);break;case 3:case 4:var l=li;li=_c(t.stateNode.containerInfo),Ba(t,n,r),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,Ba(t,n,r),uo=l):Ba(t,n,r));break;default:Ba(t,n,r)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Ry(l,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):co(t);break;default:co(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Gt=l,Ry(l,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ys(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Ry(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:Ys(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Gt=l;else e:for(r=t;Gt!==null;){l=Gt;var h=l.sibling,f=l.return;if(yy(l),l===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var UT={getCacheForType:function(t){var n=Xt(Nt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Xt(Nt).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,lt=null,De=null,ke=0,Ze=0,In=null,Ks=!1,qa=!1,Zf=!1,ds=0,vt=0,Xs=0,Wr=0,Wf=0,Nn=0,Ha=0,ho=null,vn=null,ed=!1,ac=0,Cy=0,lc=1/0,oc=null,$s=null,jt=0,Js=null,Ga=null,ms=0,td=0,nd=null,Iy=null,fo=0,id=null;function Dn(){return(Ye&2)!==0&&ke!==0?ke&-ke:H.T!==null?ud():uu()}function Ny(){if(Nn===0)if((ke&536870912)===0||Be){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function En(t,n,r){(t===lt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Zs(t,ke,Nn,!1)),Rr(t,r),((Ye&2)===0||t!==lt)&&(t===lt&&((Ye&2)===0&&(Wr|=r),vt===4&&Zs(t,ke,Nn,!1)),Ui(t))}function Dy(t,n,r){if((Ye&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=l?zT(t,n):rd(t,n,!0),f=l;do{if(h===0){qa&&!l&&Zs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!jT(r)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=ho;var R=E.current.memoizedState.isDehydrated;if(R&&(Fa(E,p).flags|=256),p=rd(E,p,!1),p!==2){if(Zf&&!R){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),Zs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(l,n,Nn,!Ks);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-te(),10<h)){if(Zs(l,n,Nn,!Ks),_i(l,0,!0)!==0)break e;ms=n,l.timeoutHandle=o_(Oy.bind(null,l,r,vn,oc,ed,n,Nn,Wr,Ha,Ks,f,"Throttled",-0,0),h);break e}Oy(l,r,vn,oc,ed,n,Nn,Wr,Ha,Ks,f,null,-0,0)}}break}while(!0);Ui(t)}function Oy(t,n,r,l,h,f,p,E,R,P,G,K,z,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ay(n,f,K);var oe=(f&62914560)===f?ac-te():(f&4194048)===f?Cy-te():0;if(oe=bb(K,oe),oe!==null){ms=f,t.cancelPendingCommit=oe(zy.bind(null,t,n,f,r,l,h,p,E,R,G,K,null,z,q)),Zs(t,f,p,!P);return}}zy(t,n,f,r,l,h,p,E,R)}function jT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,r,l){n&=~Wf,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Cr(t,r,n)}function uc(){return(Ye&6)===0?(mo(0),!1):!0}function sd(){if(De!==null){if(Ze===0)var t=De.return;else t=De,is=Gr=null,Ef(t),ka=null,Xl=0,t=De;for(;t!==null;)uy(t.alternate,t),t=t.return;De=null}}function Fa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ms=0,sd(),lt=t,De=r=ts(t.current,null),ke=n,Ze=0,In=null,Ks=!1,qa=Zn(t,n),Zf=!1,Ha=Nn=Wf=Wr=Xs=vt=0,vn=ho=null,ed=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xe(l),f=1<<h;n|=t[h],l&=~f}return ds=n,Nu(),r}function My(t,n){Re=null,H.H=io,n===Va||n===ju?(n=Xg(),Ze=3):n===of?(n=Xg(),Ze=4):Ze=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,De===null&&(vt=1,Zu(t,zn(n,t.current)))}function Vy(){var t=Rn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function ky(){var t=H.H;return H.H=io,t===null?io:t}function Uy(){var t=H.A;return H.A=UT,t}function cc(){vt=4,Ks||(ke&4194048)!==ke&&Rn.current!==null||(qa=!0),(Xs&134217727)===0&&(Wr&134217727)===0||lt===null||Zs(lt,ke,Nn,!1)}function rd(t,n,r){var l=Ye;Ye|=2;var h=ky(),f=Uy();(lt!==t||ke!==n)&&(oc=null,Fa(t,n)),n=!1;var p=vt;e:do try{if(Ze!==0&&De!==null){var E=De,R=In;switch(Ze){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Ze;if(Ze=0,In=null,Qa(t,E,R,P),r&&qa){p=0;break e}break;default:P=Ze,Ze=0,In=null,Qa(t,E,R,P)}}PT(),p=vt;break}catch(G){My(t,G)}while(!0);return n&&t.shellSuspendCounter++,is=Gr=null,Ye=l,H.H=h,H.A=f,De===null&&(lt=null,ke=0,Nu()),p}function PT(){for(;De!==null;)Ly(De)}function zT(t,n){var r=Ye;Ye|=2;var l=ky(),h=Uy();lt!==t||ke!==n?(oc=null,lc=te()+500,Fa(t,n)):qa=Zn(t,n);e:do try{if(Ze!==0&&De!==null){n=De;var f=In;t:switch(Ze){case 1:Ze=0,In=null,Qa(t,n,f,1);break;case 2:case 9:if(Yg(f)){Ze=0,In=null,jy(n);break}n=function(){Ze!==2&&Ze!==9||lt!==t||(Ze=7),Ui(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Yg(f)?(Ze=0,In=null,jy(n)):(Ze=0,In=null,Qa(t,n,f,7));break;case 5:var p=null;switch(De.tag){case 26:p=De.memoizedState;case 5:case 27:var E=De;if(p?S_(p):E.stateNode.complete){Ze=0,In=null;var R=E.sibling;if(R!==null)De=R;else{var P=E.return;P!==null?(De=P,hc(P)):De=null}break t}}Ze=0,In=null,Qa(t,n,f,5);break;case 6:Ze=0,In=null,Qa(t,n,f,6);break;case 8:sd(),vt=6;break e;default:throw Error(a(462))}}BT();break}catch(G){My(t,G)}while(!0);return is=Gr=null,H.H=l,H.A=h,Ye=r,De!==null?0:(lt=null,ke=0,Nu(),vt)}function BT(){for(;De!==null&&!Bt();)Ly(De)}function Ly(t){var n=ly(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?hc(t):De=n}function jy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ty(r,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=ty(r,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:Ef(n);default:uy(r,n),n=De=Ug(n,ds),n=ly(r,n,ds)}t.memoizedProps=t.pendingProps,n===null?hc(t):De=n}function Qa(t,n,r,l){is=Gr=null,Ef(n),ka=null,Xl=0;var h=n.return;try{if(IT(t,h,n,r,ke)){vt=1,Zu(t,zn(r,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;vt=1,Zu(t,zn(r,t.current)),De=null;return}n.flags&32768?(Be||l===1?t=!0:qa||(ke&536870912)!==0?t=!1:(Ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){Py(n,Ks);return}t=n.return;var r=OT(n.alternate,n,ds);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);vt===0&&(vt=5)}function Py(t,n){do{var r=MT(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);vt=6,De=null}function zy(t,n,r,l,h,f,p,E,R){t.cancelPendingCommit=null;do fc();while(jt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Lh(t,r,f,p,E,R),t===lt&&(De=lt=null,ke=0),Ga=n,Js=t,ms=r,td=f,nd=h,Iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FT(dn,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ne.p,ne.p=2,p=Ye,Ye|=4;try{VT(t,n,r)}finally{Ye=p,ne.p=h,H.T=l}}jt=1,By(),qy(),Hy()}}function By(){if(jt===1){jt=0;var t=Js,n=Ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=ne.p;ne.p=2;var h=Ye;Ye|=4;try{Ty(n,t);var f=yd,p=Rg(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(R!==null&&Bh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=E.textContent.length,ye=Math.min(R.start,oe),rt=R.end===void 0?ye:Math.min(R.end,oe);!q.extend&&ye>rt&&(p=rt,rt=ye,ye=p);var k=wg(E,ye),D=wg(E,rt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=K.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),ye>rt?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ac=!!pd,yd=pd=null}finally{Ye=h,ne.p=l,H.T=r}}t.current=n,jt=2}}function qy(){if(jt===2){jt=0;var t=Js,n=Ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=ne.p;ne.p=2;var h=Ye;Ye|=4;try{py(t,n.alternate,n)}finally{Ye=h,ne.p=l,H.T=r}}jt=3}}function Hy(){if(jt===4||jt===3){jt=0,Tt();var t=Js,n=Ga,r=ms,l=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jt=5:(jt=0,Ga=Js=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),Ji(r),n=n.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(nn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ne.p,ne.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ne.p=h}}(ms&3)!==0&&fc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===id?fo++:(fo=0,id=t):fo=0,mo(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function fc(){return By(),qy(),Hy(),Fy()}function Fy(){if(jt!==5)return!1;var t=Js,n=td;td=0;var r=Ji(ms),l=H.T,h=ne.p;try{ne.p=32>r?32:r,H.T=null,r=nd,nd=null;var f=Js,p=ms;if(jt=0,Ga=Js=null,ms=0,(Ye&6)!==0)throw Error(a(331));var E=Ye;if(Ye|=4,xy(f.current),Sy(f,f.current,p,r),Ye=E,mo(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(nn,f)}catch{}return!0}finally{ne.p=h,H.T=l,Gy(t,n)}}function Qy(t,n,r){n=zn(r,n),n=kf(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(Rr(t,2),Ui(t))}function We(t,n,r){if(t.tag===3)Qy(t,t,r);else for(;n!==null;){if(n.tag===3){Qy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=zn(r,t),r=Yp(2),l=Gs(n,r,2),l!==null&&(Kp(r,l,n,t),Rr(l,2),Ui(l));break}}n=n.return}}function ad(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new LT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Zf=!0,h.add(r),t=qT.bind(null,t,n,r),n.then(t,t))}function qT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,lt===t&&(ke&r)===r&&(vt===4||vt===3&&(ke&62914560)===ke&&300>te()-ac?(Ye&2)===0&&Fa(t,0):Wf|=r,Ha===ke&&(Ha=0)),Ui(t)}function Yy(t,n){n===0&&(n=ou()),t=Br(t,n),t!==null&&(Rr(t,n),Ui(t))}function HT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Yy(t,r)}function GT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yy(t,r)}function FT(t,n){return ae(t,n)}var dc=null,Ya=null,ld=!1,mc=!1,od=!1,Ws=0;function Ui(t){t!==Ya&&t.next===null&&(Ya===null?dc=Ya=t:Ya=Ya.next=t),mc=!0,ld||(ld=!0,YT())}function mo(t,n){if(!od&&mc){od=!0;do for(var r=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(l,f))}else f=ke,f=_i(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zn(l,f)||(r=!0,Jy(l,f));l=l.next}while(r);od=!1}}function QT(){Ky()}function Ky(){mc=ld=!1;var t=0;Ws!==0&&ib()&&(t=Ws);for(var n=te(),r=null,l=dc;l!==null;){var h=l.next,f=Xy(l,n);f===0?(l.next=null,r===null?dc=h:r.next=h,h===null&&(Ya=r)):(r=l,(t!==0||(f&3)!==0)&&(mc=!0)),l=h}jt!==0&&jt!==5||mo(t),Ws!==0&&(Ws=0)}function Xy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Xe(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Uh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,r=ke,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ce(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Zn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ce(l),Ji(r)){case 2:case 8:r=Vn;break;case 32:r=dn;break;case 268435456:r=Jn;break;default:r=dn}return l=$y.bind(null,t),r=ae(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ce(l),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var l=ke;return l=_i(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dy(t,l,n),Xy(t,te()),t.callbackNode!=null&&t.callbackNode===r?$y.bind(null,t):null)}function Jy(t,n){if(fc())return null;Dy(t,n,!0)}function YT(){rb(function(){(Ye&6)!==0?ae(fn,QT):Ky()})}function ud(){if(Ws===0){var t=Oa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Ws=t}return Ws}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Wy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function KT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Zy((h[qt]||null).action),p=l.submitter;p&&(n=(n=p[qt]||null)?Zy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ii("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var R=p?Wy(h,p):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Wy(h,p):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var cd=0;cd<Fh.length;cd++){var hd=Fh[cd],XT=hd.toLowerCase(),$T=hd[0].toUpperCase()+hd.slice(1);ai(XT,"on"+$T)}ai(Ng,"onAnimationEnd"),ai(Dg,"onAnimationIteration"),ai(Og,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(fT,"onTransitionRun"),ai(dT,"onTransitionStart"),ai(mT,"onTransitionCancel"),ai(Mg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function e_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=R}}}}function Oe(t,n){var r=n[fa];r===void 0&&(r=n[fa]=new Set);var l=t+"__bubble";r.has(l)||(t_(n,t,2,!1),r.add(l))}function fd(t,n,r){var l=0;n&&(l|=4),t_(r,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[gc]){t[gc]=!0,xl.forEach(function(r){r!=="selectionchange"&&(JT.has(r)||fd(r,!1,t),fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,fd("selectionchange",!1,n))}}function t_(t,n,r,l){switch(N_(n)){case 2:var h=wb;break;case 8:h=xb;break;default:h=Cd}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function md(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=bi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Vs(function(){var P=f,G=Un(r),K=[];e:{var z=Vg.get(t);if(z!==void 0){var q=Ii,oe=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":q=xu;break;case"focusin":oe="focus",q=Lr;break;case"focusout":oe="blur",q=Lr;break;case"beforeblur":case"afterblur":q=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ng:case Dg:case Og:q=vu;break;case Mg:q=T;break;case"scroll":case"scrollend":q=jl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=es;break;case"toggle":case"beforetoggle":q=xe}var ye=(n&4)!==0,rt=!ye&&(t==="scroll"||t==="scrollend"),k=ye?z!==null?z+"Capture":null:z;ye=[];for(var D=P,j;D!==null;){var Y=D;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=ni(D,k),Y!=null&&ye.push(po(D,Y,j))),rt)break;D=D.return}0<ye.length&&(z=new q(z,oe,null,r,G),K.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==kl&&(oe=r.relatedTarget||r.fromElement)&&(bi(oe)||oe[Ei]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=r.relatedTarget||r.toElement,q=P,oe=oe?bi(oe):null,oe!==null&&(rt=c(oe),ye=oe.tag,oe!==rt||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(q=null,oe=P),q!==oe)){if(ye=Pl,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=es,Y="onPointerLeave",k="onPointerEnter",D="pointer"),rt=q==null?z:Sn(q),j=oe==null?z:Sn(oe),z=new ye(Y,D+"leave",q,r,G),z.target=rt,z.relatedTarget=j,Y=null,bi(G)===P&&(ye=new ye(k,D+"enter",oe,r,G),ye.target=j,ye.relatedTarget=rt,Y=ye),rt=Y,q&&oe)t:{for(ye=ZT,k=q,D=oe,j=0,Y=k;Y;Y=ye(Y))j++;Y=0;for(var de=D;de;de=ye(de))Y++;for(;0<j-Y;)k=ye(k),j--;for(;0<Y-j;)D=ye(D),Y--;for(;j--;){if(k===D||D!==null&&k===D.alternate){ye=k;break t}k=ye(k),D=ye(D)}ye=null}else ye=null;q!==null&&n_(K,z,q,ye,!1),oe!==null&&rt!==null&&n_(K,rt,oe,ye,!0)}}e:{if(z=P?Sn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ge=vg;else if(yg(z))if(Eg)Ge=uT;else{Ge=lT;var ue=aT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&pa(P.elementType)&&(Ge=vg):Ge=oT;if(Ge&&(Ge=Ge(t,P))){_g(K,Ge,r,G);break e}ue&&ue(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ol(z,"number",z.value)}switch(ue=P?Sn(P):window,t){case"focusin":(yg(ue)||ue.contentEditable==="true")&&(Aa=ue,qh=P,Gl=null);break;case"focusout":Gl=qh=Aa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Cg(K,r,G);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Cg(K,r,G)}var Ie;if(Qe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Sa?jr(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(Oi&&r.locale!=="ko"&&(Sa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Sa&&(Ie=Ll()):(Ci=G,Ul="value"in Ci?Ci.value:Ci.textContent,Sa=!0)),ue=pc(P,Ue),0<ue.length&&(Ue=new Di(Ue,t,null,r,G),K.push({event:Ue,listeners:ue}),Ie?Ue.data=Ie:(Ie=ba(r),Ie!==null&&(Ue.data=Ie)))),(Ie=jn?nT(t,r):iT(t,r))&&(Ue=pc(P,"onBeforeInput"),0<Ue.length&&(ue=new Di("onBeforeInput","beforeinput",null,r,G),K.push({event:ue,listeners:Ue}),ue.data=Ie)),KT(K,t,P,r,G)}e_(K,n)})}function po(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,r),h!=null&&l.unshift(po(t,h,f)),h=ni(t,n),h!=null&&l.push(po(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ZT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=ni(r,f),P!=null&&p.unshift(po(r,P,R))):h||(P=ni(r,f),P!=null&&p.push(po(r,P,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var WT=/\r\n?/g,eb=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(WT,`
`).replace(eb,"")}function s_(t,n){return n=i_(n),i_(t)===n}function st(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,r,l);break;case"style":Vl(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,ma(t,r,l))}}function gd(t,n,r,l,h,f){switch(r){case"style":Vl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ma(t,r,l)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,p,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),l&&st(t,n,"src",r.src,r,null);return;case"input":Oe("invalid",t);var E=f=p=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:st(t,n,l,G,r,null)}}du(t,f,E,R,P,p,h,!1);return;case"select":Oe("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:st(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Ns(t,!!l,n,!1):r!=null&&Ns(t,!!l,r,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:st(t,n,p,E,r,null)}Ds(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":st(t,n,R,l,r,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<go.length;l++)Oe(go[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,P,l,r,null)}return;default:if(pa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&gd(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&st(t,n,E,l,r,null))}function tb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,G=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||st(t,n,q,null,l,K)}}for(var z in l){var q=l[z];if(K=r[z],l.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&st(t,n,z,q,l,K)}}ga(t,p,E,R,P,G,f,h);return;case"select":q=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||st(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&st(t,n,h,f,l,R)}n=E,r=p,l=q,z!=null?Ns(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ns(t,!!r,n,!0):Ns(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,p,h,l,f)}mu(t,z,q);return;case"option":for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:st(t,n,oe,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":st(t,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)z=r[ye],r.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&st(t,n,ye,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:st(t,n,P,z,l,q)}return;default:if(pa(n)){for(var rt in r)z=r[rt],r.hasOwnProperty(rt)&&z!==void 0&&!l.hasOwnProperty(rt)&&gd(t,n,rt,void 0,l,z);for(G in l)z=l[G],q=r[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||gd(t,n,G,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&st(t,n,k,null,l,z);for(K in l)z=l[K],q=r[K],!l.hasOwnProperty(K)||z===q||z==null&&q==null||st(t,n,K,z,l,q)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&r_(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>E)break;var G=R.transferSize,K=R.initiatorType;G&&r_(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(ab)}:o_;function ab(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function c_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ja(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")yo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,yo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&yo(t.ownerDocument.body);r=h}while(r);Ja(n)}function h_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),da(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function ob(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function g_(t,n,r){switch(n=yc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Qn=new Map,p_=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ne.d;ne.d={f:cb,r:hb,D:fb,C:db,L:mb,m:gb,X:yb,S:pb,M:_b};function cb(){var t=gs.f(),n=uc();return t||n}function hb(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Mp(n):gs.r(t)}var Ka=typeof document>"u"?null:document;function y_(t,n,r){var l=Ka;if(l&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),p_.has(h)||(p_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),Ct(n),l.head.appendChild(n)))}}function fb(t){gs.D(t),y_("dns-prefetch",t,null)}function db(t,n){gs.C(t,n),y_("preconnect",t,n)}function mb(t,n,r){gs.L(t,n,r);var l=Ka;if(l&&t&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+mn(r.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Qn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(_o(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),Jt(n,"link",t),Ct(n),l.head.appendChild(n)))}}function gb(t,n){gs.m(t,n);var r=Ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Qn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Qn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vo(f)))return}l=r.createElement("link"),Jt(l,"link",t),Ct(l),r.head.appendChild(l)}}}function pb(t,n,r){gs.S(t,n,r);var l=Ka;if(l&&t){var h=Si(l).hoistableStyles,f=Xa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(_o(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Qn.get(f))&&Ad(t,r);var R=p=l.createElement("link");Ct(R),Jt(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function yb(t,n){gs.X(t,n);var r=Ka;if(r&&t){var l=Si(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=w({src:t,async:!0},n),(n=Qn.get(h))&&wd(t,n),f=r.createElement("script"),Ct(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(t,n){gs.M(t,n);var r=Ka;if(r&&t){var l=Si(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(vo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&wd(t,n),f=r.createElement("script"),Ct(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function __(t,n,r,l){var h=(h=we.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=Si(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(_o(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(t,r),f||vb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=Si(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+mn(t)+'"'}function _o(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),Ct(n),t.head.appendChild(n))}function $a(t){return'[src="'+mn(t)+'"]'}function vo(t){return"script[async]"+t}function E_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+mn(r.href)+'"]');if(l)return n.instance=l,Ct(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Jt(l,"style",h),vc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Xa(r.href);var f=t.querySelector(_o(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;l=v_(r),(h=Qn.get(h))&&Ad(l,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Jt(f,"link",l),n.state.loading|=4,vc(f,r.precedence,t),n.instance=f;case"script":return f=$a(r.src),(h=t.querySelector(vo(f)))?(n.instance=h,Ct(h),h):(l=r,(h=Qn.get(f))&&(l=w({},r),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,r.precedence,t));return n.instance}function vc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function T_(t,n,r){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(r,l)}else h=Ec,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function b_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Eb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(l.href),f=n.querySelector(_o(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ct(f);return}f=n.ownerDocument||n,l=v_(l),(h=Qn.get(h))&&Ad(l,h),f=f.createElement("link"),Ct(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Jt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function bb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(Sb,t),bc=null,Tc.call(t))}function Sb(t,n){if(!(n.state.loading&4)){var r=bc.get(t);if(r)var l=r.get(null);else{r=new Map,bc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Eo={$$typeof:ve,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ab(t,n,r,l,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function A_(t,n,r,l,h,f,p,E,R,P,G,K){return t=new Ab(t,n,r,p,R,P,G,K,E),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},uf(f),t}function w_(t){return t?(t=Ra,t):Ra}function x_(t,n,r,l,h,f){h=w_(h),l.context===null?l.context=h:l.pendingContext=h,l=Hs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gs(t,l,n),r!==null&&(En(r,t,n),Jl(r,t,n))}function R_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){R_(t,n),(t=t.alternate)&&R_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&En(n,t,67108864),Rd(t,67108864)}}function I_(t){if(t.tag===13||t.tag===31){var n=Dn();n=Ir(n);var r=Br(t,n);r!==null&&En(r,t,n),Rd(t,n)}}var Ac=!0;function wb(t,n,r,l){var h=H.T;H.T=null;var f=ne.p;try{ne.p=2,Cd(t,n,r,l)}finally{ne.p=f,H.T=h}}function xb(t,n,r,l){var h=H.T;H.T=null;var f=ne.p;try{ne.p=8,Cd(t,n,r,l)}finally{ne.p=f,H.T=h}}function Cd(t,n,r,l){if(Ac){var h=Id(l);if(h===null)md(t,n,l,wc,r),D_(t,l);else if(Cb(h,t,n,r,l))l.stopPropagation();else if(D_(t,l),n&4&&-1<Rb.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Xe(p);E.entanglements[1]|=R,p&=~R}Ui(f),(Ye&6)===0&&(lc=te()+500,mo(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&En(E,f,2),uc(),Rd(f,2)}if(f=Id(l),f===null&&md(t,n,l,wc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else md(t,n,l,null,r)}}function Id(t){return t=Un(t),Nd(t)}var wc=null;function Nd(t){if(wc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case fn:return 2;case Vn:return 8;case dn:case gi:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Dd=!1,tr=null,nr=null,ir=null,To=new Map,bo=new Map,sr=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function So(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Cb(t,n,r,l,h){switch(n){case"focusin":return tr=So(tr,t,n,r,l,h),!0;case"dragenter":return nr=So(nr,t,n,r,l,h),!0;case"mouseover":return ir=So(ir,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return To.set(f,So(To.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,So(bo.get(f)||null,t,n,r,l,h)),!0}return!1}function O_(t){var n=bi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Wn(t.priority,function(){I_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,Wn(t.priority,function(){I_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);kl=l,r.target.dispatchEvent(l),kl=null}else return n=kn(r),n!==null&&C_(n),t.blockedOn=r,!1;n.shift()}return!0}function M_(t,n,r){xc(t)&&r.delete(n)}function Ib(){Dd=!1,tr!==null&&xc(tr)&&(tr=null),nr!==null&&xc(nr)&&(nr=null),ir!==null&&xc(ir)&&(ir=null),To.forEach(M_),bo.forEach(M_)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ib)))}var Cc=null;function V_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ja(t){function n(R){return Rc(R,t)}tr!==null&&Rc(tr,t),nr!==null&&Rc(nr,t),ir!==null&&Rc(ir,t),To.forEach(n),bo.forEach(n);for(var r=0;r<sr.length;r++){var l=sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)O_(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[qt]||null;if(typeof f=="function")p||V_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qt]||null)E=p.formAction;else if(Nd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),V_(r)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Ic.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Dn();x_(r,l,t,n,null,null)},Ic.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x_(t.current,2,null,t,null,null),uc(),n[Ei]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&O_(t)}};var U_=e.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{nn=Nc.inject(Nb),yt=Nc}catch{}}return wo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Hp,f=Gp,p=Fp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=A_(t,1,!1,null,null,r,l,null,h,f,p,k_),t[Ei]=n.current,dd(t),new Od(n)},wo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Hp,p=Gp,E=Fp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=A_(t,1,!0,n,r??null,l,h,R,f,p,E,k_),n.context=w_(null),r=n.current,l=Dn(),l=Ir(l),h=Hs(l),h.callback=null,Gs(r,h,l),r=l,n.current.lanes=r,Rr(n,r),Ui(n),t[Ei]=n.current,dd(t),new Ic(n)},wo.version="19.2.3",wo}var Y_;function Bb(){if(Y_)return kd.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=zb(),kd.exports}var qb=Bb();const Hb=()=>{};var K_={};const Rv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Gb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,S=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[S],i[w],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Rv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Gb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||w==null)throw new Fb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),w!==64){const J=_<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(s){const e=Rv(s);return Cv.encodeByteArray(e,!0)},Kc=function(s){return Qb(s).replace(/\./g,"")},Iv=function(s){try{return Cv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kb=()=>Yb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$b=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Iv(s[1]);return e&&JSON.parse(e)},gh=()=>{try{return Hb()||Kb()||Xb()||$b()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Nv=s=>gh()?.emulatorHosts?.[s],Jb=s=>{const e=Nv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Dv=()=>gh()?.config,Ov=s=>gh()?.[`_${s}`];class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function yl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(s){return(await fetch(s,{credentials:"include"})).ok}function Wb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Oo={};function eS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?s.emulator.push(e):s.prod.push(e);return s}function tS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let X_=!1;function Vv(s,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Oo[s]===e||Oo[s]||X_)return;Oo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=eS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{X_=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=tS(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),ge=i("preprendIcon"),me=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ve=M.element;y(ve),S(ee,se);const Me=_();g(me,ge),ve.append(me,J,ee,Me),document.body.appendChild(ve)}c?(J.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function iS(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function oS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const hS="FirebaseError";class xs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?fS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new xs(o,y,a)}}function fS(s,e){return s.replace(dS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function mS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if($_(c)&&$_(d)){if(!yr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Ko(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gS(s,e){const i=new pS(s,e);return i.subscribe.bind(i)}class pS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function hn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class _S{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ES(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(s){return s===ea?void 0:s}function ES(s){return s.instantiationMode==="EAGER"}class TS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _S(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const bS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},SS=Le.INFO,AS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},wS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=AS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=SS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const xS=(s,e)=>e.some(i=>s instanceof i);let J_,Z_;function RS(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,Wd=new WeakMap,Uv=new WeakMap,zd=new WeakMap,Im=new WeakMap;function IS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(fr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&kv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function NS(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Uv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function DS(s){em=s(em)}function OS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Bd(this),e,...i);return Uv.set(a,e.sort?e.sort():[e]),fr(a)}:CS().includes(s)?function(...e){return s.apply(Bd(this),e),fr(kv.get(this))}:function(...e){return fr(s.apply(Bd(this),e))}}function MS(s){return typeof s=="function"?OS(s):(s instanceof IDBTransaction&&NS(s),xS(s,RS())?new Proxy(s,em):s)}function fr(s){if(s instanceof IDBRequest)return IS(s);if(zd.has(s))return zd.get(s);const e=MS(s);return e!==s&&(zd.set(s,e),Im.set(e,s)),e}const Bd=s=>Im.get(s);function VS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=fr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(fr(d.result),g.oldVersion,g.newVersion,fr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const kS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],qd=new Map;function W_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&g.done]))[0]};return qd.set(e,c),c}DS(s=>({...s,get:(e,i,a)=>W_(e,i)||s.get(e,i,a),has:(e,i)=>!!W_(e,i)||s.has(e,i)}));class LS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",e0="0.14.7";const Es=new Cm("@firebase/app"),PS="@firebase/app-compat",zS="@firebase/analytics-compat",BS="@firebase/analytics",qS="@firebase/app-check-compat",HS="@firebase/app-check",GS="@firebase/auth",FS="@firebase/auth-compat",QS="@firebase/database",YS="@firebase/data-connect",KS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",JS="@firebase/installations",ZS="@firebase/installations-compat",WS="@firebase/messaging",eA="@firebase/messaging-compat",tA="@firebase/performance",nA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",lA="@firebase/firestore",oA="@firebase/ai",uA="@firebase/firestore-compat",cA="firebase",hA="12.8.0";const nm="[DEFAULT]",fA={[tm]:"fire-core",[PS]:"fire-core-compat",[BS]:"fire-analytics",[zS]:"fire-analytics-compat",[HS]:"fire-app-check",[qS]:"fire-app-check-compat",[GS]:"fire-auth",[FS]:"fire-auth-compat",[QS]:"fire-rtdb",[YS]:"fire-data-connect",[KS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[JS]:"fire-iid",[ZS]:"fire-iid-compat",[WS]:"fire-fcm",[eA]:"fire-fcm-compat",[tA]:"fire-perf",[nA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[lA]:"fire-fst",[uA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[cA]:"fire-js-all"};const Xc=new Map,dA=new Map,im=new Map;function t0(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ul(s){const e=s.name;if(im.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of Xc.values())t0(i,s);for(const i of dA.values())t0(i,s);return!0}function Nm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xn(s){return s==null?!1:s.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Yo("app","Firebase",mA);class gA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const _l=hA;function Lv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=Dv()),!i)throw dr.create("no-options");const c=Xc.get(o);if(c){if(yr(i,c.options)&&yr(a,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const d=new TS(o);for(const g of im.values())d.addComponent(g);const y=new gA(i,a,d);return Xc.set(o,y),y}function jv(s=nm){const e=Xc.get(s);if(!e&&s===nm&&Dv())return Lv();if(!e)throw dr.create("no-app",{appName:s});return e}function mr(s,e,i){let a=fA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}ul(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const pA="firebase-heartbeat-database",yA=1,jo="firebase-heartbeat-store";let Hd=null;function Pv(){return Hd||(Hd=VS(pA,yA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jo)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function _A(s){try{const i=(await Pv()).transaction(jo),a=await i.objectStore(jo).get(zv(s));return await i.done,a}catch(e){if(e instanceof xs)Es.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function n0(s,e){try{const a=(await Pv()).transaction(jo,"readwrite");await a.objectStore(jo).put(e,zv(s)),await a.done}catch(i){if(i instanceof xs)Es.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function zv(s){return`${s.name}!${s.options.appId}`}const vA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const o=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i0(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function i0(){return new Date().toISOString().substring(0,10)}function bA(s,e=vA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function s0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function AA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function wA(s){ul(new sa("platform-logger",e=>new LS(e),"PRIVATE")),ul(new sa("heartbeat",e=>new TA(e),"PRIVATE")),mr(tm,e0,s),mr(tm,e0,"esm2020"),mr("fire-js","")}wA("");var xA="firebase",RA="12.8.0";mr(xA,RA,"app");function Bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CA=Bv,qv=new Yo("auth","Firebase",Bv());const $c=new Cm("@firebase/auth");function IA(s,...e){$c.logLevel<=Le.WARN&&$c.warn(`Auth (${_l}): ${s}`,...e)}function jc(s,...e){$c.logLevel<=Le.ERROR&&$c.error(`Auth (${_l}): ${s}`,...e)}function Ts(s,...e){throw Dm(s,...e)}function ji(s,...e){return Dm(s,...e)}function Hv(s,e,i){const a={...CA(),[e]:i};return new Yo("auth","Firebase",a).create(e,{appName:s.name})}function vs(s){return Hv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return qv.create(s,...e)}function Te(s,e,...i){if(!s)throw Dm(e,...i)}function ys(s){const e="INTERNAL ASSERTION FAILED: "+s;throw jc(e),new Error(e)}function bs(s,e){s||ys(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function NA(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||rS()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Gv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Xo(3e4,6e4);function $o(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function vl(s,e,i,a,o={}){return Fv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Ko({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return sS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&yl(s.emulatorConfig.host)&&(_.credentials="include"),Gv.fetch()(await Qv(s,s.config.apiHost,i,y),_)})}async function Fv(s,e,i){s._canInitEmulator=!1;const a={...MA,...e};try{const o=new UA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Dc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hv(s,S,_);Ts(s,S)}}catch(o){if(o instanceof xs)throw o;Ts(s,"network-request-failed",{message:String(o)})}}async function Mm(s,e,i,a,o={}){const c=await vl(s,e,i,a,o);return"mfaPendingCredential"in c&&Ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return VA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),kA.get())})}}function Dc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ji(s,e,a);return o.customData._tokenResponse=i,o}async function LA(s,e){return vl(s,"POST","/v1/accounts:delete",e)}async function Jc(s,e){return vl(s,"POST","/v1/accounts:lookup",e)}function Mo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jA(s,e=!1){const i=hn(s),a=await i.getIdToken(e),o=Vm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Mo(Gd(o.auth_time)),issuedAtTime:Mo(Gd(o.iat)),expirationTime:Mo(Gd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iv(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(s){const e=Vm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Po(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof xs&&PA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function PA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const e=s.auth,i=await s.getIdToken(),a=await Po(s,Jc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Yv(o.providerUserInfo):[],d=qA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,_=y?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function BA(s){const e=hn(s);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Yv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HA(s,e){const i=await Fv(s,{},async()=>{const a=Ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Qv(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&yl(s.emulatorConfig.host)&&(g.credentials="include"),Gv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(s,e){return vl(s,"POST","/v2/accounts:revokeToken",$o(s,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=a0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await HA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return ys("not implemented")}}function ar(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return jA(this,e)}reload(){return BA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Po(this,LA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:se}=i;Te(w&&se,e,"internal-error");const ee=il.fromJSON(this.name,se);Te(typeof w=="string",e,"internal-error"),ar(a,e.name),ar(o,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(y,e.name),ar(g,e.name),ar(_,e.name),ar(S,e.name);const ge=new ci({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(ge.providerData=J.map(me=>({...me}))),g&&(ge._redirectEventId=g),ge}static async _fromIdTokenResponse(e,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Yv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new il;y.updateFromIdToken(a);const g=new ci({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const l0=new Map;function _s(s){bs(s instanceof Function,"Expected a class definition");let e=l0.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l0.set(s,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const o0=Kv;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class sl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Pc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new sl(_s(o0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||_s(o0);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const M=await Jc(e,{idToken:S}).catch(()=>{});if(!M)break;w=await ci._fromGetAccountInfoResponse(e,M,S)}else w=ci._fromJSON(e,S);_!==c&&(y=w),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new sl(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new sl(c,e,a))}}function u0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if($v(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Xv(s=on()){return/firefox\//i.test(s)}function $v(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=on()){return/crios\//i.test(s)}function Zv(s=on()){return/iemobile/i.test(s)}function Wv(s=on()){return/android/i.test(s)}function e1(s=on()){return/blackberry/i.test(s)}function t1(s=on()){return/webos/i.test(s)}function km(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FA(s=on()){return km(s)&&!!window.navigator?.standalone}function QA(){return lS()&&document.documentMode===10}function n1(s=on()){return km(s)||Wv(s)||t1(s)||e1(s)||/windows phone/i.test(s)||Zv(s)}function i1(s,e=[]){let i;switch(s){case"Browser":i=u0(on());break;case"Worker":i=`${u0(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${a}`}class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function KA(s,e={}){return vl(s,"GET","/v2/passwordPolicy",$o(s,e))}const XA=6;class $A{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(vs(this));const i=e?hn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KA(this),i=new $A(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_s(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jo(s){return hn(s)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(s){Um=s}function WA(s){return Um.loadJS(s)}function e2(){return Um.gapiScript}function t2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function n2(s,e){const i=Nm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(yr(c,e??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:e})}function i2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function s2(s,e,i){const a=Jo(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=s1(e),{host:d,port:y}=r2(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(yr(_,a.config.emulator)&&yr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,yl(d)?(Mv(`${c}//${d}${g}`),Vv("Auth",!0)):a2()}function s1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function r2(s){const e=s1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function a2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class r1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function rl(s,e){return Mm(s,"POST","/v1/accounts:signInWithIdp",$o(s,e))}const l2="http://localhost";class ra extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return rl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,rl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rl(e,i)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ko(i)}return e}}class a1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends Zo{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ur extends Zo{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends Zo{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function o2(s,e){return Mm(s,"POST","/v1/accounts:signUp",$o(s,e))}class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ci._fromIdTokenResponse(e,a,o),d=f0(a);return new Ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=f0(a);return new Ss({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function u2(s){if(Xn(s.app))return Promise.reject(vs(s));const e=Jo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ss({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await o2(e,{returnSecureToken:!0}),a=await Ss._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends xs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function l1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,e,a):c})}async function c2(s,e,i=!1){const a=await Po(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ss._forOperation(s,"link",a)}async function h2(s,e,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(vs(a));const o="reauthenticate";try{const c=await Po(s,l1(a,o,e,s),i);Te(c.idToken,a,"internal-error");const d=Vm(c.idToken);Te(d,a,"internal-error");const{sub:y}=d;return Te(s.uid===y,a,"user-mismatch"),Ss._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function f2(s,e,i=!1){if(Xn(s.app))return Promise.reject(vs(s));const a="signIn",o=await l1(s,a,e),c=await Ss._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function d2(s,e){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",$o(s,e))}async function m2(s,e){if(Xn(s.app))return Promise.reject(vs(s));const i=Jo(s),a=await d2(i,{token:e,returnSecureToken:!0}),o=await Ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function g2(s,e,i,a){return hn(s).onIdTokenChanged(e,i,a)}function p2(s,e,i){return hn(s).beforeAuthStateChanged(e,i)}function y2(s,e,i,a){return hn(s).onAuthStateChanged(e,i,a)}const eh="__sak";class o1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _2=1e3,v2=10;class u1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,v2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}u1.type="LOCAL";const E2=u1;class c1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}c1.type="SESSION";const h1=c1;function T2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await T2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class b2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Lm("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function S2(s){Pi().location.href=s}function f1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function A2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function x2(){return f1()?self:null}const d1="firebaseLocalStorageDb",R2=1,th="firebaseLocalStorage",m1="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,e){return s.transaction([th],e?"readwrite":"readonly").objectStore(th)}function C2(){const s=indexedDB.deleteDatabase(d1);return new Wo(s).toPromise()}function am(){const s=indexedDB.open(d1,R2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(th,{keyPath:m1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await C2(),e(await am()))})})}async function d0(s,e,i){const a=yh(s,!0).put({[m1]:e,value:i});return new Wo(a).toPromise()}async function I2(s,e){const i=yh(s,!1).get(e),a=await new Wo(i).toPromise();return a===void 0?null:a.value}function m0(s,e){const i=yh(s,!0).delete(e);return new Wo(i).toPromise()}const N2=800,D2=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>D2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(x2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await d0(e,eh,"1"),await m0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>I2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=yh(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const O2=g1;new Xo(3e4,6e4);function M2(s,e){return e?_s(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function V2(s){return f2(s.auth,new jm(s),s.bypassAuthState)}function k2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),h2(i,new jm(s),s.bypassAuthState)}async function U2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),c2(i,new jm(s),s.bypassAuthState)}class p1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return U2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:Ts(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L2=new Xo(2e3,1e4);class nl extends p1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L2.get())};e()}}nl.currentPopupAction=null;const j2="pendingRedirect",zc=new Map;class P2 extends p1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z2(s,e){const i=H2(e),a=q2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function B2(s,e){zc.set(s._key(),e)}function q2(s){return _s(s._redirectPersistence)}function H2(s){return Pc(j2,s.config.apiKey,s.name)}async function G2(s,e,i=!1){if(Xn(s.app))return Promise.reject(vs(s));const a=Jo(s),o=M2(a,e),d=await new P2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const F2=600*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!y1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function y1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(s);default:return!1}}async function K2(s,e={}){return vl(s,"GET","/v1/projects",e)}const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function J2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await K2(s);for(const i of e)try{if(Z2(i))return}catch{}Ts(s,"unauthorized-domain")}function Z2(s){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$2.test(i))return!1;if(X2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const W2=new Xo(3e4,6e4);function p0(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ew(s){return new Promise((e,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(ji(s,"network-request-failed"))},timeout:W2.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const o=t2("iframefcb");return Pi()[o]=()=>{gapi.load?a():i(ji(s,"network-request-failed"))},WA(`${e2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function tw(s){return Bc=Bc||ew(s),Bc}const nw=new Xo(5e3,15e3),iw="__/auth/iframe",sw="emulator/auth/iframe",rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lw(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,sw):`https://${s.config.authDomain}/${iw}`,a={apiKey:e.apiKey,appName:s.name,v:_l},o=aw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ko(a).slice(1)}`}async function ow(s){const e=await tw(s),i=Pi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:lw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(s,"network-request-failed"),y=Pi().setTimeout(()=>{c(d)},nw.get());function g(){Pi().clearTimeout(y),o(a)}a.ping(g).then(g,()=>{c(d)})}))}const uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,hw=600,fw="_blank",dw="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mw(s,e,i,a=cw,o=hw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...uw,width:a.toString(),height:o.toString(),top:c,left:d},_=on().toLowerCase();i&&(y=Jv(_)?fw:i),Xv(_)&&(e=e||dw,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(FA(_)&&y!=="_self")return gw(e||"",y),new y0(null);const w=window.open(e||"",y,S);Te(w,s,"popup-blocked");try{w.focus()}catch{}return new y0(w)}function gw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const pw="__/auth/handler",yw="emulator/auth/handler",_w=encodeURIComponent("fac");async function _0(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:_l,eventId:o};if(e instanceof a1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",mS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof Zo){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await s._getAppCheckToken(),_=g?`#${_w}=${encodeURIComponent(g)}`:"";return`${vw(s)}?${Ko(y).slice(1)}${_}`}function vw({config:s}){return s.emulator?Om(s,yw):`https://${s.authDomain}/${pw}`}const Fd="webStorageSupport";class Ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=G2,this._overrideRedirectResult=B2}async _openPopup(e,i,a,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(e,i,a,sm(),o);return mw(e,c,Lm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await _0(e,i,a,sm(),o);return S2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ow(e),a=new Q2(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const c=o?.[0]?.[Fd];c!==void 0&&i(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=J2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return n1()||$v()||km()}}const Tw=Ew;var v0="@firebase/auth",E0="1.12.0";class bw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aw(s){ul(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(s)},_=new JA(a,o,c,g);return i2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ul(new sa("auth-internal",e=>{const i=Jo(e.getProvider("auth").getImmediate());return(a=>new bw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(v0,E0,Sw(s)),mr(v0,E0,"esm2020")}const ww=300,xw=Ov("authIdTokenMaxAge")||ww;let T0=null;const Rw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xw)return;const o=i?.token;T0!==o&&(T0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cw(s=jv()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=n2(s,{popupRedirectResolver:Tw,persistence:[O2,E2,h1]}),a=Ov("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Rw(c.toString());p2(i,d,()=>d(i.currentUser)),g2(i,y=>d(y))}}const o=Nv("auth");return o&&s2(i,`http://${o}`),i}function Iw(){return document.getElementsByTagName("head")?.[0]??document}ZA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=ji("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Iw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aw("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,_1;(function(){var s;function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var x=Array(arguments.length-2),at=2;at<arguments.length;at++)x[at-2]=arguments[at];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],x;x=A+(U^C&(N^U))+V[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[3]+3250441966&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[7]+4249261313&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[11]+2304563134&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[15]+1236535329&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(N^U&(C^N))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[0]+3921069994&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[4]+3889429448&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[8]+1163531501&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[12]+2368359562&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(C^N^U)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[14]+4259657740&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[10]+3200236656&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[6]+76029189&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[2]+3299628645&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(N^(C|~U))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[5]+4237533241&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[1]+2240044497&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[13]+1309151649&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=I[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==A||(C[N]=U,V=!1)}this.g=C}var y={};function g(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return ee(_(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return ee(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let V=w;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var w=g(0),M=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(se(this))return-ee(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(se(this))return"-"+ee(this).toString(I);const A=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=Me(C,A).g;C=ge(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=ge(this,I),se(I)?-1:J(I)?0:1};function ee(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return se(this)?ee(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,C[N]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ge(I,A){return I.add(ee(A))}s.j=function(I){if(J(this)||J(I))return w;if(se(this))return se(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(se(I))return ee(this.j(ee(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,at=I.i(N)>>>16,pt=I.i(N)&65535;C[2*V+2*N]+=x*pt,me(C,2*V+2*N),C[2*V+2*N+1]+=U*pt,me(C,2*V+2*N+1),C[2*V+2*N+1]+=x*at,me(C,2*V+2*N+1),C[2*V+2*N+2]+=U*at,me(C,2*V+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function me(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ve(I,A){this.g=I,this.h=A}function Me(I,A){if(J(A))throw Error("division by zero");if(J(I))return new ve(w,w);if(se(I))return A=Me(ee(I),A),new ve(ee(A.g),ee(A.h));if(se(A))return A=Me(I,ee(A)),new ve(ee(A.g),A.h);if(I.g.length>30){if(se(I)||se(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(I)<=0;)C=tt(C),V=tt(V);var N=ze(C,1),U=ze(V,1);for(V=ze(V,2),C=ze(C,2);!J(V);){var x=U.add(V);x.l(I)<=0&&(N=N.add(C),U=x),V=ze(V,1),C=ze(C,1)}return A=ge(I,N.j(A)),new ve(N,A)}for(N=w;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),x=U.j(A);se(x)||x.l(I)>0;)C-=V,U=_(C),x=U.j(A);J(U)&&(U=M),N=N.add(U),I=ge(I,x)}return new ve(N,I)}s.B=function(I){return Me(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function tt(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function ze(I,A){const C=A>>5;A%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,gr=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v1,Co,E1,qc,lm,T1,b1,S1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)W[xe-2]=arguments[xe];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const T=ve.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ve=new se(()=>new Me,u=>u.reset());class Me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ze=!1,I=new me,A=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(C)}};function C(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){ee(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(at,N),at.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function He(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=we(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Et={};function ot(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,T,L);return null}return v=he(v),u&&u[pt]?u.J(m,v,y(T)?!!T.capture:!1,L):Fi(u,m,v,!1,T,L)}function Fi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let xe=Yi(u);if(xe||(u[Ne]=xe=new re(u)),v=xe.add(m,v,T,W,B),v.proxy)return v;if(T=mi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Mn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function mi(){function u(v){return m.call(u.src,u.listener,v)}const m=Cs;return u}function Rs(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Rs(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=he(v),u&&u[pt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=we(m,v,T,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,L)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pt])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Mn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Yi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Ne]=null)):fe(u)}}}function Mn(u){return u in Et?Et[u]:Et[u]="on"+u}function Cs(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function Yi(u){return u=u[Ne],u instanceof re?u:null}var Ki="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(u){return typeof u=="function"?u:(u[Ki]||(u[Ki]=function(m){return u.handleEvent(m)}),u[Ki])}function Z(){V.call(this),this.i=new re(this),this.M=this,this.G=null}w(Z,V),Z.prototype[pt]=!0,Z.prototype.removeEventListener=function(u,m,v,T){Rs(this,u,m,v,T)};function ae(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),ie(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=Ce(B,T,!0,m)&&L;if(B=m.g=u,L=Ce(B,T,!0,m)&&L,L=Ce(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=Ce(B,T,!1,m)&&L}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)fe(v[T]);delete u.g[m],u.h--}}this.G=null},Z.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Z.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ce(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const xe=W.listener,bt=W.ha||W.src;W.fa&&Ee(u.i,W),L=xe.call(bt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Bt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Tt(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,Tt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class te extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(u){V.call(this),this.h=u,this.g={}}w(Lt,V);var fn=[];function Vn(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Lt.prototype.N=function(){Lt.Z.N.call(this),Vn(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=d.JSON.stringify,gi=d.JSON.parse,Jn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xi(){}function $i(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yt(){N.call(this,"d")}w(yt,N);function Qt(){N.call(this,"c")}w(Qt,N);var Xe={},au=null;function ha(){return au=au||new Z}Xe.Ia="serverreachability";function lu(u){N.call(this,Xe.Ia,u)}w(lu,N);function pi(u){const m=ha();ae(m,new lu(m))}Xe.STAT_EVENT="statevent";function xr(u,m){N.call(this,Xe.STAT_EVENT,u),this.stat=m}w(xr,N);function xt(u){const m=ha();ae(m,new xr(m,u))}Xe.Ja="timingevent";function yi(u,m){N.call(this,Xe.Ja,u),this.size=m}w(yi,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",xe=B.split("&");for(let Qe=0;Qe<xe.length;Qe++){var bt=xe[Qe].split("=");if(bt.length>1){const ft=bt[0];bt=bt[1];const jn=ft.split("_");W=jn.length>=2&&jn[1]=="type"?W+(ft+"="+bt+"&"):W+(ft+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function ou(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function vi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(T?" "+T:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return dn(B)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Ir(){}w(Ir,Xi),Ir.prototype.g=function(){return new XMLHttpRequest},wl=new Ir;function Ji(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Wn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Lt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Ei(u,m,v){u.M=1,u.A=Nr(It(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Ti(u),u.B=It(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),pa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ei,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new te(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fn[0]=L.toString()),L=fn);for(let B=0;B<L.length;B++){const W=ot(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ii(this.g),bt=this.g.ya(),Qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||xe!=4||bt==7||(bt==8||Qe<=0?pi(3):pi(2)),bi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,xt(12),Sn(this),kn(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<v.length;)if(ft=hu(this,v),ft==qt){xe==4&&(this.m=4,xt(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Rt){this.m=4,xt(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,ft,null),Si(this,ft);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,xt(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zl(W),W.P=!0,xt(11))}}else vi(this.i,this.l,v,null),Si(this,v);xe==4&&Sn(this),this.o&&!this.K&&(xe==4?Eu(this.j,this):(this.o=!1,Ti(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Sn(this),kn(this)}}}catch{}};function jh(u){if(!cu(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let v="";const T=m.length,L=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?qt:(v=Number(m.substring(v,T)),isNaN(v)?Rt:(T+=1,T+v>m.length?qt:(m=m.slice(T,T+v),u.C=T+v,m)))}Wn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ti(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(pi(),xt(17)),Sn(this),this.m=2,kn(this)):da(this,this.T-u)};function kn(u){u.j.I==0||u.K||Eu(u.j,u)}function Sn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Vn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Us(v);else break e;Lr(v),xt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&Ta(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qe=L[m];const ft=Qe[0];if(!(ft<=v.K))if(v.K=ft,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const jn=Qe[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Oi=Qe[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const si=Qe[5];si!=null&&typeof si=="number"&&si>0&&(T=1.5*si,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ri=u.g;if(ri){const jr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var B=T.h;B.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Cl(B,B.h),B.h=null))}if(T.G){const ba=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,Je(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Su(T,T.L?T.ba:null,T.W),W.L){Il(T.h,W);var xe=W,bt=T.O;bt&&(xe.H=bt),xe.D&&(bi(xe),Ti(xe)),T.g=W}else _u(T);v.i.length>0&&Ni(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Di(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Di(v,7):jl(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}pi(4)}catch{}}var Ct=class{constructor(u,m){this.g=u,this.map=m}};function xl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Cl(u,m){u.g?u.g.add(m):u.h=m}function Il(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,Dl(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Is(this,m[4]),this.h=xi(m[5]||"",!0),Dl(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,ga,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Ol:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,mu)),u.join("")},An.prototype.resolve=function(u){const m=It(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const xe=L[W++];xe=="."?T&&W==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(xe),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Dl(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function It(u){return new An(u)}function Ht(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Dl(u,m,v){m instanceof Ds?(u.i=m,ya(u.i,u.l)):(v||(m=Dr(m,Ns)),u.i=new Ds(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function Nr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,du=/[#\?:]/g,Ol=/[#\?]/g,Ns=/[#\?@]/g,mu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ds.prototype,s.add=function(u,m){gn(this),this.i=null,u=Os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){gn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ml(u,m){return gn(u),m=Os(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Vl(u,m){gn(u);let v=[];if(typeof m=="string")Ml(u,m)&&(v=v.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return gn(this),this.i=null,u=Os(this,u),Ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Vl(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Os(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ji(v);v=Vl(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ji(v[B])),u.push(W)}}return this.i=u.join("&")};function pu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(gu(this,T),pa(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const T=new Image;T.onload=S(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Un,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function kl(u,m){const v=new Zn,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ms(){this.g=new Jn}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,Xi),Ri.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){Z.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,Z),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):ni(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return Ve(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Ln(v),typeof u=="string"?v!=null&&Ji(v):Je(u,m,v))}function nt(u){Z.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,Z);var Ci=/^https?$/i,Ul=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Zi(u)}function Ll(u){u.A||(u.A=!0,ae(u,"complete"),ae(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ae(this,"complete"),ae(this,"abort"),Zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(ae(u,"readystatechange"),ii(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(fu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ci.test(W?W.toLowerCase():"")}v=T}if(v)ae(u,"complete"),ae(u,"success");else{u.o=6;try{var L=ii(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ll(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ae(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gi(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=uu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}He(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){xt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),Ni(this)};function jl(u){if(va(u),u.I==3){var m=u.V++,v=It(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),Ur(u,v),m=new Wn(u,u.j,m),m.M=2,m.A=Nr(It(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}bu(u)}function Us(u){u.g&&(zl(u),u.g.cancel(),u.g=null)}function va(u){Us(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||A(),ze||(tt(),ze=!0),I.add(m,u),u.D=0}}function Ea(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Wn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,L,m),v=It(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Ur(this,v),B&&(this.R?m="headers="+Ji(Ln(B))+"&"+m:this.u&&Mr(v,this.u,B)),Cl(this.h,L),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),L.U=!0,Ei(L,v,null)):Ei(L,v,m),this.I=2}}else this.I==3&&(u?Pl(this,u):this.i.length==0||Rl(this.h)||Pl(this))};function Pl(u,m){var v;m?v=m.l:v=u.V++;const T=It(u.J);Je(T,"SID",u.M),Je(T,"RID",v),Je(T,"AID",u.K),Ur(u,T),u.u&&u.o&&Mr(T,u.u,u.o),v=new Wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Cl(u.h,v),Ei(v,T,m)}function Ur(u,m){u.H&&Ve(u.H,function(v,T){Je(m,T,v)}),u.l&&Ve({},function(v,T){Je(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const bt=["count="+v];xe==-1?v>0?(xe=L[0].g,bt.push("ofs="+xe)):xe=0:bt.push("ofs="+xe);let Qe=!0;for(let ft=0;ft<v;ft++){var B=L[ft].g;const jn=L[ft].map;if(B-=xe,B<0)xe=Math.max(0,L[ft].g-100),Qe=!1;else try{B="req"+B+"_"||"";try{var W=jn instanceof Map?jn:Object.entries(jn);for(const[Oi,si]of W){let ri=si;y(si)&&(ri=dn(si)),bt.push(B+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw bt.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(jn)}}if(Qe){W=bt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||A(),ze||(tt(),ze=!0),I.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Us(this),vu(this))};function zl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),Ur(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(It(m)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Us(this),Lr(this),xt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){Ta(u),zl(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Il(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ha(),ae(T,new yi(T,v)),Ni(u)}else _u(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Tu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Nr(T),L?ti(T.toString(),v):kl(T.toString(),v)}else xt(2);u.I=0,u.l&&u.l.pa(m),bu(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var T=v instanceof An?It(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&Ht(B,T),m&&(B.g=m),L&&Is(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Je(T,v,m),Je(T,"VER",u.ka),Ur(u,T),T}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new Ri({ab:v})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Z.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}w(un,Z),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){jl(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=dn(u),u=v);m.i.push(new Ct(m.Ya++,u)),m.I==3&&Ni(m)},un.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,un.Z.N.call(this)};function xu(u){yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(xu,yt);function Ru(){Qt.call(this),this.status=1}w(Ru,Qt);function es(u){this.g=u}w(es,wu),es.prototype.ra=function(){ae(this.g,"a")},es.prototype.qa=function(u){ae(this.g,new xu(u))},es.prototype.pa=function(u){ae(this.g,new Ru)},es.prototype.oa=function(){ae(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,S1=function(){return new Ls},b1=function(){return ha()},T1=Xe,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,qc=Cr,Al.COMPLETE="complete",E1=Al,$i.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Z.prototype.listen=Z.prototype.J,Co=$i,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,v1=nt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let El="12.8.0";function Nw(s){El=s}const aa=new Cm("@firebase/firestore");function Za(){return aa.logLevel}function le(s,...e){if(aa.logLevel<=Le.DEBUG){const i=e.map(Pm);aa.debug(`Firestore (${El}): ${s}`,...i)}}function As(s,...e){if(aa.logLevel<=Le.ERROR){const i=e.map(Pm);aa.error(`Firestore (${El}): ${s}`,...i)}}function cl(s,...e){if(aa.logLevel<=Le.WARN){const i=e.map(Pm);aa.warn(`Firestore (${El}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,A1(s,a,i)}function A1(s,e,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw As(a),new Error(a)}function $e(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||A1(e,o,a)}function Ae(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class w1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class Ow{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Mw{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},y=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new w1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class Vw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Lw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function je(s,e){return s<e?-1:s>e?1:0}function om(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Qd(o)===Qd(c)?je(o,c):Qd(o)?1:-1}return je(s.length,e.length)}const jw=55296,Pw=57343;function Qd(s){const e=s.charCodeAt(0);return e>=jw&&e<=Pw}function hl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const A0="__name__";class Li{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Li.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const a=Li.isNumericId(e),o=Li.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Li.extractNumericId(e).compare(Li.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class mt extends Li{construct(e,i,a){return new mt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new mt(i)}static emptyPath(){return new mt([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Li{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return zw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new en([A0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ce($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(mt.fromString(e))}static fromName(e){return new pe(mt.fromString(e).popFirst(5))}static empty(){return new pe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return mt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new mt(e.slice()))}}function Bw(s,e,i){if(!i)throw new ce($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qw(s,e,i,a){if(e===!0&&a===!0)throw new ce($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function w0(s){if(!pe.isDocumentKey(s))throw new ce($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function x1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function hi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(s);throw new ce($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!x1(s))throw new ce($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce($.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,R0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*R0);return new ht(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<x0)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:kt("string",ht._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ht(0,0))}static max(){return new be(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zo=-1;function Hw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new ht(i+1,0):new ht(i,a));return new _r(o,pe.empty(),e)}function Gw(s){return new _r(s.readTime,s.key,zo)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(be.min(),pe.empty(),zo)}static max(){return new _r(be.max(),pe.empty(),zo)}}function Fw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Qw)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(g=>a(g)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Kw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;const qm=-1;function vh(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function Xw(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const R1="";function $w(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=C0(e)),e=Jw(s.get(i),e);return C0(e)}function Jw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case R1:i+="";break;default:i+=c}}return i}function C0(s){return s+R1+""}function I0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function C1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class gt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Wt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let i=new zt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=Zw.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const N1="server_timestamp",D1="__type__",O1="__previous_value__",M1="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[D1]?.stringValue===N1}function Eh(s){const e=s.mapValue.fields[O1];return Hm(e)?Eh(e):e}function Bo(s){const e=vr(s.mapValue.fields[M1].timestampValue);return new ht(e.seconds,e.nanos)}class Ww{constructor(e,i,a,o,c,d,y,g,_,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const ih="(default)";class qo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}function ex(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(s.options.projectId,e)}const V1="__type__",tx="__max__",Vc={mapValue:{}},k1="__vector__",sh="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:ix(s)?9007199254740991:nx(s)?10:11:_e(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bo(s).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=vr(o.timestampValue),y=vr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Er(o.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return wt(o.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return wt(o.integerValue)===wt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=wt(o.doubleValue),y=wt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return hl(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(I0(d)!==I0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Hi(d[g],y[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Ho(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function fl(s,e){if(s===e)return 0;const i=Tr(s),a=Tr(e);if(i!==a)return je(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=wt(c.integerValue||c.doubleValue),g=wt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return D0(s.timestampValue,e.timestampValue);case 4:return D0(Bo(s),Bo(e));case 5:return om(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Er(c),g=Er(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=je(y[_],g[_]);if(S!==0)return S}return je(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=je(wt(c.latitude),wt(d.latitude));return y!==0?y:je(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return O0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[sh]?.arrayValue,S=g[sh]?.arrayValue,w=je(_?.values?.length||0,S?.values?.length||0);return w!==0?w:O0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let w=0;w<g.length&&w<S.length;++w){const M=om(g[w],S[w]);if(M!==0)return M;const F=fl(y[g[w]],_[S[w]]);if(F!==0)return F}return je(g.length,S.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function D0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=vr(s),a=vr(e),o=je(i.seconds,a.seconds);return o!==0?o:je(i.nanos,a.nanos)}function O0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=fl(i[o],a[o]);if(c)return c}return je(i.length,a.length)}function dl(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function Hc(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(s);return e?16+Hc(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ar(a.fields,((c,d)=>{o+=c.length+Hc(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function M0(s){return!!s&&"nullValue"in s}function V0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function nx(s){return(s?.mapValue?.fields||{})[V1]?.stringValue===k1}function Vo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Vo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vo(s.arrayValue.values[i]);return e}return{...s}}function ix(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Vo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ar(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new bn(Vo(this.value))}}function U1(s){const e=[];return Ar(s.fields,((i,a)=>{const o=new en([i]);if(Gc(a)){const c=U1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new On(e)}class ln{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new ln(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,i,a,o){return new ln(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new ln(e,2,i,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function k0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=fl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function U0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function sx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class L1{}class Pt extends L1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ax(e,i,a):i==="array-contains"?new ux(e,a):i==="in"?new cx(e,a):i==="not-in"?new hx(e,a):i==="array-contains-any"?new fx(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lx(e,a):new ox(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fl(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends L1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return j1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j1(s){return s.op==="and"}function P1(s){return rx(s)&&j1(s)}function rx(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function hm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+dl(s.value);if(P1(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function z1(s,e){return s instanceof Pt?(function(a,o){return o instanceof Pt&&a.op===o.op&&a.field.isEqual(o.field)&&Hi(a.value,o.value)})(s,e):s instanceof Gi?(function(a,o){return o instanceof Gi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&z1(d,o.filters[y])),!0):!1})(s,e):void _e(19439)}function B1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${dl(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(B1).join(" ,")+"}"})(s):"Filter"}class ax extends Pt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class lx extends Pt{constructor(e,i){super(e,"in",i),this.keys=q1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ox extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=q1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class ux extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Ho(i.arrayValue,this.value)}}class cx extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ho(this.value.arrayValue,i)}}class hx extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ho(this.value.arrayValue,i)}}class fx extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ho(this.value.arrayValue,a)))}}class dx{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function L0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new dx(s,e,i,a,o,c,d)}function Fm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>dl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>dl(a))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!z1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!U0(s.startAt,e.startAt)&&U0(s.endAt,e.endAt)}function fm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Th{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function mx(s,e,i,a,o,c,d,y){return new Th(s,e,i,a,o,c,d,y)}function bh(s){return new Th(s)}function j0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gx(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function px(s){return s.collectionGroup!==null}function ko(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new zt(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new ah(en.keyField(),a))}return e.Ie}function zi(s){const e=Ae(s);return e.Ee||(e.Ee=yx(e,ko(s))),e.Ee}function yx(s,e){if(s.limitType==="F")return L0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return L0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function dm(s,e,i){return new Th(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Qm(zi(s),zi(e))&&s.limitType===e.limitType}function H1(s){return`${Fm(zi(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>B1(o))).join(", ")}]`),vh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>dl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>dl(o))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of ko(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,g){const _=k0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,ko(a),o)||a.endAt&&!(function(d,y,g){const _=k0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,ko(a),o))})(s,e)}function _x(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function G1(s){return(e,i)=>{let a=!1;for(const o of ko(s)){const c=vx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function vx(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?fl(g,_):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const Ex=new gt(pe.comparator);function ws(){return Ex}const F1=new gt(pe.comparator);function Io(...s){let e=F1;for(const i of s)e=e.insert(i.key,i);return e}function Q1(s){let e=F1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function na(){return Uo()}function Y1(){return Uo()}function Uo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Tx=new gt(pe.comparator),bx=new zt(pe.comparator);function Pe(...s){let e=bx;for(const i of s)e=e.add(i);return e}const Sx=new zt(je);function Ax(){return Sx}function Ym(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function K1(s){return{integerValue:""+s}}function wx(s,e){return Xw(e)?K1(e):Ym(s,e)}class wh{constructor(){this._=void 0}}function xx(s,e,i){return s instanceof lh?(function(o,c){const d={fields:{[D1]:{stringValue:N1},[M1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=Eh(c)),c&&(d.fields[O1]=c),{mapValue:d}})(i,e):s instanceof ml?$1(s,e):s instanceof Go?J1(s,e):(function(o,c){const d=X1(o,c),y=P0(d)+P0(o.Ae);return cm(d)&&cm(o.Ae)?K1(y):Ym(o.serializer,y)})(s,e)}function Rx(s,e,i){return s instanceof ml?$1(s,e):s instanceof Go?J1(s,e):i}function X1(s,e){return s instanceof oh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends wh{}class ml extends wh{constructor(e){super(),this.elements=e}}function $1(s,e){const i=Z1(e);for(const a of s.elements)i.some((o=>Hi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Go extends wh{constructor(e){super(),this.elements=e}}function J1(s,e){let i=Z1(e);for(const a of s.elements)i=i.filter((o=>!Hi(o,a)));return{arrayValue:{values:i}}}class oh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function P0(s){return wt(s.integerValue||s.doubleValue)}function Z1(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Cx{constructor(e,i){this.field=e,this.transform=i}}function Ix(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof ml&&o instanceof ml||a instanceof Go&&o instanceof Go?hl(a.elements,o.elements,Hi):a instanceof oh&&o instanceof oh?Hi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(s.transform,e.transform)}class Nx{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xh{}function W1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,fi.none()):new tu(s.key,s.data,fi.none());{const i=s.data,a=bn.empty();let o=new zt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new wr(s.key,a,new On(o.toArray()),fi.none())}}function Dx(s,e,i){s instanceof tu?(function(o,c,d){const y=o.value.clone(),g=B0(o.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof wr?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=B0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(eE(o)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Lo(s,e,i,a){return s instanceof tu?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=c.value.clone(),S=q0(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof wr?(function(c,d,y,g){if(!Fc(c.precondition,d))return y;const _=q0(c.fieldTransforms,g,d),S=d.data;return S.setAll(eE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function Ox(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=X1(a.transform,o||null);c!=null&&(i===null&&(i=bn.empty()),i.set(a.field,c))}return i||null}function z0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&hl(a,o,((c,d)=>Ix(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends xh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends xh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function B0(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,Rx(d,y,i[o]))}return a}function q0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,xx(c,d,e))}return a}class Km extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Dx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Y1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const g=W1(d,y);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((i,a)=>z0(i,a)))&&hl(this.baseMutations,e.baseMutations,((i,a)=>z0(i,a)))}}class Xm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Tx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(e,i,a,o)}}class kx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ux{constructor(e,i){this.count=e,this.unchangedNames=i}}var Vt,qe;function Lx(s){switch(s){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function tE(s){if(s===void 0)return As("GRPC error has no .code"),$.UNKNOWN;switch(s){case Vt.OK:return $.OK;case Vt.CANCELLED:return $.CANCELLED;case Vt.UNKNOWN:return $.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return $.INTERNAL;case Vt.UNAVAILABLE:return $.UNAVAILABLE;case Vt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Vt.NOT_FOUND:return $.NOT_FOUND;case Vt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Vt.ABORTED:return $.ABORTED;case Vt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Vt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:s})}}(qe=Vt||(Vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function jx(){return new TextEncoder}const Px=new gr([4294967295,4294967295],0);function H0(s){const e=jx().encode(s),i=new _1;return i.update(e),new Uint8Array(i.digest())}function G0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gr([i,a],0),new gr([o,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new No(`Invalid padding: ${i}`);if(a<0)throw new No(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new No(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=gr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(gr.fromNumber(a)));return o.compare(Px)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=H0(e),[a,o]=G0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=H0(e),[a,o]=G0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(be.min(),o,new gt(je),ws(),Pe())}}class nu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,Pe(),Pe(),Pe())}}class Qc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class nE{constructor(e,i){this.targetId=e,this.Ce=i}}class iE{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class F0{constructor(){this.ve=0,this.Fe=Q0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Q0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.He=kc(),this.Je=kc(),this.Ze=new gt(je)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new pe(c.path);this.et(i,d,ln.newNoDocument(d,be.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Er(a).toUint8Array()}catch(g){if(g instanceof I1)return cl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new $m(d,o,c)}catch(g){return cl(g instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const g=new pe(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,ln.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ze,this.je,a);return this.je=ws(),this.He=kc(),this.Je=kc(),this.Ze=new gt(je),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new F0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new zt(je),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new zt(je),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new gt(pe.comparator)}function Q0(){return new gt(pe.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hx={and:"AND",or:"OR"};class Gx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(s,e){return s.useProto3Json||vh(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Fx(s,e){return uh(s,e.toTimestamp())}function Bi(s){return $e(!!s,49232),be.fromTimestamp((function(i){const a=vr(i);return new ht(a.seconds,a.nanos)})(s))}function Jm(s,e){return gm(s,e).canonicalString()}function gm(s,e){const i=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function rE(s){const e=mt.fromString(s);return $e(cE(e),10190,{key:e.toString()}),e}function pm(s,e){return Jm(s.databaseId,e.path)}function Yd(s,e){const i=rE(e);if(i.get(1)!==s.databaseId.projectId)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(lE(i))}function aE(s,e){return Jm(s.databaseId,e)}function Qx(s){const e=rE(s);return e.length===4?mt.emptyPath():lE(e)}function ym(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lE(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Y0(s,e,i){return{name:pm(s,e),fields:i.value.mapValue.fields}}function Yx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?($e(S===void 0||typeof S=="string",58123),tn.fromBase64String(S||"")):($e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),tn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:tE(_.code);return new ce(S,_.message||"")})(d);i=new iE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):be.min(),y=new bn({mapValue:{fields:a.document.fields}}),g=ln.newFoundDocument(o,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Qc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yd(s,a.document),c=a.readTime?Bi(a.readTime):be.min(),d=ln.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yd(s,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Ux(o,c),y=a.targetId;i=new nE(y,d)}}return i}function Kx(s,e){let i;if(e instanceof tu)i={update:Y0(s,e.key,e.value)};else if(e instanceof Km)i={delete:pm(s,e.key)};else if(e instanceof wr)i={update:Y0(s,e.key,e.data),updateMask:iR(e.fieldMask)};else{if(!(e instanceof Mx))return _e(16599,{dt:e.type});i={verify:pm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Fx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function Xx(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Bi(o.updateTime):Bi(c);return d.isEqual(be.min())&&(d=Bi(c)),new Nx(d,o.transformResults||[])})(i,e)))):[]}function $x(s,e){return{documents:[aE(s,e.path)]}}function Jx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aE(s,o);const c=(function(_){if(_.length!==0)return uE(Gi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:el(M.field),direction:eR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Zx(s){let e=Qx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$e(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=oE(w);return M instanceof Gi&&P1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new ah(tl(J.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,vh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(w){const M=!!w.before,F=w.values||[];return new rh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,F=w.values||[];return new rh(F,M)})(i.endAt)),mx(e,o,d,c,y,"F",g,_)}function Wx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function oE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(i.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>oE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function eR(s){return Bx[s]}function tR(s){return qx[s]}function nR(s){return Hx[s]}function el(s){return{fieldPath:s.canonicalString()}}function tl(s){return en.fromServerFormat(s.fieldPath)}function uE(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(V0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(M0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(V0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(M0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:tR(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((o=>uE(o)));return a.length===1?a[0]:{compositeFilter:{op:nR(i.op),filters:a}}})(s):_e(54877,{filter:s})}function iR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function hE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class hr{constructor(e,i,a,o,c=be.min(),d=be.min(),y=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sR{constructor(e){this.yt=e}}function rR(s){const e=Zx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(e,e.limit,"L"):e}class aR{constructor(){this.Sn=new lR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(_r.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class lR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new zt(mt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new zt(mt.comparator)).toArray()}}const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(fE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}const X0="LruGarbageCollector",oR=1048576;function $0([s,e],[i,a]){const o=je(s,i);return o===0?je(e,a):o}class uR{constructor(e){this.Pr=e,this.buffer=new zt($0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();$0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(X0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?le(X0,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Ar(3e5)}))}}class hR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(_h.ce);const a=new uR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(K0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),Za()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${w} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function fR(s,e){return new hR(s,e)}class dR{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Lo(a.mutation,o,On.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const o=na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Io();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=ws();const d=Uo(),y=(function(){return Uo()})();return i.forEach(((g,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof wr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Lo(S.mutation,_,S.mutation.getFieldMask(),ht.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new mR(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Uo();let o=new gt(((d,y)=>d-y)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||On.empty();S=y.applyToLocalView(_,S),a.set(g,S);const w=(o.get(y.batchId)||Pe()).add(g);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,w=Y1();S.forEach((M=>{if(!c.has(M)){const F=W1(i.get(M),a.get(M));F!==null&&w.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return gx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):px(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(na());let y=zo,g=c;return d.next((_=>X.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Pe()))).next((S=>({batchId:y,changes:Q1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Io();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(w,M){return new Th(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,ln.newInvalidDocument(S)))}));let y=Io();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Lo(S.mutation,_,On.empty(),ht.now()),Ah(i,_)&&(y=y.insert(g,_))})),y}))}}class pR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:rR(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),X.resolve()}}class yR{constructor(){this.overlays=new gt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=na(),c=i.length+1,d=new pe(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new gt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=na(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=na(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return X.resolve(y)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kx(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class _R{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.kr=new zt(Ft.Kr),this.qr=new zt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new mt([])),a=new Ft(i,e),o=new Ft(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new mt([])),a=new Ft(i,e),o=new Ft(i,e+1);let c=Pe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||je(e.Hr,i.Hr)}static Ur(e,i){return je(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class vR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Ft.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vx(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ft(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(je);return i.forEach((o=>{const c=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new pe(c),0);let y=new zt(je);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new Ft(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ft(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ER{constructor(e){this.ti=e,this.docs=(function(){return new gt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let a=ws();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ws();const d=i.path,y=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Fw(Gw(S),a)<=0||(o.has(S.key)||Ah(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new TR(this)}getSize(e){return X.resolve(this.size)}}class TR extends dR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class bR{constructor(e){this.persistence=e,this.ri=new ua((i=>Fm(i)),Qm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new gl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class dE{constructor(e,i){this._i={},this.overlays={},this.ai=new _h(0),this.ui=!1,this.ui=!0,this.ci=new _R,this.referenceDelegate=e(this),this.li=new bR(this),this.indexManager=new aR,this.remoteDocumentCache=(function(o){return new ER(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new sR(i),this.Pi=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new vR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new SR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class SR extends Yw{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Ai=null}static Vi(e){return new Wm(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.fi=new ua((a=>$w(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=fR(this,i)}static Vi(e,i){return new ch(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Pe(),o=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new eg(e,i.fromCache,a,o)}}class AR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oS()?8:Kw(on())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Za()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Za()<=Le.DEBUG&&le("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Za()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):X.resolve())}gs(e,i){if(j0(i))return X.resolve(null);let a=zi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,dm(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,o){return j0(i)||o.isEqual(be.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(Za()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(i)),this.Ds(e,d,i,Hw(o,zo)).next((y=>y)))}))}bs(e,i){let a=new zt(G1(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Za()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.fs.getDocumentsMatchingQuery(e,i,_r.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",xR=3e8;class RR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new gt(je),this.Fs=new ua((c=>Fm(c)),Qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function CR(s,e,i,a){return new RR(s,e,i,a)}async function mE(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Pe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function IR(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const w=_.batch,M=w.keys();let F=X.resolve();return M.forEach((J=>{F=F.next((()=>S.getEntry(g,J))).next((se=>{const ee=_.docVersions.get(J);$e(ee!==null,48541),se.version.compareTo(ee)<0&&(w.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),S.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Pe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function gE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function NR(s,e){const i=Ae(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((S,w)=>{const M=o.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),o=o.insert(w,F),(function(se,ee,ge){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=xR?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(M,F,S)&&y.push(i.li.updateTargetData(c,F))}));let g=ws(),_=Pe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(DR(c,d,e.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!a.isEqual(be.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=o,c)))}function DR(s,e,i){let a=Pe(),o=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ws();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):le(tg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function OR(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function MR(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function _m(s,e,i){const a=Ae(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;le(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function J0(s,e,i){const a=Ae(s);let o=be.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const w=Ae(g),M=w.Fs.get(S);return M!==void 0?X.resolve(w.vs.get(M)):w.li.getTargetData(_,S)})(a,d,zi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Pe()))).next((y=>(VR(a,_x(e),y),{documents:y,ks:c})))))}function VR(s,e,i){let a=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class Z0{constructor(){this.activeTargetIds=Ax()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kR{constructor(){this.vo=new Z0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Z0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UR{Mo(e){}shutdown(){}}const W0="ConnectivityMonitor";class ev{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(W0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function vm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Kd="RestConnection",LR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=vm(),y=this.Qo(e,i.toUriEncodedString());le(Kd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:_}=new URL(y),S=yl(_);return this.zo(e,y,g,a,S).then((w=>(le(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw cl(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=LR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class PR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",xo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class al extends jR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!al.c_){const e=b1();xo(e,T1.STAT_EVENT,(i=>{i.stat===lm.PROXY?le(rn,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&le(rn,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(e,i,a,o,c){const d=vm();return new Promise(((y,g)=>{const _=new v1;_.setWithCredentials(!0),_.listenOnce(E1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const w=_.getResponseJson();le(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case qc.TIMEOUT:le(rn,`RPC '${e}' ${d} timed out`),g(new ce($.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const M=_.getStatus();if(le(rn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const se=(function(ge){const me=ge.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(me)>=0?me:$.UNKNOWN})(J.status);g(new ce(se,J.message))}else g(new ce($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ce($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(rn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);le(rn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");le(rn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let w=!1,M=!1;const F=new PR({Ho:J=>{M?le(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(w||(le(rn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),le(rn,`RPC '${e}' stream ${o} sending:`,J),S.send(J))},Jo:()=>S.close()});return xo(S,Co.EventType.OPEN,(()=>{M||(le(rn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),xo(S,Co.EventType.CLOSE,(()=>{M||(M=!0,le(rn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(S))})),xo(S,Co.EventType.ERROR,(J=>{M||(M=!0,cl(rn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new ce($.UNAVAILABLE,"The operation could not be completed")))})),xo(S,Co.EventType.MESSAGE,(J=>{if(!M){const se=J.data[0];$e(!!se,16349);const ee=se,ge=ee?.error||ee[0]?.error;if(ge){le(rn,`RPC '${e}' stream ${o} received error:`,ge);const me=ge.status;let ve=(function(ze){const I=Vt[ze];if(I!==void 0)return tE(I)})(me),Me=ge.message;ve===void 0&&(ve=$.INTERNAL,Me="Unknown error status: "+me+" with message "+ge.message),M=!0,F.o_(new ce(ve,Me)),S.close()}else le(rn,`RPC '${e}' stream ${o} received:`,se),F.__(se)}})),al.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S1()}}function zR(s){return new al(s)}function Xd(){return typeof document<"u"?document:null}function Ch(s){return new Gx(s,!0)}al.c_=!1;class pE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tv="PersistentStream";class yE{constructor(e,i,a,o,c,d,y,g){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BR extends yE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Yx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Bi(d.readTime):be.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=fm(g)?{documents:$x(c,g)}:{query:Jx(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=sE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=Wx(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.K_(i)}}class qR extends yE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Xx(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Kx(this.serializer,a)))};this.K_(i)}}class HR{}class GR extends HR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce($.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,gm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FR(s,e,i,a){return new GR(s,e,i,a)}class QR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class YR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(le(la,"Restarting streams for network reachability change."),await(async function(g){const _=Ae(g);_.Ea.add(4),await iu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Va=new QR(a,o)}}async function Ih(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function iu(s){for(const e of s.Ra)await e(!1)}function _E(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Sl(i).O_()&&ig(i,e))}function ng(s,e){const i=Ae(s),a=Sl(i);i.Ia.delete(e),a.O_()&&vE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Va.set("Unknown"))}function ig(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sl(s).Z_(e)}function vE(s,e){s.da.$e(e),Sl(s).X_(e)}function sg(s){s.da=new zx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Sl(s).start(),s.Va.ua()}function rg(s){return ca(s)&&!Sl(s).x_()&&s.Ia.size>0}function ca(s){return Ae(s).Ea.size===0}function EE(s){s.da=void 0}async function KR(s){s.Va.set("Online")}async function XR(s){s.Ia.forEach(((e,i)=>{ig(s,e)}))}async function $R(s,e){EE(s),rg(s)?(s.Va.ha(e),sg(s)):s.Va.set("Unknown")}async function JR(s,e,i){if(s.Va.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(a){le(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(s,a)}else if(e instanceof Qc?s.da.Xe(e):e instanceof nE?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const a=await gE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(tn.EMPTY_BYTE_STRING,S.snapshotVersion)),vE(c,g);const w=new hr(S.target,g,_,S.sequenceNumber);ig(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){le(la,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,e,i){if(!bl(e))throw e;s.Ea.add(1),await iu(s),s.Va.set("Offline"),i||(i=()=>gE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function TE(s,e){return e().catch((i=>hh(s,i,e)))}async function Nh(s){const e=Ae(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;ZR(e);)try{const o=await OR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,WR(e,o)}catch(o){await hh(e,o)}bE(e)&&SE(e)}function ZR(s){return ca(s)&&s.Ta.length<10}function WR(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function bE(s){return ca(s)&&!br(s).x_()&&s.Ta.length>0}function SE(s){br(s).start()}async function eC(s){br(s).ra()}async function tC(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function nC(s,e,i){const a=s.Ta.shift(),o=Xm.from(a,e,i);await TE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Nh(s)}async function iC(s,e){e&&br(s).Y_&&await(async function(a,o){if((function(d){return Lx(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();br(a).B_(),await TE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(a)}})(s,e),bE(s)&&SE(s)}async function nv(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),le(la,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await iu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function sC(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await iu(i),i.Va.set("Unknown"))}function Sl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ae(i);return c.sa(),new BR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:KR.bind(null,s),Yo:XR.bind(null,s),t_:$R.bind(null,s),J_:JR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),rg(s)?sg(s):s.Va.set("Unknown")):(await s.ma.stop(),EE(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,o){const c=Ae(i);return c.sa(),new qR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eC.bind(null,s),t_:iC.bind(null,s),ta:tC.bind(null,s),na:nC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new ag(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,e){if(As("AsyncQueue",`${e}: ${s}`),bl(s))return new ce($.UNAVAILABLE,`${e}: ${s}`);throw s}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Io(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class iv{constructor(){this.ga=new gt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class pl{constructor(e,i,a,o,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new pl(e,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class aC{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ae(i),c=o.queries;o.queries=sv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ce($.ABORTED,"Firestore shutting down"))}}function sv(){return new ua((s=>H1(s)),Sh)}async function AE(s,e){const i=Ae(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new rC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=lg(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function wE(s,e){const i=Ae(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lC(s,e){const i=Ae(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function oC(s,e,i){const a=Ae(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function og(s){s.Ca.forEach((e=>{e.next()}))}var Em,rv;(rv=Em||(Em={})).Ma="default",rv.Cache="cache";class xE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new pl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class RE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class uC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=G1(e),this.tu=new ll(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new iv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const M=o.get(S),F=Ah(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?J!==se&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(g||_)&&(y=!0)),ee&&(F?(d=d.add(F),c=se?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(F,J){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:ee})}};return se(F)-se(J)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new pl(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new CE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new RE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ug="SyncEngine";class cC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class hC{constructor(e){this.key=e,this.hu=!1}}class fC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((y=>H1(y)),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(pe.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dC(s,e,i=!0){const a=VE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await IE(a,e,i,!0),o}async function mC(s,e){const i=VE(s);await IE(i,e,!0,!1)}async function IE(s,e,i,a){const o=await MR(s.localStore,zi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await gC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&_E(s.remoteStore,o),y}async function gC(s,e,i,a,o){s.pu=(w,M,F)=>(async function(se,ee,ge,me){let ve=ee.view.ru(ge);ve.Ss&&(ve=await J0(se.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,ve))));const Me=me&&me.targetChanges.get(ee.targetId),tt=me&&me.targetMismatches.get(ee.targetId)!=null,ze=ee.view.applyChanges(ve,se.isPrimaryClient,Me,tt);return lv(se,ee.targetId,ze.au),ze.snapshot})(s,w,M,F);const c=await J0(s.localStore,e,!0),d=new uC(e,c.ks),y=d.ru(c.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,g);lv(s,i,_.au);const S=new cC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function pC(s,e,i){const a=Ae(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Sh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(Tl)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function yC(s,e){const i=Ae(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function _C(s,e,i){const a=wC(s);try{const o=await(function(d,y){const g=Ae(d),_=ht.now(),S=y.reduce(((F,J)=>F.add(J.key)),Pe());let w,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=ws(),se=Pe();return g.xs.getEntries(F,S).next((ee=>{J=ee,J.forEach(((ge,me)=>{me.isValidDocument()||(se=se.add(ge))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,J))).next((ee=>{w=ee;const ge=[];for(const me of y){const ve=Ox(me,w.get(me.key).overlayedDocument);ve!=null&&ge.push(new wr(me.key,ve,U1(ve.value.mapValue),fi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,ge,y)})).next((ee=>{M=ee;const ge=ee.applyToLocalDocumentSet(w,se);return g.documentOverlayCache.saveOverlays(F,ee.batchId,ge)}))})).then((()=>({batchId:M.batchId,changes:Q1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new gt(je)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await su(a,o.changes),await Nh(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function NE(s,e){const i=Ae(s);try{const a=await NR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await su(i,a,e)}catch(a){await Tl(a)}}function av(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const g=Ae(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&og(g)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function vC(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new gt(pe.comparator);d=d.insert(c,ln.newNoDocument(c,be.min()));const y=Pe().add(c),g=new Rh(be.min(),new Map,new gt(je),d,y);await NE(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),cg(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Tl)}async function EC(s,e){const i=Ae(s),a=e.batch.batchId;try{const o=await IR(i.localStore,e);OE(i,a,null),DE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,o)}catch(o){await Tl(o)}}async function TC(s,e,i){const a=Ae(s);try{const o=await(function(d,y){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((w=>($e(w!==null,37113),S=w.keys(),g.mutationQueue.removeMutationBatch(_,w)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);OE(a,e,i),DE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,o)}catch(o){await Tl(o)}}function DE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function OE(s,e,i){const a=Ae(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||ME(s,a)}))}function ME(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ng(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),cg(s))}function lv(s,e,i){for(const a of i)a instanceof RE?(s.Vu.addReference(a.key,e),bC(s,a)):a instanceof CE?(le(ug,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||ME(s,a.key)):_e(19791,{wu:a})}function bC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(ug,"New document in limbo: "+i),s.Eu.add(a),cg(s))}function cg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(mt.fromString(e)),a=s.fu.next();s.Au.set(a,new hC(i)),s.Ru=s.Ru.insert(i,a),_E(s.remoteStore,new hr(zi(bh(i.path)),a,"TargetPurposeLimboResolution",_h.ce))}}async function su(s,e,i){const a=Ae(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=eg.Es(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(g,_){const S=Ae(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Ts,(F=>S.persistence.referenceDelegate.addReference(w,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>S.persistence.referenceDelegate.removeReference(w,M.targetId,F)))))))))}catch(w){if(!bl(w))throw w;le(tg,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const F=S.vs.get(M),J=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(M,se)}}})(a.localStore,c))}async function SC(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){le(ug,"User change. New user:",e.toKey());const a=await mE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ce($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ns)}}function AC(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function VE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vC.bind(null,e),e.Pu.J_=lC.bind(null,e.eventManager),e.Pu.yu=oC.bind(null,e.eventManager),e}function wC(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CR(this.persistence,new wR,e.initialUser,this.serializer)}Cu(e){return new dE(Wm.Vi,this.serializer)}Du(e){return new kR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class xC extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new dE((a=>ch.Vi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>av(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SC.bind(null,this.syncEngine),await sC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aC})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),a=zR(e.databaseInfo);return FR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new YR(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>av(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new UR})())}createSyncEngine(e,i){return(function(o,c,d,y,g,_,S){const w=new fC(o,c,d,y,g,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ae(i);le(la,"RemoteStore shutting down."),a.Ea.add(5),await iu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Sr="FirestoreClient";class RC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $d(s,e){s.asyncQueue.verifyOperationInProgress(),le(Sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function ov(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CC(s);le(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>nv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>nv(e.remoteStore,o))),s._onlineComponents=e}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Sr,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;cl("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new fh)}}else le(Sr,"Using default OfflineComponentProvider"),await $d(s,new xC(void 0));return s._offlineComponents}async function UE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Sr,"Using user provided OnlineComponentProvider"),await ov(s,s._uninitializedComponentsProvider._online)):(le(Sr,"Using default OnlineComponentProvider"),await ov(s,new bm))),s._onlineComponents}function IC(s){return UE(s).then((e=>e.syncEngine))}async function Sm(s){const e=await UE(s),i=e.eventManager;return i.onListen=dC.bind(null,e.syncEngine),i.onUnlisten=pC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=yC.bind(null,e.syncEngine),i}function NC(s,e,i,a){const o=new kE(a),c=new xE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>AE(await Sm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>wE(await Sm(s),c)))}}function DC(s,e,i={}){const a=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new kE({next:M=>{S.Nu(),d.enqueueAndForget((()=>wE(c,w)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new ce($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new ce($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new xE(bh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return AE(c,w)})(await Sm(s),s.asyncQueue,e,i,a))),a.promise}function OC(s,e){const i=new pr;return s.asyncQueue.enqueueAndForget((async()=>_C(await IC(s),e,i))),i.promise}function LE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const MC="ComponentProvider",uv=new Map;function VC(s,e,i,a,o){return new Ww(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,LE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const jE="firestore.googleapis.com",cv=!0;class hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oR)throw new ce($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Dw;switch(a.type){case"firstParty":return new kw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=uv.get(i);a&&(le(MC,"Removing Datastore"),uv.delete(i),a.terminate())})(this),Promise.resolve()}}function kC(s,e,i,a={}){s=hi(s,hg);const o=yl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Mv(`https://${y}`),Vv("Firestore",!0)),c.host!==jE&&c.host!==y&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:o,emulatorOptions:a};if(!yr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=an.MOCK_USER;else{_=Wb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ce($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(w)}s._authCredentials=new Ow(new w1(_,S))}}class Dh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Ut._jsonSchema))return new Ut(e,a||null,new pe(mt.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:kt("string",Ut._jsonSchemaVersion),referencePath:kt("string")};class Fo extends Dh{constructor(e,i,a){super(e,i,bh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new pe(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function Yn(s,e,...i){if(s=hn(s),arguments.length===1&&(e=zm.newId()),Bw("doc","path",e),s instanceof hg){const a=mt.fromString(e,...i);return w0(a),new Ut(s,null,new pe(a))}{if(!(s instanceof Ut||s instanceof Fo))throw new ce($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(mt.fromString(e,...i));return w0(a),new Ut(s.firestore,s instanceof Fo?s.converter:null,new pe(a))}}const fv="AsyncQueue";class dv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&le(fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;le(fv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function mv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class oa extends hg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function UC(s,e){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:ih,o=Nm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Jb("firestore");c&&kC(o,...c)}return o}function fg(s){if(s._terminated)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LC(s),s._firestoreClient}function LC(s){const e=s._freezeSettings(),i=VC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(i){throw new ce($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:kt("string",$n._jsonSchemaVersion),bytes:kt("string")};class dg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:kt("string",qi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new di(e.vectorValues);throw new ce($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:kt("string",di._jsonSchemaVersion),vectorValues:kt("object")};const jC=/^__.*__$/;class PC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class PE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function zE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zE(this.dataSource)&&jC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(e)}createContext(e,i,a,o=!1){return new Mh({dataSource:e,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BE(s){const e=s._freezeSettings(),i=Ch(s._databaseId);return new zC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function BC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);gg("Data must be an object, but it was:",d,a);const y=qE(a,d);let g,_;if(c.merge)g=new On(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=Qo(e,w,i);if(!d.contains(M))throw new ce($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);FE(S,M)||S.push(M)}g=new On(S),_=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,_=d.fieldTransforms;return new PC(new bn(y),g,_)}class Vh extends Oh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function qC(s,e,i){return new Mh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends Oh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=qC(this,e,!0),a=this.Ac.map((c=>ru(c,i))),o=new ml(a);return new Cx(e.path,o)}isEqual(e){return e instanceof mg&&yr(this.Ac,e.Ac)}}function HC(s,e,i,a){const o=s.createContext(1,e,i);gg("Data must be an object, but it was:",o,a);const c=[],d=bn.empty();Ar(a,((g,_)=>{const S=GE(e,g,i);_=hn(_);const w=o.childContextForFieldPath(S);if(_ instanceof Vh)c.push(S);else{const M=ru(_,w);M!=null&&(c.push(S),d.set(S,M))}}));const y=new On(c);return new PE(d,y,o.fieldTransforms)}function GC(s,e,i,a,o,c){const d=s.createContext(1,e,i),y=[Qo(e,a,i)],g=[o];if(c.length%2!=0)throw new ce($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Qo(e,c[M])),g.push(c[M+1]);const _=[],S=bn.empty();for(let M=y.length-1;M>=0;--M)if(!FE(_,y[M])){const F=y[M];let J=g[M];J=hn(J);const se=d.childContextForFieldPath(F);if(J instanceof Vh)_.push(F);else{const ee=ru(J,se);ee!=null&&(_.push(F),S.set(F,ee))}}const w=new On(_);return new PE(S,w,d.fieldTransforms)}function ru(s,e){if(HE(s=hn(s)))return gg("Unsupported field value:",e,s),qE(s,e);if(s instanceof Oh)return(function(a,o){if(!zE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let g=ru(y,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ht.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof ht){const c=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:sE(o.serializer,a._byteString)};if(a instanceof Ut){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof di)return(function(d,y){const g=d instanceof di?d.toArray():d;return{mapValue:{fields:{[V1]:{stringValue:k1},[sh]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Ym(y.serializer,S)}))}}}}}})(a,o);if(hE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Bm(a)}`)})(s,e)}function qE(s,e){const i={};return C1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((a,o)=>{const c=ru(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof qi||s instanceof $n||s instanceof Ut||s instanceof Oh||s instanceof di||hE(s))}function gg(s,e,i){if(!HE(i)||!x1(i)){const a=Bm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Qo(s,e,i){if((e=hn(e))instanceof dg)return e._internalPath;if(typeof e=="string")return GE(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FC=new RegExp("[~\\*/\\[\\]]");function GE(s,e,i){if(e.search(FC)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new dg(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new ce($.INVALID_ARGUMENT,y+s+g)}function FE(s,e){return s.some((i=>i.isEqual(e)))}class QC{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ar(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new di(i)}convertGeoPoint(e){return new qi(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const i=vr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=mt.fromString(e);$e(cE(a),9688,{name:e});const o=new qo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class QE extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function Lc(...s){return new mg("arrayUnion",s)}const gv="@firebase/firestore",pv="4.10.0";function yv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class YE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Qo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YC extends YE{data(){return super.data()}}function KC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function XC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends YE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Qo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:kt("string",ia._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Yc extends ia{data(e={}){return super.data(e)}}class ol{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const g=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Do(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Do(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:$C(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $C(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:kt("string",ol._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function _v(s){s=hi(s,Ut);const e=hi(s.firestore,oa),i=fg(e);return DC(i,s._key).then((a=>KE(e,s,a)))}function JC(s,e,i){s=hi(s,Ut);const a=hi(s.firestore,oa),o=XC(s.converter,e),c=BE(a);return pg(a,[BC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,fi.none())])}function ps(s,e,i,...a){s=hi(s,Ut);const o=hi(s.firestore,oa),c=BE(o);let d;return d=typeof(e=hn(e))=="string"||e instanceof dg?GC(c,"updateDoc",s._key,e,i,a):HC(c,"updateDoc",s._key,e),pg(o,[d.toMutation(s._key,fi.exists(!0))])}function ZC(s){return pg(hi(s.firestore,oa),[new Km(s._key,fi.none())])}function vv(s,...e){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Ut)d=hi(s.firestore,oa),y=bh(s._key.path),c={next:_=>{e[a]&&e[a](KE(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=hi(s,Dh);d=hi(_.firestore,oa),y=_._query;const S=new QE(d);c={next:w=>{e[a]&&e[a](new ol(d,S,_,w))},error:e[a+1],complete:e[a+2]},KC(s._query)}const g=fg(d);return NC(g,y,o,c)}function pg(s,e){const i=fg(s);return OC(i,e)}function KE(s,e,i){const a=i.docs.get(e._key),o=new QE(s);return new ia(s,o,e._key,a,new Do(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Nw(_l),ul(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new oa(new Mw(a.getProvider("auth-internal")),new Uw(d,a.getProvider("app-check-internal")),ex(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),mr(gv,pv,e),mr(gv,pv,"esm2020")})();const XE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const WC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Ev=s=>{const e=eI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var tI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const iI=Ke.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},g)=>Ke.createElement("svg",{ref:g,...tI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:XE("lucide",o),...!c&&!nI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Ke.createElement(_,S)),...Array.isArray(c)?c:[c]]));const et=(s,e)=>{const i=Ke.forwardRef(({className:a,...o},c)=>Ke.createElement(iI,{ref:c,iconNode:e,className:XE(`lucide-${WC(Ev(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ev(s),i};const sI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Am=et("arrow-right",sI);const rI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],aI=et("bird",rI);const lI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tv=et("book-open",lI);const oI=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],$E=et("cat",oI);const uI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ro=et("circle-check-big",uI);const cI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hI=et("copy",cI);const fI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],bv=et("crown",fI);const dI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JE=et("eye",dI);const mI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],gI=et("fish",mI);const pI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],yI=et("hammer",pI);const _I=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],vI=et("hand",_I);const EI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],TI=et("history",EI);const bI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ZE=et("house",bI);const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WE=et("info",SI);const AI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wm=et("log-out",AI);const wI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xI=et("message-square",wI);const RI=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],kh=et("paw-print",RI);const CI=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],II=et("rabbit",CI);const NI=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],DI=et("rat",NI);const OI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],MI=et("rotate-ccw",OI);const VI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],eT=et("skull",VI);const kI=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],UI=et("snail",kI);const LI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sv=et("sparkles",LI);const jI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PI=et("trash-2",jI);const zI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BI=et("triangle-alert",zI);const qI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],HI=et("trophy",qI);const GI=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],FI=et("turtle",GI);const QI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xm=et("user",QI);const YI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mh=et("x",YI),KI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:a9758ba9c41e4b5a6aa637"},tT=Lv(KI),Jd=Cw(tT),Kn=UC(tT),ui=typeof __app_id<"u"?__app_id:"royal-menagerie-game",XI="19",Zt={RAT:{name:"Rat",icon:DI,color:"text-gray-200",bg:"bg-gray-800",border:"border-gray-600"},CAT:{name:"Cat",icon:$E,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-700"},DOG:{name:"Dog",icon:kh,color:"text-white",bg:"bg-black",border:"border-gray-500"},RABBIT:{name:"Rabbit",icon:II,color:"text-pink-200",bg:"bg-pink-900",border:"border-pink-700"},TURTLE:{name:"Turtle",icon:FI,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-700"},FISH:{name:"Fish",icon:gI,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-700"},BIRD:{name:"Bird",icon:aI,color:"text-sky-200",bg:"bg-sky-900",border:"border-sky-700"},SNAIL:{name:"Snail",icon:UI,color:"text-fuchsia-200",bg:"bg-fuchsia-900",border:"border-fuchsia-700"}},$I=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Av=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[b.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-purple-400 to-pink-500 uppercase tracking-widest",children:"ROYAL GUIDE"}),b.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"The Court of Deception"})]}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:b.jsx(mh,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 text-gray-300",children:[b.jsxs("div",{className:"bg-linear-to-r from-purple-900/30 to-pink-900/30 p-4 md:p-6 rounded-2xl border border-purple-700/30",children:[b.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[b.jsx(HI,{className:"text-yellow-400",size:24})," The Objective"]}),b.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["There is only ",b.jsx("strong",{children:"ONE LOSER"}),". Everyone else wins.",b.jsx("br",{}),b.jsx("br",{}),"You lose if you collect:",b.jsx("br",{}),"1. ",b.jsx("strong",{children:"4 cards"})," of the same Animal.",b.jsx("br",{}),"2. ",b.jsx("strong",{children:"1 card"})," of every Animal (8 total).",b.jsx("br",{}),"3. Or run out of cards in your hand when you need to play."]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[b.jsx(xI,{className:"text-purple-400",size:24})," Gameplay"]}),b.jsxs("div",{className:"space-y-4 border-l-2 border-gray-700 ml-4 pl-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white text-lg",children:"1. The Offer"}),b.jsxs("p",{children:['Pick a card from your hand, pass it face-down to a player, and declare an animal name (e.g., "This is a Rat"). You can'," ",b.jsx("strong",{children:"Lie"})," or tell the ",b.jsx("strong",{children:"Truth"}),"."]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white text-lg",children:"2. The Response"}),b.jsx("p",{children:"The receiver has two choices:"}),b.jsxs("ul",{className:"list-disc ml-6 mt-1 space-y-1",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Guess:"}),' Say "True" or "False". If they guess right, YOU get the card face-up. If they guess wrong, THEY get the card.']}),b.jsxs("li",{children:[b.jsx("strong",{children:"Peek & Pass:"})," Peek at the card, then pass it to a ",b.jsx("em",{children:"new"})," player with a new claim."]})]})]})]})]})]}),b.jsx("div",{className:"p-4 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:b.jsx("button",{onClick:s,className:"bg-purple-600 hover:bg-purple-500 text-white px-10 py-3 rounded-xl font-bold text-lg shadow-xl",children:"Enter the Court"})})]})}),wv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Court?"}),b.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:o?"Leaving now will disrupt the proceedings!":"Leaving the lobby will disconnect you."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),o&&a&&b.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[b.jsx(ZE,{size:18})," Return Court to Lobby"]}),b.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[b.jsx(wm,{size:18})," ",o&&a?"End Game for All":"Leave Game"]})]})]})}),JI=({type:s,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${s==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${s==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:b.jsx(a,{size:64,className:"animate-bounce"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Zd=({isShaking:s})=>b.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Zt),o=Zt[a[i%a.length]].icon;return b.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:b.jsx(o,{size:32})},i)})}),b.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),xv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(kh,{size:12,className:"text-purple-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"ROYAL MENAGERIE"})]}),ZI=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(kh,{size:20,className:"text-purple-500"}),b.jsx("span",{className:"text-[20px] font-black tracking-widest text-purple-500 uppercase",children:"ROYAL MENAGERIE"})]}),WI=({title:s,text:e,onClose:i,type:a="info",card:o=null})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-150 flex items-center justify-center p-4 animate-in fade-in",children:b.jsx("div",{className:"bg-gray-800 border-2 border-purple-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:b.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?b.jsx(BI,{className:"text-red-500 w-12 h-12"}):a==="loss"?b.jsx(eT,{className:"text-red-500 w-12 h-12 animate-bounce"}):b.jsx(WE,{className:"text-purple-400 w-12 h-12"}),b.jsx("h3",{className:"text-2xl font-bold text-white",children:s}),b.jsx("p",{className:"text-gray-300 text-lg",children:e}),o&&b.jsxs("div",{className:"my-2",children:[b.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"The Card Was"}),b.jsx(ta,{type:o,small:!0})]}),b.jsx("button",{onClick:i,className:"w-full py-3 rounded-lg font-bold text-white bg-purple-600 hover:bg-purple-500 transition-colors",children:a==="loss"?"Accept Fate":"Understood"})]})})}),eN=({turnState:s,players:e,currentUserId:i})=>{if(!s||s.originId===i||s.holderId===i)return null;const a=e.find(d=>d.id===s.originId),o=e.find(d=>d.id===s.holderId),c=Zt[s.declaredType];return!a||!o||!c?null:b.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-80 pointer-events-none animate-in fade-in zoom-in",children:b.jsxs("div",{className:"bg-gray-900/90 border-2 border-purple-500/50 backdrop-blur-md p-4 rounded-2xl shadow-[0_0_30px_rgba(168,85,247,0.3)] flex flex-col items-center gap-3 w-64 md:w-80",children:[b.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-xs font-bold uppercase tracking-widest",children:[b.jsx(JE,{size:14,className:"animate-pulse"})," Live Interaction"]}),b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center mb-1",children:b.jsx(xm,{size:20,className:"text-gray-400"})}),b.jsx("span",{className:"text-xs font-bold text-gray-300 max-w-[80px] truncate",children:a.name})]}),b.jsxs("div",{className:"flex flex-col items-center px-2",children:[b.jsx(Am,{className:"text-purple-500 animate-pulse"}),b.jsx("span",{className:"text-[10px] text-purple-400 font-bold mt-1",children:"OFFERS"})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center mb-1",children:b.jsx(xm,{size:20,className:"text-gray-400"})}),b.jsx("span",{className:"text-xs font-bold text-gray-300 max-w-[80px] truncate",children:o.name})]})]}),b.jsxs("div",{className:"w-full bg-gray-800/50 rounded-lg p-2 flex items-center justify-center gap-2 border border-gray-700",children:[b.jsx("span",{className:"text-gray-400 text-sm",children:"Claim:"}),b.jsxs("div",{className:`flex items-center gap-1 font-bold ${c.color}`,children:[b.jsx(c.icon,{size:16}),b.jsx("span",{children:c.name})]})]}),b.jsxs("div",{className:"text-[10px] text-gray-500 italic text-center w-full",children:["Waiting for ",o.name," to decide..."]})]})})},ta=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c,isFaceDown:d})=>{if(d)return b.jsx("div",{onClick:e,className:`relative rounded-xl border-2 border-purple-800 bg-purple-950 shadow-lg flex items-center justify-center
            ${o?"w-12 h-16":"w-24 h-36 md:w-32 md:h-48"} 
            ${i?"opacity-50":"cursor-pointer hover:scale-105 transition-transform"}`,children:b.jsx($E,{className:"text-purple-700 opacity-20",size:o?16:48})});const y=Zt[s];if(!y)return b.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded"});const g=o?"w-12 h-16 md:w-16 md:h-24":"w-24 h-36 md:w-32 md:h-48",_=o?"w-6 h-6 md:w-8 md:h-8":"w-12 h-12 md:w-16 md:h-16",S=o?"text-[8px] md:text-[10px]":"text-sm md:text-base";return c?b.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${y.bg} border border-gray-400`,title:y.name,children:b.jsx(y.icon,{className:`${y.color} w-3 h-3`})}):b.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-4 shadow-lg transition-all flex flex-col items-center justify-center gap-1 md:gap-2
        ${g}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":y.border}
        ${y.bg} 
        ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsx(y.icon,{className:`${y.color} ${_} drop-shadow-md`})}),b.jsx("div",{className:`font-black uppercase tracking-wider ${S} ${y.color} w-full text-center pb-2 md:pb-4`,children:b.jsx("span",{children:y.name})})]})},tN=({logs:s,onClose:e})=>b.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:b.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] flex flex-col border border-gray-700 md:rounded-xl",children:[b.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[b.jsx("h3",{className:"text-white font-bold text-lg",children:"Court Records"}),b.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:b.jsx(mh,{className:"text-gray-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>b.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function nN(){const[s,e]=Ke.useState(null),[i,a]=Ke.useState("menu"),[o,c]=Ke.useState(()=>localStorage.getItem("royal_menagerie_roomId")||""),[d,y]=Ke.useState(""),[g,_]=Ke.useState(null),[S,w]=Ke.useState(!1),[M,F]=Ke.useState(""),[J,se]=Ke.useState(!1),[ee,ge]=Ke.useState(null),[me,ve]=Ke.useState(null),[Me,tt]=Ke.useState(null),[ze,I]=Ke.useState(!1),[A,C]=Ke.useState(!1),[V,N]=Ke.useState(!1),[U,x]=Ke.useState(!1),[at,pt]=Ke.useState(null),[H,ne]=Ke.useState(null),[fe,Ve]=Ke.useState(!1),[He,O]=Ke.useState(!1),[Q,ie]=Ke.useState(()=>localStorage.getItem("gameHub_playerName")||"");Ke.useEffect(()=>{Q&&localStorage.setItem("gameHub_playerName",Q)},[Q]),Ke.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await m2(Jd,__initial_auth_token):await u2(Jd))(),y2(Jd,e)},[]),Ke.useEffect(()=>{const he=vv(Yn(Kn,"game_hub_settings","config"),Z=>{Z.exists()&&Z.data()[XI]?.maintenance?Ve(!0):Ve(!1)});return()=>he()},[]),Ke.useEffect(()=>{if(!o||!s)return;const he=vv(Yn(Kn,"artifacts",ui,"public","data","rooms",o),Z=>{if(Z.exists()){const ae=Z.data();if(!ae.players.some(Ce=>Ce.id===s.uid)){localStorage.removeItem("royal_menagerie_roomId"),c(""),a("menu"),F("You have been removed from the court.");return}_(ae),ae.status==="lobby"?a("lobby"):a("game")}else localStorage.removeItem("royal_menagerie_roomId"),c(""),a("menu"),F("The court has been dissolved.")});return()=>he()},[o,s]);const re=(he,Z,ae,Ce)=>{pt({type:he,message:Z,subtext:ae,icon:Ce}),setTimeout(()=>pt(null),3e3)},Ee=async()=>{if(!Q)return F("Name required");w(!0);const he="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let Z="";for(let Ce=0;Ce<6;Ce++)Z+=he.charAt(Math.floor(Math.random()*he.length));const ae={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:Q,hand:[],faceUpCards:[],eliminated:!1,ready:!1}],turnState:null,turnIndex:0,logs:[],winnerId:null};await JC(Yn(Kn,"artifacts",ui,"public","data","rooms",Z),ae),localStorage.setItem("royal_menagerie_roomId",Z),c(Z),a("lobby"),w(!1)},we=async()=>{if(!d||!Q)return F("Code and Name required");w(!0);const he=Yn(Kn,"artifacts",ui,"public","data","rooms",d),Z=await _v(he);if(!Z.exists()){F("Room not found"),w(!1);return}const ae=Z.data();if(ae.status!=="lobby"&&!ae.players.find(Ce=>Ce.id===s.uid)){F("Game in progress"),w(!1);return}if(ae.players.length>=7&&!ae.players.find(Ce=>Ce.id===s.uid)){F("Room full"),w(!1);return}if(!ae.players.find(Ce=>Ce.id===s.uid)){const Ce=[...ae.players,{id:s.uid,name:Q,hand:[],faceUpCards:[],eliminated:!1,ready:!1}];await ps(he,{players:Ce})}localStorage.setItem("royal_menagerie_roomId",d),c(d),w(!1)},Ne=async()=>{if(!o||!s)return;const he=Yn(Kn,"artifacts",ui,"public","data","rooms",o),Z=await _v(he);if(Z.exists()){const ae=Z.data();if(ae.hostId===s.uid||ae.players.length<=1)await ZC(he);else{const Bt=ae.players.filter(Tt=>Tt.id!==s.uid);await ps(he,{players:Bt})}}localStorage.removeItem("royal_menagerie_roomId"),c(""),a("menu"),_(null),N(!1)},Et=async he=>{if(!g||g.hostId!==s.uid)return;const Z=g.players.filter(ae=>ae.id!==he);await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{players:Z})},ot=()=>{const he=g.roomId,Z=()=>{O(!0),setTimeout(()=>O(!1),2e3),re&&re("neutral","COPIED!","",Ro)};try{navigator.clipboard.writeText(he),Z()}catch{const Ce=document.createElement("textarea");Ce.value=he,document.body.appendChild(Ce),Ce.select(),document.execCommand("copy"),document.body.removeChild(Ce),Z()}},Fi=async()=>{if(!g||!s)return;const he=g.players.map(Z=>Z.id===s.uid?{...Z,ready:!Z.ready}:Z);await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{players:he})},mi=async()=>{if(!g||g.hostId!==s.uid)return;const he=g.players.map(Z=>({...Z,hand:[],faceUpCards:[],eliminated:!1,ready:!1}));await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{status:"lobby",players:he,turnState:null,logs:[],winnerId:null}),N(!1)},Rs=async()=>{!g||g.hostId!==s.uid||Qi()},Qi=async()=>{if(g.hostId!==s.uid)return;const he=g.players.map(te=>({...te,hand:[],faceUpCards:[],eliminated:!1,ready:!1})),Z=he.length;let ae=[];Object.keys(Zt).forEach(te=>{for(let Lt=0;Lt<9;Lt++)ae.push(te)}),ae=$I(ae);const Ce=ae.length%Z;for(let te=0;te<Ce;te++)ae.pop();Z<4&&(ae.pop(),ae.pop(),ae.pop());let Bt=0;for(;ae.length>0;)he[Bt].hand.push(ae.pop()),Bt=(Bt+1)%Z;const Tt=Math.floor(Math.random()*Z);await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{status:"playing",players:he,turnIndex:Tt,turnState:null,winnerId:null,logs:[{id:Date.now().toString(),text:"The Royal Menagerie is open! Let the deception begin.",type:"neutral"}]})},Mn=async()=>{if(!ee||!me||!Me)return;const he=[...g.players],Z=he.findIndex(te=>te.id===s.uid),ae=he[Z],Ce=ae.hand.indexOf(ee);if(Ce===-1)return;ae.hand.splice(Ce,1);const Bt={activeCard:ee,declaredType:Me,holderId:me,originId:s.uid,passedTrace:[s.uid]},Tt=g.players.find(te=>te.id===me)?.name||"Unknown";await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{players:he,turnState:Bt,logs:Lc({id:Date.now().toString(),text:`${ae.name} passed a card to ${Tt} claiming it is a ${Zt[Me].name}.`,type:"neutral"})}),ge(null),ve(null),tt(null)},Cs=async he=>{const Z=g.turnState,ae=Z.activeCard,Ce=Z.declaredType,Bt=ae===Ce,Tt=he&&Bt||!he&&!Bt,te=Tt?Z.originId:s.uid,Lt=Tt?s.uid:Z.originId,fn=[...g.players],Vn=fn.findIndex(Xe=>Xe.id===te);if(Vn===-1)return;fn[Vn].faceUpCards.push(ae);const dn=fn[Vn],gi=dn.name,Jn=fn.find(Xe=>Xe.id===Lt)?.name||"Unknown";let Xi=Tt?`${Jn} correctly guessed! ${gi} takes the ${Zt[ae].name}.`:`${Jn} guessed wrong! They take the ${Zt[ae].name}.`;s.uid===Lt?re("success","CORRECT!",`${gi} takes the card`,Ro):s.uid===te?re("failure","WRONG!",`You take the ${Zt[ae].name}`,mh):re("neutral","RESULT",Xi,WE);const $i={};dn.faceUpCards.forEach(Xe=>$i[Xe]=($i[Xe]||0)+1);let nn=!1,yt="";Object.values($i).some(Xe=>Xe>=4)?(nn=!0,yt=`collected 4 ${Zt[ae].name}s`):Object.keys($i).length===8?(nn=!0,yt="collected every animal type"):dn.hand.length===0&&(nn=!0,yt="ran out of cards to play");const Qt={players:fn,turnState:null,turnIndex:Vn,logs:Lc({id:Date.now().toString(),text:Xi,type:Tt?"success":"danger"})};nn&&(Qt.status="finished",Qt.winnerId=te,Qt.logs=Lc({id:Date.now().toString(),text:`GAME OVER! ${gi} ${yt} and is the Royal Fool!`,type:"danger"})),await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),Qt)},Yi=async()=>{if(!me||!Me)return;const he=g.turnState,Z=[...he.passedTrace,s.uid],ae={...he,holderId:me,originId:s.uid,declaredType:Me,passedTrace:Z},Ce=g.players.find(Bt=>Bt.id===s.uid)?.name||"Unknown";await ps(Yn(Kn,"artifacts",ui,"public","data","rooms",o),{turnState:ae,logs:Lc({id:Date.now().toString(),text:`${Ce} looked and passed the card.`,type:"neutral"})}),C(!1),ve(null),tt(null)},Ki=(he=[])=>g.players.filter(Z=>Z.id!==s.uid&&!he.includes(Z.id)&&!Z.eliminated);if(fe)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(yI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The Queen is feeding the royal animals. The animals will return after some rest."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Sv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Sv,{size:16})]})})})})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),U&&b.jsx(Av,{onClose:()=>x(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(kh,{size:80,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-purple-400 to-pink-600 font-serif tracking-widest drop-shadow-md",children:"ROYAL MENAGERIE"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"The Court of Deception"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[M&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Your Title (Name)",value:Q,onChange:he=>ie(he.target.value)}),b.jsxs("button",{onClick:Ee,disabled:S,className:"w-full bg-linear-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.2)] transition-all",children:[b.jsx(bv,{size:20})," Establish Court"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:d,onChange:he=>y(he.target.value.toUpperCase())}),b.jsx("button",{onClick:we,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),b.jsxs("button",{onClick:()=>x(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(Tv,{size:16})," Royal Guide"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Cockroach Poker. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 underline hover:text-pink-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const he=g.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(Zd,{}),b.jsx(ZI,{}),V&&b.jsx(wv,{onCancel:()=>N(!1),onConfirmLeave:Ne,onConfirmLobby:()=>{mi(),N(!1)},isHost:he,inGame:!1}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg md:text-xl text-purple-400 font-bold uppercase",children:"Court Room"}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:o}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:ot,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:He?b.jsx(Ro,{size:16,className:"text-green-500"}):b.jsx(hI,{size:16})}),He&&b.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-purple-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),b.jsx("button",{onClick:()=>N(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:b.jsx(wm,{size:16})})]}),b.jsxs("div",{className:"space-y-2 mb-8",children:[g.players.map(Z=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[b.jsxs("span",{className:`font-bold flex items-center gap-2 ${Z.id===s.uid?"text-purple-400":"text-gray-300"}`,children:[Z.id===g.hostId&&b.jsx(bv,{size:14,className:"text-yellow-500"}),Z.name]}),he&&Z.id!==s.uid&&b.jsx("button",{onClick:()=>Et(Z.id),className:"text-gray-500 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:b.jsx(PI,{size:16})})]},Z.id)),g.players.length<2&&b.jsx("div",{className:"text-gray-500 italic text-center",children:"Waiting for diplomats..."})]}),he?b.jsx("button",{onClick:Qi,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${g.players.length>=2?"bg-green-700 hover:bg-green-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:g.players.length<2?"Awaiting Diplomats...":"Start the Masquerade"}):b.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"The Host is preparing the deck..."})]}),b.jsx(xv,{})]})}if(i==="game"&&g){const he=g.hostId===s.uid,Z=g.players.find(te=>te.id===s.uid),ae=g.status==="playing"&&!g.turnState&&g.players[g.turnIndex]?.id===s.uid,Ce=g.status==="playing"&&g.turnState&&g.turnState.holderId===s.uid,Bt=g.winnerId,Tt=g.players.filter(te=>te.id!==g.hostId).every(te=>te.ready);return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),at&&b.jsx(JI,{...at}),H&&b.jsx(WI,{...H,onClose:()=>ne(null)}),J&&b.jsx(tN,{logs:g.logs,onClose:()=>se(!1)}),U&&b.jsx(Av,{onClose:()=>x(!1)}),g.status==="playing"&&b.jsx(eN,{turnState:g.turnState,players:g.players,currentUserId:s.uid}),V&&b.jsx(wv,{onCancel:()=>N(!1),onConfirmLeave:Ne,onConfirmLobby:()=>{mi(),N(!1)},isHost:he,inGame:!0}),b.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[b.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider",children:"ROYAL MENAGERIE"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:b.jsx(Tv,{size:18})}),b.jsx("button",{onClick:()=>se(!J),className:`p-2 rounded-full ${J?"bg-purple-900 text-purple-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(TI,{size:18})}),b.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:b.jsx(wm,{size:18})})]})]}),g.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 bg-black/95 z-150 flex flex-col items-center justify-center p-4 text-center animate-in fade-in",children:[b.jsx(eT,{size:64,className:"text-red-500 mb-6 animate-bounce"}),b.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white mb-2 uppercase tracking-widest",children:"Game Over"}),b.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-lg",children:[b.jsx("span",{className:"text-red-400 font-bold text-3xl block mb-2",children:g.players.find(te=>te.id===Bt)?.name}),"is the Royal Fool!"]}),b.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 max-w-md",children:g.players.map(te=>b.jsxs("div",{className:`px-3 py-1 rounded-full text-sm border ${te.ready?"border-green-500 bg-green-900/20 text-green-300":"border-gray-600 bg-gray-800 text-gray-400"}`,children:[te.name," ",te.ready&&""]},te.id))}),b.jsx("div",{className:"w-full max-w-xs space-y-3",children:he?b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:Rs,disabled:!Tt,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${Tt?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[b.jsx(MI,{size:20})," Restart Court"]}),b.jsxs("button",{onClick:mi,disabled:!Tt,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${Tt?"border-2 border-green-600 text-green-500 hover:bg-green-600/10":"border-2 border-gray-700 text-gray-600 cursor-not-allowed"}`,children:[b.jsx(ZE,{size:20})," Return to Lobby"]}),!Tt&&b.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Waiting for diplomats to be ready..."})]}):Z.ready?b.jsxs("div",{className:"w-full py-3 bg-gray-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[b.jsx(Ro,{size:20})," Waiting for Host..."]}):b.jsx("button",{onClick:Fi,className:"w-full py-3 rounded-xl font-bold text-lg bg-green-600 hover:bg-green-500 text-white shadow-lg animate-pulse hover:scale-105 transition-all",children:"Ready for Next Game"})})]}),b.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-2 w-full mb-4",children:g.players.map((te,Lt)=>{if(te.id===s.uid)return null;const fn=g.turnState?g.turnState.holderId===te.id:g.players[g.turnIndex]&&g.turnIndex===Lt,Vn=ae&&ee||A,dn=Ki(A?g.turnState.passedTrace:[]),gi=Vn&&dn.some(Jn=>Jn.id===te.id);return b.jsxs("div",{onClick:()=>gi?ve(te.id):null,className:`relative bg-gray-900/90 p-2 rounded-lg border-2 w-28 md:w-36 flex flex-col items-center transition-all
                                              ${fn?"border-yellow-500 shadow-lg shadow-yellow-500/20":"border-gray-700"}
                                              ${gi?"cursor-pointer ring-2 ring-green-500 hover:scale-105":""}
                                              ${me===te.id?"bg-green-900/30 ring-4 ring-green-400":""}
                                             `,children:[b.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[b.jsx("span",{className:"text-xs font-bold truncate text-gray-300",children:te.name}),b.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-1.5 rounded",children:[b.jsx(vI,{size:10,className:"text-gray-400"}),b.jsx("span",{className:"text-xs font-bold",children:te.hand.length})]})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-1 min-h-8",children:[te.faceUpCards.sort().map((Jn,Xi)=>b.jsx(ta,{type:Jn,tiny:!0},Xi)),te.faceUpCards.length===0&&b.jsx("span",{className:"text-[10px] text-gray-600",children:"Safe... for now"})]}),fn&&b.jsx("div",{className:"absolute -top-2 bg-yellow-600 text-[10px] font-bold px-2 rounded-full text-white",children:"ACTIVE"})]},te.id)})}),b.jsx("div",{className:"my-2 bg-black/60 px-4 py-2 rounded-full backdrop-blur text-sm md:text-lg text-center font-bold text-gray-200 border border-gray-700",children:g.turnState?Ce?b.jsx("span",{className:"text-yellow-400 animate-pulse",children:"Incoming Card! Is it true or false?"}):`${g.players.find(te=>te.id===g.turnState.holderId)?.name||"Opponent"} is deciding...`:ae?b.jsx("span",{className:"text-green-400",children:"Your Turn! Select a card from hand."}):`Waiting for ${g.players[g.turnIndex]?.name||"Player"}...`}),ze&&b.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-4 animate-in zoom-in",children:b.jsxs("div",{className:"bg-gray-800 w-full max-w-sm p-6 rounded-2xl border border-gray-600 flex flex-col items-center shadow-2xl relative",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Sneak Peek"}),b.jsx("div",{className:"mb-6",children:b.jsx(ta,{type:g.turnState.activeCard})}),b.jsx("div",{className:"flex gap-4 w-full",children:b.jsx("button",{onClick:()=>{I(!1),C(!0)},className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold",children:"Ready to pass"})})]})}),ae&&ee&&!g.turnState&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none p-4",children:b.jsxs("div",{className:"w-full max-w-lg bg-gray-900 rounded-2xl border border-gray-700 shadow-2xl p-6 animate-in zoom-in pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Hidden"}),b.jsx(ta,{type:ee,small:!0})]}),b.jsx(Am,{className:"text-gray-500"}),b.jsxs("div",{className:"text-center w-32",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Target"}),me?b.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:g.players.find(te=>te.id===me)?.name}):b.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(Zt).map(te=>b.jsxs("button",{onClick:()=>tt(te),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                                ${Me===te?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                               `,children:[B_.createElement(Zt[te].icon,{size:14}),Zt[te].name]},te))})]})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-full mt-4",children:[b.jsx("button",{onClick:Mn,disabled:!me||!Me,className:"bg-green-600 hover:bg-green-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass Card"}),b.jsx("button",{onClick:()=>{ge(null),ve(null),tt(null)},className:"bg-red-900/50 hover:bg-red-900 text-red-300 py-2 rounded-lg w-full text-sm",children:"Cancel"})]})]})}),A&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none p-4",children:b.jsxs("div",{className:"w-full max-w-lg bg-gray-900 rounded-2xl border border-gray-700 shadow-2xl p-6 animate-in zoom-in pointer-events-auto",children:[b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"The Card"}),b.jsx(ta,{type:g.turnState.activeCard,small:!0})]}),b.jsx(Am,{className:"text-gray-500"}),b.jsxs("div",{className:"text-center w-32",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Next Victim"}),me?b.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:g.players.find(te=>te.id===me)?.name}):b.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(Zt).map(te=>b.jsxs("button",{onClick:()=>tt(te),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                                ${Me===te?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                               `,children:[B_.createElement(Zt[te].icon,{size:14}),Zt[te].name]},te))})]})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-full mt-4",children:[b.jsx("button",{onClick:Yi,disabled:!me||!Me,className:"bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass It On"}),b.jsx("button",{onClick:()=>C(!1),className:"text-xs text-gray-500 hover:text-white mt-1",children:"Cancel"})]})]})}),Ce&&!ze&&!A&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none p-4",children:b.jsxs("div",{className:"w-full max-w-lg bg-gray-900 rounded-2xl border-2 border-yellow-500/50 shadow-2xl p-6 animate-in zoom-in pointer-events-auto",children:[b.jsxs("h3",{className:"text-xl md:text-2xl font-black text-center text-white mb-2",children:[g.players.find(te=>te.id===g.turnState.originId)?.name||"Opponent"," ","offers a card..."]}),b.jsxs("p",{className:"text-center text-gray-300 mb-6 text-lg",children:['"This is a'," ",b.jsx("strong",{className:"text-purple-400 text-xl uppercase",children:Zt[g.turnState.declaredType].name}),'."']}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4",children:[b.jsxs("button",{onClick:()=>Cs(!0),className:"flex-1 bg-green-700 hover:bg-green-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[b.jsx(Ro,{}),' "True!"']}),b.jsxs("button",{onClick:()=>Cs(!1),className:"flex-1 bg-red-700 hover:bg-red-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[b.jsx(mh,{}),' "False!"']}),Ki(g.turnState.passedTrace).length>0&&b.jsx("div",{className:"w-px bg-gray-600 mx-2 hidden md:block"}),Ki(g.turnState.passedTrace).length>0&&b.jsxs("button",{onClick:()=>I(!0),className:"flex-1 bg-blue-700 hover:bg-blue-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[b.jsx(JE,{})," Peek & Pass"]})]})]})}),b.jsx("div",{className:"w-full max-w-4xl bg-gray-900/95 p-4 rounded-t-3xl border-t border-purple-900/50 backdrop-blur-md",children:Z&&b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(xm,{className:"text-purple-400",size:16}),b.jsx("span",{className:"font-bold text-gray-300",children:"My Hand"})]}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:Z.hand.map((te,Lt)=>b.jsxs("div",{className:"relative group shrink-0",children:[ee===te&&ae&&!g.turnState&&b.jsx("div",{className:"absolute -top-8 left-0 right-0 text-center bg-yellow-500 text-black text-[10px] font-bold px-1 rounded animate-bounce z-20",children:"Selected"}),b.jsx(ta,{type:te,small:!0,highlight:ee===te,disabled:!ae||g.turnState,onClick:()=>!g.turnState&&ae?ge(te):null})]},`${te}-${Lt}`))}),b.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-gray-800 w-full overflow-hidden",children:[b.jsxs("span",{className:"text-xs text-red-400 font-bold uppercase shrink-0",children:["My Failures (",Z.faceUpCards.length,")"]}),b.jsx("div",{className:"flex gap-1 overflow-x-auto flex-1 pb-1 scrollbar-hide",children:Z.faceUpCards.map((te,Lt)=>b.jsx("div",{className:"shrink-0",children:b.jsx(ta,{type:te,tiny:!0})},Lt))})]})]})})]}),b.jsx(xv,{})]})}return null}qb.createRoot(document.getElementById("root")).render(b.jsx(Ke.StrictMode,{children:b.jsx(nN,{})}));
