(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function wb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},bo={};var M_;function Rb(){if(M_)return bo;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=t,bo.jsx=i,bo.jsxs=i,bo}var V_;function Cb(){return V_||(V_=1,Nd.exports=Rb()),Nd.exports}var S=Cb(),Dd={exports:{}},At={};var k_;function Ib(){if(k_)return At;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ft(O,Y,nt){this.props=O,this.context=Y,this.refs=Z,this.updater=nt||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ft.prototype;function pt(O,Y,nt){this.props=O,this.context=Y,this.refs=Z,this.updater=nt||J}var xt=pt.prototype=new gt;xt.constructor=pt,tt(xt,ft.prototype),xt.isPureReactComponent=!0;var Kt=Array.isArray;function Rt(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Y,nt){var it=nt.ref;return{$$typeof:r,type:O,key:Y,ref:it!==void 0?it:null,props:nt}}function V(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function ae(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,nt,it,vt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=O._init,G(Vt(O._payload),Y,nt,it,vt)}}if(Vt)return vt=vt(O),Vt=it===""?"."+ae(O,0):it,Kt(vt)?(nt="",Vt!=null&&(nt=Vt.replace(R,"$&/")+"/"),G(vt,Y,nt,"",function(hi){return hi})):vt!=null&&(N(vt)&&(vt=V(vt,nt+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Vt)),Y.push(vt)),1;Vt=0;var _e=it===""?".":it+":";if(Kt(O))for(var oe=0;oe<O.length;oe++)it=O[oe],bt=_e+ae(it,oe),Vt+=G(it,Y,nt,bt,vt);else if(oe=H(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(it=O.next()).done;)it=it.value,bt=_e+ae(it,oe++),Vt+=G(it,Y,nt,bt,vt);else if(bt==="object"){if(typeof O.then=="function")return G(de(O),Y,nt,it,vt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(O,Y,nt){if(O==null)return O;var it=[],vt=0;return G(O,it,"","",function(bt){return Y.call(nt,bt,vt++)}),it}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=w,At.Children=Ft,At.Component=ft,At.Fragment=i,At.Profiler=o,At.PureComponent=pt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=tt({},O.props),vt=O.key;if(Y!=null)for(bt in Y.key!==void 0&&(vt=""+Y.key),Y)!A.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(it[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)it.children=nt;else if(1<bt){for(var Vt=Array(bt),_e=0;_e<bt;_e++)Vt[_e]=arguments[_e+2];it.children=Vt}return C(O.type,vt,it)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,nt){var it,vt={},bt=null;if(Y!=null)for(it in Y.key!==void 0&&(bt=""+Y.key),Y)A.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(vt[it]=Y[it]);var Vt=arguments.length-2;if(Vt===1)vt.children=nt;else if(1<Vt){for(var _e=Array(Vt),oe=0;oe<Vt;oe++)_e[oe]=arguments[oe+2];vt.children=_e}if(O&&O.defaultProps)for(it in Vt=O.defaultProps,Vt)vt[it]===void 0&&(vt[it]=Vt[it]);return C(O,bt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ut}},At.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=x.T,nt={};x.T=nt;try{var it=O(),vt=x.S;vt!==null&&vt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Rt,jt)}catch(bt){jt(bt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),x.T=Y}},At.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},At.use=function(O){return x.H.use(O)},At.useActionState=function(O,Y,nt){return x.H.useActionState(O,Y,nt)},At.useCallback=function(O,Y){return x.H.useCallback(O,Y)},At.useContext=function(O){return x.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return x.H.useEffect(O,Y)},At.useEffectEvent=function(O){return x.H.useEffectEvent(O)},At.useId=function(){return x.H.useId()},At.useImperativeHandle=function(O,Y,nt){return x.H.useImperativeHandle(O,Y,nt)},At.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return x.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,nt){return x.H.useReducer(O,Y,nt)},At.useRef=function(O){return x.H.useRef(O)},At.useState=function(O){return x.H.useState(O)},At.useSyncExternalStore=function(O,Y,nt){return x.H.useSyncExternalStore(O,Y,nt)},At.useTransition=function(){return x.H.useTransition()},At.version="19.2.3",At}var U_;function Sm(){return U_||(U_=1,Dd.exports=Ib()),Dd.exports}var te=Sm();const L_=wb(te);var Od={exports:{}},So={},Md={exports:{}},Vd={};var P_;function xb(){return P_||(P_=1,(function(r){function t(G,et){var ut=G.length;G.push(et);t:for(;0<ut;){var jt=ut-1>>>1,Ft=G[jt];if(0<o(Ft,et))G[jt]=et,G[ut]=Ft,ut=jt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],ut=G.pop();if(ut!==et){G[0]=ut;t:for(var jt=0,Ft=G.length,O=Ft>>>1;jt<O;){var Y=2*(jt+1)-1,nt=G[Y],it=Y+1,vt=G[it];if(0>o(nt,ut))it<Ft&&0>o(vt,nt)?(G[jt]=vt,G[it]=ut,jt=it):(G[jt]=nt,G[Y]=ut,jt=Y);else if(it<Ft&&0>o(vt,ut))G[jt]=vt,G[it]=ut,jt=it;else break t}}return et}function o(G,et){var ut=G.sortIndex-et.sortIndex;return ut!==0?ut:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,w=null,M=3,H=!1,J=!1,tt=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function xt(G){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=G)a(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Kt(G){if(tt=!1,xt(G),!J)if(i(_)!==null)J=!0,Rt||(Rt=!0,U());else{var et=i(y);et!==null&&de(Kt,et.startTime-G)}}var Rt=!1,x=-1,A=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<A)}function N(){if(Z=!1,Rt){var G=r.unstable_now();C=G;var et=!0;try{t:{J=!1,tt&&(tt=!1,gt(x),x=-1),H=!0;var ut=M;try{e:{for(xt(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,M=w.priorityLevel;var Ft=jt(w.expirationTime<=G);if(G=r.unstable_now(),typeof Ft=="function"){w.callback=Ft,xt(G),et=!0;break e}w===i(_)&&a(_),xt(G)}else a(_);w=i(_)}if(w!==null)et=!0;else{var O=i(y);O!==null&&de(Kt,O.startTime-G),et=!1}}break t}finally{w=null,M=ut,H=!1}et=void 0}}finally{et?U():Rt=!1}}}var U;if(typeof pt=="function")U=function(){pt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=N,U=function(){ae.postMessage(null)}}else U=function(){ft(N,0)};function de(G,et){x=ft(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ut=M;M=et;try{return G()}finally{M=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=M;M=G;try{return et()}finally{M=ut}},r.unstable_scheduleCallback=function(G,et,ut){var jt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?jt+ut:jt):ut=jt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ut+Ft,G={id:E++,callback:et,priorityLevel:G,startTime:ut,expirationTime:Ft,sortIndex:-1},ut>jt?(G.sortIndex=ut,t(y,G),i(_)===null&&G===i(y)&&(tt?(gt(x),x=-1):tt=!0,de(Kt,ut-jt))):(G.sortIndex=Ft,t(_,G),J||H||(J=!0,Rt||(Rt=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var et=M;return function(){var ut=M;M=et;try{return G.apply(this,arguments)}finally{M=ut}}}})(Vd)),Vd}var z_;function Nb(){return z_||(z_=1,Md.exports=xb()),Md.exports}var kd={exports:{}},nn={};var j_;function Db(){if(j_)return nn;j_=1;var r=Sm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:H}):E==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var B_;function Ob(){if(B_)return kd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Db(),kd.exports}var q_;function Mb(){if(q_)return So;q_=1;var r=Nb(),t=Sm(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case Kt:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var de=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},jt=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=jt[Ft],jt[Ft]=null,Ft--)}function nt(e,n){Ft++,jt[Ft]=e.current,e.current=n}var it=O(null),vt=O(null),bt=O(null),Vt=O(null);function _e(e,n){switch(nt(bt,n),nt(vt,e),nt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),nt(it,e)}function oe(){Y(it),Y(vt),Y(bt)}function hi(e){e.memoizedState!==null&&nt(Vt,e);var n=it.current,s=i_(n,e.type);n!==s&&(nt(vt,e),nt(it,s))}function As(e){vt.current===e&&(Y(it),Y(vt)),Vt.current===e&&(Y(Vt),_o._currentValue=ut)}var fi,dt;function ct(e){if(fi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);fi=n&&n[1]||"",dt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+e+dt}var yt=!1;function $t(e,n){if(!e||yt)return"";yt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{yt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ct(s):""}function Be(e,n){switch(e.tag){case 26:case 27:case 5:return ct(e.type);case 16:return ct("Lazy");case 13:return e.child!==n&&n!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return $t(e.type,!1);case 11:return $t(e.type.render,!1);case 1:return $t(e.type,!0);case 31:return ct("Activity");default:return""}}function lt(e){try{var n="",s=null;do n+=Be(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Dt=Object.prototype.hasOwnProperty,ee=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,di=r.unstable_shouldYield,Xn=r.unstable_requestPaint,ve=r.unstable_now,Mn=r.unstable_getCurrentPriorityLevel,ws=r.unstable_ImmediatePriority,mi=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,Rs=r.unstable_LowPriority,Yi=r.unstable_IdlePriority,bn=r.log,eu=r.unstable_setDisableYieldValue,$n=null,Ye=null;function Vn(e){if(typeof bn=="function"&&eu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode($n,e)}catch{}}var be=Math.clz32?Math.clz32:iu,nu=Math.log,ca=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ca|0)|0}var gi=256,Ar=262144,Ce=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pi(l):(g&=T,g!==0?h=pi(g):s||(s=T&~e,s!==0&&(h=pi(s))))):(T=l&~f,T!==0?h=pi(T):g!==0?h=pi(g):s||(s=l&~e,s!==0&&(h=pi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function _i(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-be(s),K=1<<F;T[F]=0,I[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&Rr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function bl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-be(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Sl(e,n){var s=n&-n;return s=(s&42)!==0?1:Cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Jn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Wn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Wn,qe="__reactProps$"+Wn,vi="__reactContainer$"+Wn,ha="__reactEvents$"+Wn,kh="__reactListeners$"+Wn,au="__reactHandles$"+Wn,lu="__reactResources$"+Wn,Ti="__reactMarker$"+Wn;function fa(e){delete e[Ie],delete e[qe],delete e[ha],delete e[kh],delete e[au]}function Ei(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vi]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[Ie])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function kn(e){if(e=e[Ie]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[Ti]=!0}var Al=new Set,wl={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(wl[e]=n,e=0;e<n.length;e++)Al.add(n[e])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function ou(e){return Dt.call(Il,e)?!0:Dt.call(Cl,e)?!1:Rl.test(e)?Il[e]=!0:(Cl[e]=!0,!1)}function da(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=Cs(e)?"checked":"value";e._valueTracker=xl(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Cs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xr=/[\n"\\]/g;function hn(e){return e.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(e,n,s,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Nl(e,g,He(n)):s!=null?Nl(e,g,He(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function uu(e,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function Nl(e,n,s){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Is(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+He(s):""}function xs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(de(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=He(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ol(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Dl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(e,f,n[f])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Ml=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,Ri=null;function Nr(e){var n=kn(e);if(n&&(e=n.stateNode)){var s=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ma(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[qe]||null;if(!h)throw Error(a(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Ir(l)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Is(e,!!s.multiple,n,!1)}}}var ya=!1;function Os(e,n,s){if(ya)return e(n,s);ya=!0;try{var l=e(n);return l}finally{if(ya=!1,(Ds!==null||Ri!==null)&&(rc(),Ds&&(n=Ds,e=Ri,Ri=Ds=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var l=s[qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Dr=!1}var Ci=null,Vl=null,Or=null;function kl(){if(Or)return Or;var e,n=Vl,s=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Or=h.slice(e,1<l?1-l:void 0)}function Mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function ni(){return!1}function Ke(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke($i),Ms=w({},$i,{view:0,detail:0}),Ul=Ke(Ms),Vs,_a,xi,va=w({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Vs=e.screenX-xi.screenX,_a=e.screenY-xi.screenY):_a=Vs=0,xi=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),Ll=Ke(va),Vr=w({},va,{dataTransfer:0}),du=Ke(Vr),mu=w({},Ms,{relatedTarget:0}),kr=Ke(mu),Pl=w({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Ke(Pl),Ta=w({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Ke(Ta),yu=w({},$i,{data:0}),Ni=Ke(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function ks(){return Eu}var on=w({},Ms,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Ke(on),Su=w({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ke(Su),u=w({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Ke(u),v=w({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(v),L=w({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(L),W=w({},$i,{newState:0,oldState:0}),Ct=Ke(W),Se=[9,13,27,32],Qt=Ln&&"CompositionEvent"in window,me=null;Ln&&"documentMode"in document&&(me=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!me,Di=Ln&&(!Qt||me&&8<me&&11>=me),ii=" ",si=!1;function Ur(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function XT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function $T(e,n){if(ba)return e==="compositionend"||!Qt&&Ur(e,n)?(e=kl(),Or=Vl=Ci=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ZT[e.type]:n==="textarea"}function mg(e,n,s,l){Ds?Ri?Ri.push(l):Ri=[l]:Ds=l,n=fc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var zl=null,jl=null;function JT(e){$y(e,0)}function Au(e){var n=Sn(e);if(Ir(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Ln){var Uh;if(Ln){var Lh="oninput"in document;if(!Lh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Lh=typeof yg.oninput=="function"}Uh=Lh}else Uh=!1;pg=Uh&&(!document.documentMode||9<document.documentMode)}function _g(){zl&&(zl.detachEvent("onpropertychange",vg),jl=zl=null)}function vg(e){if(e.propertyName==="value"&&Au(jl)){var n=[];mg(n,jl,e,Un(e)),Os(JT,n)}}function WT(e,n,s){e==="focusin"?(_g(),zl=n,jl=s,zl.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function tE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(jl)}function eE(e,n){if(e==="click")return Au(n)}function nE(e,n){if(e==="input"||e==="change")return Au(n)}function iE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:iE;function Bl(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Dt.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=Tg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sE=Ln&&"documentMode"in document&&11>=document.documentMode,Sa=null,zh=null,ql=null,jh=!1;function Ag(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Sa==null||Sa!==wi(l)||(l=Sa,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=fc(zh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Sa)))}function Lr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Aa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Bh={},wg={};Ln&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Pr(e){if(Bh[e])return Bh[e];if(!Aa[e])return e;var n=Aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return Bh[e]=n[s];return e}var Rg=Pr("animationend"),Cg=Pr("animationiteration"),Ig=Pr("animationstart"),rE=Pr("transitionrun"),aE=Pr("transitionstart"),lE=Pr("transitioncancel"),xg=Pr("transitionend"),Ng=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ri(e,n){Ng.set(e,n),Si(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],wa=0,Hh=0;function Ru(){for(var e=wa,n=Hh=wa=0;n<e;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Dg(s,h,f)}}function Cu(e,n,s,l){zn[wa++]=e,zn[wa++]=n,zn[wa++]=s,zn[wa++]=l,Hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gh(e,n,s,l){return Cu(e,n,s,l),Iu(e)}function zr(e,n){return Cu(e,null,null,n),Iu(e)}function Dg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<co)throw co=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ra={};function oE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,s,l){return new oE(e,n,s,l)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var s=e.alternate;return s===null?(s=Rn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=db(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Rn(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return jr(s.children,h,f,n);case Z:g=8,h|=24;break;case ft:return e=Rn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Kt:return e=Rn(13,s,n,h),e.elementType=Kt,e.lanes=f,e;case Rt:return e=Rn(19,s,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case gt:g=9;break t;case xt:g=11;break t;case x:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Rn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function jr(e,n,s,l){return e=Rn(7,e,l,n),e.lanes=s,e}function Qh(e,n,s){return e=Rn(6,e,null,n),e.lanes=s,e}function Mg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var s=Vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:lt(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:lt(n)}}var Ca=[],Ia=0,Nu=null,Hl=0,Bn=[],qn=0,Us=null,Oi=1,Mi="";function Wi(e,n){Ca[Ia++]=Hl,Ca[Ia++]=Nu,Nu=e,Hl=n}function kg(e,n,s){Bn[qn++]=Oi,Bn[qn++]=Mi,Bn[qn++]=Us,Us=e;var l=Oi;e=Mi;var h=32-be(l)-1;l&=~(1<<h),s+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Oi=1<<32-be(n)+h|s<<h|l,Mi=f+e}else Oi=1<<f|s<<h|l,Mi=e}function Kh(e){e.return!==null&&(Wi(e,1),kg(e,1,0))}function Xh(e){for(;e===Nu;)Nu=Ca[--Ia],Ca[Ia]=null,Hl=Ca[--Ia],Ca[Ia]=null;for(;e===Us;)Us=Bn[--qn],Bn[qn]=null,Mi=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null}function Ug(e,n){Bn[qn++]=Oi,Bn[qn++]=Mi,Bn[qn++]=Us,Oi=n.id,Mi=n.overflow,Us=e}var Xe=null,ce=null,Bt=!1,Ls=null,Hn=!1,$h=Error(a(519));function Ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(jn(n,e)),$h}function Lg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ie]=e,n[qe]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<fo.length;s++)Mt(fo[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),xs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||t_(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ps(e,!0)}function Pg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function xa(e){if(e!==Xe)return!1;if(!Bt)return Pg(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&ce&&Ps(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=u_(e)}else n===27?(n=ce,Js(e.type)?(e=Td,Td=null,ce=e):ce=n):ce=Xe?Fn(e.stateNode.nextSibling):null;return!0}function Br(){ce=Xe=null,Bt=!1}function Zh(){var e=Ls;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ls=null),e}function Gl(e){Ls===null?Ls=[e]:Ls.push(e)}var Jh=O(null),qr=null,ts=null;function zs(e,n,s){nt(Jh,n._currentValue),n._currentValue=s}function es(e){e._currentValue=Jh.current,Y(Jh)}function Wh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Wh(f.return,s,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_o):e=[_o])}h=h.return}e!==null&&tf(n,e,s,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){qr=e,ts=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return zg(qr,e)}function Ou(e,n){return qr===null&&Hr(e),zg(e,n)}function zg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ts===null){if(e===null)throw Error(a(308));ts=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ts=ts.next=n;return s}var uE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},cE=r.unstable_scheduleCallback,hE=r.unstable_NormalPriority,De={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new uE,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&cE(hE,function(){e.controller.abort()})}var Ql=null,nf=0,Da=0,Oa=null;function fE(e,n){if(Ql===null){var s=Ql=[];nf=0,Da=ad(),Oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(jg,jg),n}function jg(){if(--nf===0&&Ql!==null){Oa!==null&&(Oa.status="fulfilled");var e=Ql;Ql=null,Da=0,Oa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bg=G.S;G.S=function(e,n){Ay=ve(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fE(e,n),Bg!==null&&Bg(e,n)};var Gr=O(null);function sf(){var e=Gr.current;return e!==null?e:le.pooledCache}function Mu(e,n){n===null?nt(Gr,Gr.current):nt(Gr,n.pool)}function qg(){var e=sf();return e===null?null:{parent:De._currentValue,pool:e}}var Ma=Error(a(460)),rf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw Qr=n,Ma}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Qr=s,Ma):s}}var Qr=null;function Fg(){if(Qr===null)throw Error(a(459));var e=Qr;return Qr=null,e}function Qg(e){if(e===Ma||e===Vu)throw Error(a(483))}var Va=null,Yl=0;function Uu(e){var n=Yl;return Yl+=1,Va===null&&(Va=[]),Gg(Va,e,n)}function Kl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Q){return D===null||D.tag!==6?(D=Qh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,Q){var ht=P.type;return ht===tt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Fr(ht)===D.type)?(D=h(D,P.props),Kl(D,P),D.return=k,D):(D=xu(P.type,P.key,P.props,null,k.mode,Q),Kl(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ht){return D===null||D.tag!==7?(D=jr(P,k.mode,Q,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function K(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=xu(D.type,D.key,D.props,null,k.mode,P),Kl(P,D),P.return=k,P;case J:return D=Yh(D,k.mode,P),D.return=k,D;case A:return D=Fr(D),K(k,D,P)}if(de(D)||U(D))return D=jr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return K(k,Uu(D),P);if(D.$$typeof===pt)return K(k,Ou(k,D),P);Lu(k,D)}return null}function j(k,D,P,Q){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:T(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ht?I(k,D,P,Q):null;case J:return P.key===ht?z(k,D,P,Q):null;case A:return P=Fr(P),j(k,D,P,Q)}if(de(P)||U(P))return ht!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Uu(P),Q);if(P.$$typeof===pt)return j(k,D,Ou(k,P),Q);Lu(k,P)}return null}function q(k,D,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(D,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,I(D,k,Q,ht);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ht);case A:return Q=Fr(Q),q(k,D,P,Q,ht)}if(de(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ht,null);if(typeof Q.then=="function")return q(k,D,P,Uu(Q),ht);if(Q.$$typeof===pt)return q(k,D,P,Ou(D,Q),ht);Lu(D,Q)}return null}function rt(k,D,P,Q){for(var ht=null,Ht=null,at=D,Nt=D=0,Ut=null;at!==null&&Nt<P.length;Nt++){at.index>Nt?(Ut=at,at=null):Ut=at.sibling;var Gt=j(k,at,P[Nt],Q);if(Gt===null){at===null&&(at=Ut);break}e&&at&&Gt.alternate===null&&n(k,at),D=f(Gt,D,Nt),Ht===null?ht=Gt:Ht.sibling=Gt,Ht=Gt,at=Ut}if(Nt===P.length)return s(k,at),Bt&&Wi(k,Nt),ht;if(at===null){for(;Nt<P.length;Nt++)at=K(k,P[Nt],Q),at!==null&&(D=f(at,D,Nt),Ht===null?ht=at:Ht.sibling=at,Ht=at);return Bt&&Wi(k,Nt),ht}for(at=l(at);Nt<P.length;Nt++)Ut=q(at,k,Nt,P[Nt],Q),Ut!==null&&(e&&Ut.alternate!==null&&at.delete(Ut.key===null?Nt:Ut.key),D=f(Ut,D,Nt),Ht===null?ht=Ut:Ht.sibling=Ut,Ht=Ut);return e&&at.forEach(function(ir){return n(k,ir)}),Bt&&Wi(k,Nt),ht}function _t(k,D,P,Q){if(P==null)throw Error(a(151));for(var ht=null,Ht=null,at=D,Nt=D=0,Ut=null,Gt=P.next();at!==null&&!Gt.done;Nt++,Gt=P.next()){at.index>Nt?(Ut=at,at=null):Ut=at.sibling;var ir=j(k,at,Gt.value,Q);if(ir===null){at===null&&(at=Ut);break}e&&at&&ir.alternate===null&&n(k,at),D=f(ir,D,Nt),Ht===null?ht=ir:Ht.sibling=ir,Ht=ir,at=Ut}if(Gt.done)return s(k,at),Bt&&Wi(k,Nt),ht;if(at===null){for(;!Gt.done;Nt++,Gt=P.next())Gt=K(k,Gt.value,Q),Gt!==null&&(D=f(Gt,D,Nt),Ht===null?ht=Gt:Ht.sibling=Gt,Ht=Gt);return Bt&&Wi(k,Nt),ht}for(at=l(at);!Gt.done;Nt++,Gt=P.next())Gt=q(at,k,Nt,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&at.delete(Gt.key===null?Nt:Gt.key),D=f(Gt,D,Nt),Ht===null?ht=Gt:Ht.sibling=Gt,Ht=Gt);return e&&at.forEach(function(Ab){return n(k,Ab)}),Bt&&Wi(k,Nt),ht}function re(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===tt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Fr(ht)===D.type){s(k,D.sibling),Q=h(D,P.props),Kl(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===tt?(Q=jr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=xu(P.type,P.key,P.props,null,k.mode,Q),Kl(Q,P),Q.return=k,k=Q)}return g(k);case J:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Yh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Fr(P),re(k,D,P,Q)}if(de(P))return rt(k,D,P,Q);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),_t(k,D,P,Q)}if(typeof P.then=="function")return re(k,D,Uu(P),Q);if(P.$$typeof===pt)return re(k,D,Ou(k,P),Q);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Qh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Yl=0;var ht=re(k,D,P,Q);return Va=null,ht}catch(at){if(at===Ma||at===Vu)throw at;var Ht=Rn(29,at,null,k.mode);return Ht.lanes=Q,Ht.return=k,Ht}finally{}}}var Yr=Yg(!0),Kg=Yg(!1),js=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(e),Dg(e,null,s),n}return Cu(e,l,n,s),Iu(e)}function Xl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bl(e,s)}}function of(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function $l(){if(uf){var e=Oa;if(e!==null)throw e}}function Zl(e,n,s,l){uf=!1;var h=e.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,F=z=I=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(kt&j)===j:(l&j)===j){j!==0&&j===Da&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=e,_t=T;j=n;var re=s;switch(_t.tag){case 1:if(rt=_t.payload,typeof rt=="function"){K=rt.call(re,K,j);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=_t.payload,j=typeof rt=="function"?rt.call(re,K,j):rt,j==null)break t;K=w({},K,j);break t;case 2:js=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,I=K):F=F.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=g,e.lanes=g,e.memoizedState=K}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var ka=O(null),Pu=O(0);function Zg(e,n){e=cs,nt(Pu,e),nt(ka,n),cs=e|n.baseLanes}function cf(){nt(Pu,cs),nt(ka,ka.current)}function hf(){cs=Pu.current,Y(ka),Y(Pu)}var Cn=O(null),Gn=null;function Hs(e){var n=e.alternate;nt(Ae,Ae.current&1),nt(Cn,e),Gn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Gn=e)}function ff(e){nt(Ae,Ae.current),nt(Cn,e),Gn===null&&(Gn=e)}function Jg(e){e.tag===22?(nt(Ae,Ae.current),nt(Cn,e),Gn===null&&(Gn=e)):Gs()}function Gs(){nt(Ae,Ae.current),nt(Cn,Cn.current)}function In(e){Y(Cn),Gn===e&&(Gn=null),Y(Ae)}var Ae=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,It=null,ie=null,Oe=null,ju=!1,Ua=!1,Kr=!1,Bu=0,Jl=0,La=null,mE=0;function Te(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!wn(e[s],n[s]))return!1;return!0}function mf(e,n,s,l,h,f){return ns=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?kp:xf,Kr=!1,f=s(l,h),Kr=!1,Ua&&(f=tp(n,s,l,h)),Wg(e),f}function Wg(e){G.H=eo;var n=ie!==null&&ie.next!==null;if(ns=0,Oe=ie=It=null,ju=!1,Jl=0,La=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Du(e)&&(Me=!0))}function tp(e,n,s,l){It=e;var h=0;do{if(Ua&&(La=null),Jl=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Oe=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Up,f=n(s,l)}while(Ua);return f}function gE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Wl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(It.flags|=1024),n}function gf(){var e=Bu!==0;return Bu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ns=0,Oe=ie=It=null,Ua=!1,Jl=Bu=0,La=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function we(){if(ie===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Oe===null?It.memoizedState:Oe.next;if(n!==null)Oe=n,ie=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(e){var n=Jl;return Jl+=1,La===null&&(La=[]),e=Gg(La,e,n),n=It,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?kp:xf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wl(e);if(e.$$typeof===pt)return $e(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function is(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=we();return vf(n,ie,e)}function vf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(kt&K)===K:(ns&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Da&&(F=!0);else if((ns&j)===j){z=z.next,j===Da&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=K,g=f):I=I.next=K,It.lanes|=j,Ys|=j;K=z.action,Kr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=j,g=f):I=I.next=j,It.lanes|=K,Ys|=K;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=T,!wn(f,e.memoizedState)&&(Me=!0,F&&(s=Oa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tf(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ep(e,n,s){var l=It,h=we(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!wn((ie||h).memoizedState,s);if(g&&(h.memoizedState=s,Me=!0),h=h.queue,Sf(sp.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},ip.bind(null,l,h,s,n),null),le===null)throw Error(a(349));f||(ns&127)!==0||np(l,n,s)}return s}function np(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=qu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,l){n.value=s,n.getSnapshot=l,rp(n)&&ap(e)}function sp(e,n,s){return s(function(){rp(n)&&ap(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!wn(e,s)}catch{return!0}}function ap(e){var n=zr(e,2);n!==null&&yn(n,e,2)}function Ef(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),Kr){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},n}function lp(e,n,s,l){return e.baseState=s,vf(e,ie,typeof l=="function"?l:is)}function pE(e,n,s,l,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,l),I=G.S;I!==null&&I(g,T),up(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),up(e,n,f)}catch(z){bf(e,n,z)}}function up(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cp(e,n,l)},function(l){return bf(e,n,l)}):cp(e,n,s)}function cp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function bf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==l)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(Bt){var s=le.formState;if(s!==null){t:{var l=It;if(Bt){if(ce){e:{for(var h=ce,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Fn(h.nextSibling),l=h.data==="F!";break t}}Ps(l)}l=!1}l&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=l,s=Op.bind(null,It,l),l.dispatch=s,l=Ef(!1),f=If.bind(null,It,!1,l.queue),l=un(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=pE.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function mp(e){var n=we();return gp(n,ie,e)}function gp(e,n,s){if(n=vf(e,n,fp)[0],e=Gu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(g){throw g===Ma?Vu:g}else l=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Pa(9,{destroy:void 0},yE.bind(null,h,s),null)),[l,f,e]}function yE(e,n){e.action=n}function pp(e){var n=we(),s=ie;if(s!==null)return gp(n,s,e);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Pa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=qu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function yp(){return we().memoizedState}function Fu(e,n,s,l){var h=un();It.flags|=e,h.memoizedState=Pa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Qu(e,n,s,l){var h=we();l=l===void 0?null:l;var f=h.memoizedState.inst;ie!==null&&l!==null&&df(l,ie.memoizedState.deps)?h.memoizedState=Pa(n,f,s,l):(It.flags|=e,h.memoizedState=Pa(1|n,f,s,l))}function _p(e,n){Fu(8390656,8,e,n)}function Sf(e,n){Qu(2048,8,e,n)}function _E(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=qu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vp(e){var n=we().memoizedState;return _E({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Qu(4,2,e,n)}function Ep(e,n){return Qu(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,bp.bind(null,n,e),s)}function Af(){}function Ap(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function wp(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=e(),Kr){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[l,n],l}function wf(e,n,s){return s===void 0||(ns&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),It.lanes|=e,Ys|=e,s)}function Rp(e,n,s,l){return wn(s,n)?s:ka.current!==null?(e=wf(e,s,l),wn(e,n)||(Me=!0),e):(ns&42)===0||(ns&1073741824)!==0&&(kt&261930)===0?(Me=!0,e.memoizedState=s):(e=Ry(),It.lanes|=e,Ys|=e,n)}function Cp(e,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,If(e,!1,n,s);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=dE(I,l);to(e,n,F,Dn(e))}else to(e,n,l,Dn(e))}catch(K){to(e,n,{then:function(){},status:"rejected",reason:K},Dn())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function vE(){}function Rf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Cp(e,h,n,ut,s===null?vE:function(){return xp(e),s(l)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),to(e,n.next.queue,{},Dn())}function Cf(){return $e(_o)}function Np(){return we().memoizedState}function Dp(){return we().memoizedState}function TE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();e=Bs(s);var l=qs(n,e,s);l!==null&&(yn(l,n,s),Xl(l,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function EE(e,n,s){var l=Dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Mp(n,s):(s=Gh(e,n,s,l),s!==null&&(yn(s,e,l),Vp(s,n,l)))}function Op(e,n,s){var l=Dn();to(e,n,s,l)}function to(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,wn(T,g))return Cu(e,n,h,0),le===null&&Ru(),!1}catch{}finally{}if(s=Gh(e,n,h,l),s!==null)return yn(s,e,l),Vp(s,n,l),!0}return!1}function If(e,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,l,2),n!==null&&yn(n,e,2)}function Yu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Mp(e,n){Ua=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Vp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bl(e,s)}}var eo={readContext:$e,use:Hu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};eo.useEffectEvent=Te;var kp={readContext:$e,use:Hu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var l=e();if(Kr){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=un();if(s!==void 0){var h=s(n);if(Kr){Vn(!0);try{s(n)}finally{Vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=EE.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Op.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=un();return wf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Cp.bind(null,It,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=un();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(kt&127)!==0||np(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,l,f,e),[e]),l.flags|=2048,Pa(9,{destroy:void 0},ip.bind(null,l,f,s,n),null),s},useId:function(){var e=un(),n=le.identifierPrefix;if(Bt){var s=Mi,l=Oi;s=(l&~(1<<32-be(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=mE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return un().memoizedState=TE.bind(null,It)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:$e,use:Hu,useCallback:Ap,useContext:$e,useEffect:Sf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:wp,useReducer:Gu,useRef:yp,useState:function(){return Gu(is)},useDebugValue:Af,useDeferredValue:function(e,n){var s=we();return Rp(s,ie.memoizedState,e,n)},useTransition:function(){var e=Gu(is)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Cf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=we();return lp(s,ie,e,n)},useMemoCache:_f,useCacheRefresh:Dp};xf.useEffectEvent=vp;var Up={readContext:$e,use:Hu,useCallback:Ap,useContext:$e,useEffect:Sf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:wp,useReducer:Tf,useRef:yp,useState:function(){return Tf(is)},useDebugValue:Af,useDeferredValue:function(e,n){var s=we();return ie===null?wf(s,e,n):Rp(s,ie.memoizedState,e,n)},useTransition:function(){var e=Tf(is)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Cf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=we();return ie!==null?lp(s,ie,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Dp};Up.useEffectEvent=vp;function Nf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Dn(),h=Bs(l);h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(yn(n,e,l),Xl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Dn(),h=Bs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(yn(n,e,l),Xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Dn(),l=Bs(s);l.tag=2,n!=null&&(l.callback=n),n=qs(e,l,s),n!==null&&(yn(n,e,s),Xl(n,e,s))}};function Lp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Bl(s,l)||!Bl(h,f):!0}function Pp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Xr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zp(e){wu(e)}function jp(e){console.error(e)}function Bp(e){wu(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Hp(e){return e=Bs(e),e.tag=3,e}function Gp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bE(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?ac():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return s.flags|=65536,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(e,l,h)),!1}throw Error(a(435,s.tag))}return id(e,l,h),ac(),!1}if(Bt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(e=Error(a(422),{cause:l}),Gl(jn(e,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Gl(jn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=jn(l,s),h=Of(e.stateNode,l,h),of(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,s),uo===null?uo=[f]:uo.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,l,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Gp(h,e,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Me=!1;function Ze(e,n,s,l){n.child=e===null?Kg(n,null,s,l):Yr(n,e.child,s,l)}function Fp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Hr(n),l=mf(e,n,s,g,f,h),T=gf(),e!==null&&!Me?(pf(e,n,h),ss(e,n,h)):(Bt&&T&&Kh(n),n.flags|=1,Ze(e,n,l,h),n.child)}function Qp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,l,h)):(e=xu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Bl,s(g,l)&&e.ref===n.ref)return ss(e,n,h)}return n.flags|=1,e=Ji(f,l),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Bl(f,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,ss(e,n,h)}return Vf(e,n,s,l,h)}function Kp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):cf(),Jg(n);else return l=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Mu(n,f.cachePool),Zg(n,f),Gs(),n.memoizedState=null):(e!==null&&Mu(n,null),cf(),Gs());return Ze(e,n,h,s),n.child}function no(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,s,l,h){var f=sf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),cf(),Jg(n),e!==null&&Na(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return Yr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function SE(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,no(null,e);if(ff(n),(e=ce)?(e=o_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,Xe=n,ce=null)):e=null,e===null)throw Ps(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Na(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(l=le,l!==null&&(g=Sl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,zr(e,g),yn(l,e,g),Mf;ac(),n=$p(e,n,s)}else e=f.treeContext,ce=Fn(g.nextSibling),Xe=n,Bt=!0,Ls=null,Hn=!1,e!==null&&Ug(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=Ji(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,l,h){return Hr(n),s=mf(e,n,s,l,void 0,h),l=gf(),e!==null&&!Me?(pf(e,n,h),ss(e,n,h)):(Bt&&l&&Kh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function Zp(e,n,s,l,h,f){return Hr(n),n.updateQueue=null,s=tp(n,l,s,h),Wg(e),l=gf(),e!==null&&!Me?(pf(e,n,f),ss(e,n,f)):(Bt&&l&&Kh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function Jp(e,n,s,l,h){if(Hr(n),n.stateNode===null){var f=Ra,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):Ra,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Xr(s,T);f.props=I;var z=f.context,F=s.contextType;g=Ra,typeof F=="object"&&F!==null&&(g=$e(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&Pp(n,f,l,g),js=!1;var j=n.memoizedState;f.state=j,Zl(n,l,f,h),$l(),z=n.memoizedState,T||j!==z||js?(typeof K=="function"&&(Nf(n,s,K,l),z=n.memoizedState),(I=js||Lp(n,s,I,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,F=Xr(s,g),f.props=F,K=n.pendingProps,j=f.context,z=s.contextType,I=Ra,typeof z=="object"&&z!==null&&(I=$e(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==I)&&Pp(n,f,l,I),js=!1,j=n.memoizedState,f.state=j,Zl(n,l,f,h),$l();var q=n.memoizedState;g!==K||j!==q||js||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(Nf(n,s,T,l),q=n.memoizedState),(F=js||Lp(n,s,F,l,j,q,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Yr(n,e.child,null,h),n.child=Yr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ss(e,n,h),e}function Wp(e,n,s,l){return Br(),n.flags|=256,Ze(e,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:qg()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function ty(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Hs(n):Gs(),(e=ce)?(e=o_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,Xe=n,ce=null)):e=null,e===null)throw Ps(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Gs(),h=n.mode,T=Zu({mode:"hidden",children:T},h),l=jr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(e,g,s),n.memoizedState=kf,no(null,l)):(Hs(n),Pf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(Gs(),n.child=e.child,n.flags|=128,n=null):(Gs(),T=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),T=jr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Yr(n,e.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(e,g,s),n.memoizedState=kf,n=no(null,l));else if(Hs(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Gl({value:l,source:null,stack:null}),n=zf(e,n,s)}else if(Me||Na(e,n,s,!1),g=(s&e.childLanes)!==0,Me||g){if(g=le,g!==null&&(l=Sl(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,zr(e,l),yn(g,e,l),Mf;_d(T)||ac(),n=zf(e,n,s)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ce=Fn(T.nextSibling),Xe=n,Bt=!0,Ls=null,Hn=!1,e!==null&&Ug(n,e),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Gs(),T=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ji(z,T):(T=jr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,no(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Uf(s):(h=T.cachePool,h!==null?(I=De._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Lf(e,g,s),n.memoizedState=kf,no(e.child,l)):(Hs(n),s=e.child,e=s.sibling,s=Ji(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Yr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ae.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(Ae,g),Ze(e,n,l,s),l=Bt?Hl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Na(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ji(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ji(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function AE(e,n,s){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),zs(n,De,e.memoizedState.cache),Br();break;case 27:case 5:hi(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(Hs(n),e=ss(e,n,s),e!==null?e.sibling:null);Hs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Na(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Kp(e,n,s,n.pendingProps);case 24:zs(n,De,e.memoizedState.cache)}return ss(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Me=!1,AE(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(n.flags&1048576)!==0&&kg(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(l=Xr(e,l),n.tag=1,n=Jp(null,n,e,l,s)):(n.tag=0,n=Vf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=Fp(null,n,e,l,s);break t}else if(h===x){n.tag=14,n=Qp(null,n,e,l,s);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Xr(l,n.pendingProps),Jp(e,n,l,h,s);case 3:t:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Zl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,zs(n,De,l),l!==f.cache&&tf(n,[De],s,!0),$l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,l,s);break t}else if(l!==h){h=jn(Error(a(424)),n),Gl(h),n=Wp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Fn(e.firstChild),Xe=n,Bt=!0,Ls=null,Hn=!0,s=Kg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Br(),l===h){n=ss(e,n,s);break t}Ze(e,n,l,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,l=dc(bt.current).createElement(s),l[Ie]=n,l[qe]=e,Je(l,s,e),xe(l),n.stateNode=l):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hi(n),e===null&&Bt&&(l=n.stateNode=h_(n.type,n.pendingProps,bt.current),Xe=n,Hn=!0,h=ce,Js(n.type)?(Td=h,ce=Fn(l.firstChild)):ce=h),Ze(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=l=ce)&&(l=tb(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Xe=n,ce=Fn(l.firstChild),Hn=!1,h=!0):h=!1),h||Ps(n)),hi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,gd(h,f)?l=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,gE,null,null,s),_o._currentValue=h),$u(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&Bt&&((e=s=ce)&&(s=eb(s,n.pendingProps,Hn),s!==null?(n.stateNode=s,Xe=n,ce=null,e=!0):e=!1),e||Ps(n)),null;case 13:return ty(e,n,s);case 4:return _e(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Yr(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,zs(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Hr(n),h=$e(h),l=l(h),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,s);case 15:return Yp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return SE(e,n,s);case 22:return Kp(e,n,s,n.pendingProps);case 24:return Hr(n),l=$e(De),e===null?(h=sf(),h===null&&(h=le,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),zs(n,De,h)):((e.lanes&s)!==0&&(lf(e,n),Zl(n,null,null,s),$l()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,De,l)):(l=f.cache,zs(n,De,l),l!==h.cache&&tf(n,[De],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(e){e.flags|=4}function qf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Qr=ku,rf}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw Qr=ku,rf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,qa|=n)}function io(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function wE(e,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),es(De),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xa(n)?rs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(rs(n),f!==null?(he(n),sy(n,f)):(he(n),qf(n,h,null,l,s))):f?f!==e.memoizedState?(rs(n),he(n),sy(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&rs(n),he(n),qf(n,h,e,l,s)),null;case 27:if(As(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=it.current,xa(n)?Lg(n):(e=h_(h,l,s),n.stateNode=e,rs(n))}return he(n),null;case 5:if(As(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=it.current,xa(n))Lg(n);else{var g=dc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ie]=n,f[qe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&rs(n)}}return he(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,xa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||Ps(n,!0)}else e=dc(e).createTextNode(l),e[Ie]=n,n.stateNode=e}return he(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=xa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),he(n),null);case 4:return oe(),e===null&&cd(n.stateNode.containerInfo),he(n),null;case 10:return es(n.type),he(n),null;case 19:if(Y(Ae),l=n.memoizedState,l===null)return he(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,io(l,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return nt(Ae,Ae.current&1|2),Bt&&Wi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ve()>ic&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return he(n),null}else 2*ve()-l.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ve(),e.sibling=null,s=Ae.current,nt(Ae,h?s&1|2:s&1),Bt&&Wi(n,l.treeForkCount),e):(he(n),null);case 22:case 23:return In(n),hf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Gr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),es(De),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function RE(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return es(De),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return As(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return oe(),null;case 10:return es(n.type),null;case 22:case 23:return In(n),hf(),e!==null&&Y(Gr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return es(De),null;case 25:return null;default:return null}}function ry(e,n){switch(Xh(n),n.tag){case 3:es(De),oe();break;case 26:case 27:case 5:As(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(Ae);break;case 10:es(n.type);break;case 22:case 23:In(n),hf(),e!==null&&Y(Gr);break;case 24:es(De)}}function so(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){Wt(n,n.return,T)}}function Fs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=s,z=T;try{z()}catch(F){Wt(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Wt(n,n.return,F)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(l){Wt(e,e.return,l)}}}function ly(e,n,s){s.props=Xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(e,n,l)}}function ro(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Wt(e,n,h)}}function Vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Hf(e,n,s){try{var l=e.stateNode;KE(l,e.type,s,n),l[qe]=n}catch(h){Wt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Js(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function Wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,l,s),n[Ie]=e,n[qe]=s}catch(f){Wt(e,e.return,f)}}var as=!1,Ve=!1,Qf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function CE(e,n){if(e=e.containerInfo,dd=Tc,e=Sg(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,I=-1,z=0,F=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(I=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(T=g),j===f&&++F===l&&(I=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},Tc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Xr(s.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Wt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function fy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:os(e,s),l&4&&so(5,s);break;case 1:if(os(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var h=Xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}l&64&&ay(s),l&512&&ro(s,s.return);break;case 3:if(os(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:os(e,s),n===null&&l&4&&oy(s),l&512&&ro(s,s.return);break;case 12:os(e,s);break;case 31:os(e,s),l&4&&gy(e,s);break;case 13:os(e,s),l&4&&py(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=UE.bind(null,s),nb(e,s))));break;case 22:if(l=s.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||Ve,h=as;var f=Ve;as=l,(Ve=n)&&!f?us(e,s,(s.subtreeFlags&8772)!==0):os(e,s),as=h,Ve=f}break;case 30:break;default:os(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function ls(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Ve||Vi(s,n),ls(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Vi(s,n);var l=ge,h=dn;Js(s.type)&&(ge=s.stateNode,dn=!1),ls(e,n,s),go(s.stateNode),ge=l,dn=h;break;case 5:Ve||Vi(s,n);case 6:if(l=ge,h=dn,ge=null,ls(e,n,s),ge=l,dn=h,ge!==null)if(dn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:ge!==null&&(dn?(e=ge,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),$a(e)):a_(ge,s.stateNode));break;case 4:l=ge,h=dn,ge=s.stateNode.containerInfo,dn=!0,ls(e,n,s),ge=l,dn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),Ve||Fs(4,s,n),ls(e,n,s);break;case 1:Ve||(Vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),ls(e,n,s);break;case 21:ls(e,n,s);break;case 22:Ve=(l=Ve)||s.memoizedState!==null,ls(e,n,s),Ve=l;break;default:ls(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(s){Wt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(s){Wt(n,n.return,s)}}function IE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=IE(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=LE.bind(null,e,l);l.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Js(T.type)){ge=T.stateNode,dn=!1;break t}break;case 5:ge=T.stateNode,dn=!1;break t;case 3:case 4:ge=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(ge===null)throw Error(a(160));my(f,g,h),ge=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var ai=null;function yy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),l&4&&(Fs(3,e,e.return),so(3,e),Fs(5,e,e.return));break;case 1:mn(n,e),gn(e),l&512&&(Ve||s===null||Vi(s,s.return)),l&64&&as&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ai;if(mn(n,e),gn(e),l&512&&(Ve||s===null||Vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,l,s),f[Ie]=e,xe(f),l=f;break t;case"link":var g=y_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),Je(f,l,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(l),Je(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ie]=e,xe(f),l=f}e.stateNode=l}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?__(h,e.type,e.stateNode):p_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),l&512&&(Ve||s===null||Vi(s,s.return)),s!==null&&l&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),l&512&&(Ve||s===null||Vi(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(rt){Wt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(mn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(rt){Wt(e,e.return,rt)}}break;case 3:if(pc=null,h=ai,ai=mc(n.containerInfo),mn(n,e),ai=h,gn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(rt){Wt(e,e.return,rt)}Qf&&(Qf=!1,_y(e));break;case 4:l=ai,ai=mc(e.stateNode.containerInfo),mn(n,e),gn(e),ai=l;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=as,F=Ve;if(as=z||h,Ve=F||I,mn(n,e),Ve=F,as=z,gn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||as||Ve||$r(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Wt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Wt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?l_(q,!0):l_(I.stateNode,!1)}catch(rt){Wt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(e,s))));break;case 19:mn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);Wu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var T=Gf(e);Wu(e,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Gf(e);Ff(e,z,I);break;default:throw Error(a(161))}}catch(F){Wt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function $r(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),$r(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),$r(n);break;case 27:go(n.stateNode);case 26:case 5:Vi(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}e=e.sibling}}function us(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,s),so(4,f);break;case 1:if(us(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xg(I[h],T)}catch(z){Wt(l,l.return,z)}}s&&g&64&&ay(f),ro(f,f.return);break;case 27:cy(f);case 26:case 5:us(h,f,s),s&&l===null&&g&4&&oy(f),ro(f,f.return);break;case 12:us(h,f,s);break;case 31:us(h,f,s),s&&g&4&&gy(h,f);break;case 13:us(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&us(h,f,s),ro(f,f.return);break;case 30:break;default:us(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fl(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fl(e))}function li(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,l),n=n.sibling}function vy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(e,n,s,l),h&2048&&so(9,n);break;case 1:li(e,n,s,l);break;case 3:li(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fl(e)));break;case 12:if(h&2048){li(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else li(e,n,s,l);break;case 31:li(e,n,s,l);break;case 13:li(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(e,n,s,l):ao(e,n):f._visibility&2?li(e,n,s,l):(f._visibility|=2,za(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:li(e,n,s,l),h&2048&&Kf(n.alternate,n);break;default:li(e,n,s,l)}}function za(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,T,I,h),so(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?za(f,g,T,I,h):ao(f,g):(F._visibility|=2,za(f,g,T,I,h)),h&&z&2048&&Yf(g.alternate,g);break;case 24:za(f,g,T,I,h),h&&z&2048&&Kf(g.alternate,g);break;default:za(f,g,T,I,h)}n=n.sibling}}function ao(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:ao(s,l),h&2048&&Yf(l.alternate,l);break;case 24:ao(s,l),h&2048&&Kf(l.alternate,l);break;default:ao(s,l)}n=n.sibling}}var lo=8192;function ja(e,n,s){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:ja(e,n,s),e.flags&lo&&e.memoizedState!==null&&mb(s,ai,e.memoizedState,e.memoizedProps);break;case 5:ja(e,n,s);break;case 3:case 4:var l=ai;ai=mc(e.stateNode.containerInfo),ja(e,n,s),ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,ja(e,n,s),lo=l):ja(e,n,s));break;default:ja(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,Sy(l,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:oo(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:oo(e);break;case 12:oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):oo(e);break;default:oo(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,Sy(l,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Sy(e,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=e;Ge!==null;){l=Ge;var h=l.sibling,f=l.return;if(dy(l),l===s){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var xE={getCacheForType:function(e){var n=$e(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(De).controller.signal}},NE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,le=null,Ot=null,kt=0,Jt=0,xn=null,Qs=!1,Ba=!1,Xf=!1,cs=0,Ee=0,Ys=0,Zr=0,$f=0,Nn=0,qa=0,uo=null,pn=null,Zf=!1,nc=0,Ay=0,ic=1/0,sc=null,Ks=null,Pe=0,Xs=null,Ha=null,hs=0,Jf=0,Wf=null,wy=null,co=0,td=null;function Dn(){return(Yt&2)!==0&&kt!==0?kt&-kt:G.T!==null?ad():ru()}function Ry(){if(Nn===0)if((kt&536870912)===0||Bt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function yn(e,n,s){(e===le&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),$s(e,kt,Nn,!1)),wr(e,s),((Yt&2)===0||e!==le)&&(e===le&&((Yt&2)===0&&(Zr|=s),Ee===4&&$s(e,kt,Nn,!1)),ki(e))}function Cy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=l?ME(e,n):nd(e,n,!0),f=l;do{if(h===0){Ba&&!l&&$s(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!DE(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=uo;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!I){T.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ga(e,0),$s(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(l,n,Nn,!Qs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-ve(),10<h)){if($s(l,n,Nn,!Qs),yi(l,0,!0)!==0)break t;hs=n,l.timeoutHandle=s_(Iy.bind(null,l,s,pn,sc,Zf,n,Nn,Zr,qa,Qs,f,"Throttled",-0,0),h);break t}Iy(l,s,pn,sc,Zf,n,Nn,Zr,qa,Qs,f,null,-0,0)}}break}while(!0);ki(e)}function Iy(e,n,s,l,h,f,g,T,I,z,F,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ty(n,f,K);var rt=(f&62914560)===f?nc-ve():(f&4194048)===f?Ay-ve():0;if(rt=gb(K,rt),rt!==null){hs=f,e.cancelPendingCommit=rt(Uy.bind(null,e,n,f,s,l,h,g,T,I,F,K,null,j,q)),$s(e,f,g,!z);return}}Uy(e,n,f,s,l,h,g,T,I)}function DE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(e,n,s,l){n&=~$f,n&=~Zr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Rr(e,s,n)}function rc(){return(Yt&6)===0?(ho(0),!1):!0}function ed(){if(Ot!==null){if(Jt===0)var e=Ot.return;else e=Ot,ts=qr=null,yf(e),Va=null,Yl=0,e=Ot;for(;e!==null;)ry(e.alternate,e),e=e.return;Ot=null}}function Ga(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ZE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),hs=0,ed(),le=e,Ot=s=Ji(e.current,null),kt=n,Jt=0,xn=null,Qs=!1,Ba=Zn(e,n),Xf=!1,qa=Nn=$f=Zr=Ys=Ee=0,pn=uo=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-be(l),f=1<<h;n|=e[h],l&=~f}return cs=n,Ru(),s}function xy(e,n){It=null,G.H=eo,n===Ma||n===Vu?(n=Fg(),Jt=3):n===rf?(n=Fg(),Jt=4):Jt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ot===null&&(Ee=1,Ku(e,jn(n,e.current)))}function Ny(){var e=Cn.current;return e===null?!0:(kt&4194048)===kt?Gn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Gn:!1}function Dy(){var e=G.H;return G.H=eo,e===null?eo:e}function Oy(){var e=G.A;return G.A=xE,e}function ac(){Ee=4,Qs||(kt&4194048)!==kt&&Cn.current!==null||(Ba=!0),(Ys&134217727)===0&&(Zr&134217727)===0||le===null||$s(le,kt,Nn,!1)}function nd(e,n,s){var l=Yt;Yt|=2;var h=Dy(),f=Oy();(le!==e||kt!==n)&&(sc=null,Ga(e,n)),n=!1;var g=Ee;t:do try{if(Jt!==0&&Ot!==null){var T=Ot,I=xn;switch(Jt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Jt;if(Jt=0,xn=null,Fa(e,T,I,z),s&&Ba){g=0;break t}break;default:z=Jt,Jt=0,xn=null,Fa(e,T,I,z)}}OE(),g=Ee;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ts=qr=null,Yt=l,G.H=h,G.A=f,Ot===null&&(le=null,kt=0,Ru()),g}function OE(){for(;Ot!==null;)My(Ot)}function ME(e,n){var s=Yt;Yt|=2;var l=Dy(),h=Oy();le!==e||kt!==n?(sc=null,ic=ve()+500,Ga(e,n)):Ba=Zn(e,n);t:do try{if(Jt!==0&&Ot!==null){n=Ot;var f=xn;e:switch(Jt){case 1:Jt=0,xn=null,Fa(e,n,f,1);break;case 2:case 9:if(Hg(f)){Jt=0,xn=null,Vy(n);break}n=function(){Jt!==2&&Jt!==9||le!==e||(Jt=7),ki(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Hg(f)?(Jt=0,xn=null,Vy(n)):(Jt=0,xn=null,Fa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var T=Ot;if(g?v_(g):T.stateNode.complete){Jt=0,xn=null;var I=T.sibling;if(I!==null)Ot=I;else{var z=T.return;z!==null?(Ot=z,lc(z)):Ot=null}break e}}Jt=0,xn=null,Fa(e,n,f,5);break;case 6:Jt=0,xn=null,Fa(e,n,f,6);break;case 8:ed(),Ee=6;break t;default:throw Error(a(462))}}VE();break}catch(F){xy(e,F)}while(!0);return ts=qr=null,G.H=l,G.A=h,Yt=s,Ot!==null?0:(le=null,kt=0,Ru(),Ee)}function VE(){for(;Ot!==null&&!di();)My(Ot)}function My(e){var n=iy(e.alternate,e,cs);e.memoizedProps=e.pendingProps,n===null?lc(e):Ot=n}function Vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:yf(n);default:ry(s,n),n=Ot=Og(n,cs),n=iy(s,n,cs)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ot=n}function Fa(e,n,s,l){ts=qr=null,yf(n),Va=null,Yl=0;var h=n.return;try{if(bE(e,h,n,s,kt)){Ee=1,Ku(e,jn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;Ee=1,Ku(e,jn(s,e.current)),Ot=null;return}n.flags&32768?(Bt||l===1?e=!0:Ba||(kt&536870912)!==0?e=!1:(Qs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Qs);return}e=n.return;var s=wE(n.alternate,n,cs);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);Ee===0&&(Ee=5)}function ky(e,n){do{var s=RE(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);Ee=6,Ot=null}function Uy(e,n,s,l,h,f,g,T,I){e.cancelPendingCommit=null;do oc();while(Pe!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,g,T,I),e===le&&(Ot=le=null,kt=0),Ha=n,Xs=e,hs=s,Jf=f,Wf=h,wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PE(En,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=et.p,et.p=2,g=Yt,Yt|=4;try{CE(e,n,s)}finally{Yt=g,et.p=h,G.T=l}}Pe=1,Ly(),Py(),zy()}}function Ly(){if(Pe===1){Pe=0;var e=Xs,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var h=Yt;Yt|=4;try{yy(n,e);var f=md,g=Sg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&bg(T.ownerDocument.documentElement,T)){if(I!==null&&Ph(T)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=T.textContent.length,_t=Math.min(I.start,rt),re=I.end===void 0?_t:Math.min(I.end,rt);!q.extend&&_t>re&&(g=re,re=_t,_t=g);var k=Eg(T,_t),D=Eg(T,re);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),_t>re?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!dd,md=dd=null}finally{Yt=h,et.p=l,G.T=s}}e.current=n,Pe=2}}function Py(){if(Pe===2){Pe=0;var e=Xs,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var h=Yt;Yt|=4;try{fy(e,n.alternate,n)}finally{Yt=h,et.p=l,G.T=s}}Pe=3}}function zy(){if(Pe===4||Pe===3){Pe=0,Xn();var e=Xs,n=Ha,s=hs,l=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ha=Xs=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Ki(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,et.p=h}}(hs&3)!==0&&oc(),ki(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?co++:(co=0,td=e):co=0,ho(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fl(n)))}function oc(){return Ly(),Py(),zy(),By()}function By(){if(Pe!==5)return!1;var e=Xs,n=Jf;Jf=0;var s=Ki(hs),l=G.T,h=et.p;try{et.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=Xs,g=hs;if(Pe=0,Ha=Xs=null,hs=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,by(f.current),vy(f,f.current,g,s),Yt=T,ho(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{et.p=h,G.T=l,jy(e,n)}}function qy(e,n,s){n=jn(s,n),n=Of(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(wr(e,2),ki(e))}function Wt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=jn(s,e),s=Hp(2),l=qs(n,s,2),l!==null&&(Gp(s,l,n,e),wr(l,2),ki(l));break}}n=n.return}}function id(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new NE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=kE.bind(null,e,n,s),n.then(e,e))}function kE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(kt&s)===s&&(Ee===4||Ee===3&&(kt&62914560)===kt&&300>ve()-nc?(Yt&2)===0&&Ga(e,0):$f|=s,qa===kt&&(qa=0)),ki(e)}function Hy(e,n){n===0&&(n=su()),e=zr(e,n),e!==null&&(wr(e,n),ki(e))}function UE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function LE(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(e,s)}function PE(e,n){return ee(e,n)}var uc=null,Qa=null,sd=!1,cc=!1,rd=!1,Zs=0;function ki(e){e!==Qa&&e.next===null&&(Qa===null?uc=Qa=e:Qa=Qa.next=e),cc=!0,sd||(sd=!0,jE())}function ho(e,n){if(!rd&&cc){rd=!0;do for(var s=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(l,f))}else f=kt,f=yi(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zn(l,f)||(s=!0,Yy(l,f));l=l.next}while(s);rd=!1}}function zE(){Gy()}function Gy(){cc=sd=!1;var e=0;Zs!==0&&$E()&&(e=Zs);for(var n=ve(),s=null,l=uc;l!==null;){var h=l.next,f=Fy(l,n);f===0?(l.next=null,s===null?uc=h:s.next=h,h===null&&(Qa=s)):(s=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Pe!==0&&Pe!==5||ho(e),Zs!==0&&(Zs=0)}function Fy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),T=1<<g,I=h[g];I===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Mh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=le,s=kt,s=yi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qe(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Qe(l),Ki(s)){case 2:case 8:s=mi;break;case 32:s=En;break;case 268435456:s=Yi;break;default:s=En}return l=Qy.bind(null,e),s=ee(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Qe(l),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var l=kt;return l=yi(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cy(e,l,n),Fy(e,ve()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Yy(e,n){if(oc())return null;Cy(e,n,!0)}function jE(){JE(function(){(Yt&6)!==0?ee(ws,zE):Gy()})}function ad(){if(Zs===0){var e=Da;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Zs=e}return Zs}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function BE(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[qe]||null).action),g=l.submitter;g&&(n=(n=g[qe]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ii("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var I=g?Xy(h,g):new FormData(h);Rf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Xy(h,g):new FormData(h),Rf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var od=qh[ld],qE=od.toLowerCase(),HE=od[0].toUpperCase()+od.slice(1);ri(qE,"on"+HE)}ri(Rg,"onAnimationEnd"),ri(Cg,"onAnimationIteration"),ri(Ig,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(rE,"onTransitionRun"),ri(aE,"onTransitionStart"),ri(lE,"onTransitionCancel"),ri(xg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(T=l[g],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function Mt(e,n){var s=n[ha];s===void 0&&(s=n[ha]=new Set);var l=e+"__bubble";s.has(l)||(Zy(n,e,2,!1),s.add(l))}function ud(e,n,s){var l=0;n&&(l|=4),Zy(s,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[hc]){e[hc]=!0,Al.forEach(function(s){s!=="selectionchange"&&(GE.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function Zy(e,n,s,l){switch(R_(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ei(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Os(function(){var z=f,F=Un(s),K=[];t:{var j=Ng.get(e);if(j!==void 0){var q=Ii,rt=e;switch(e){case"keypress":if(Mr(s)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":rt="focus",q=kr;break;case"focusout":rt="blur",q=kr;break;case"beforeblur":case"afterblur":q=kr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Cg:case Ig:q=gu;break;case xg:q=b;break;case"scroll":case"scrollend":q=Ul;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=Ct}var _t=(n&4)!==0,re=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ei(D,k),Q!=null&&_t.push(mo(D,Q,P))),re)break;D=D.return}0<_t.length&&(j=new q(j,rt,null,s,F),K.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Ml&&(rt=s.relatedTarget||s.fromElement)&&(Ei(rt)||rt[vi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?Ei(rt):null,rt!==null&&(re=c(rt),_t=rt.tag,rt!==re||_t!==5&&_t!==27&&_t!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(_t=Ll,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Zi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),re=q==null?j:Sn(q),P=rt==null?j:Sn(rt),j=new _t(Q,D+"leave",q,s,F),j.target=re,j.relatedTarget=P,Q=null,Ei(F)===z&&(_t=new _t(k,D+"enter",rt,s,F),_t.target=P,_t.relatedTarget=re,Q=_t),re=Q,q&&rt)e:{for(_t=FE,k=q,D=rt,P=0,Q=k;Q;Q=_t(Q))P++;Q=0;for(var ht=D;ht;ht=_t(ht))Q++;for(;0<P-Q;)k=_t(k),P--;for(;0<Q-P;)D=_t(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;q!==null&&Jy(K,j,q,_t,!1),rt!==null&&re!==null&&Jy(K,re,rt,_t,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=gg;else if(dg(j))if(pg)Ht=nE;else{Ht=tE;var at=WT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ga(z.elementType)&&(Ht=gg):Ht=eE;if(Ht&&(Ht=Ht(e,z))){mg(K,Ht,s,F);break t}at&&at(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Nl(j,"number",j.value)}switch(at=z?Sn(z):window,e){case"focusin":(dg(at)||at.contentEditable==="true")&&(Sa=at,zh=z,ql=null);break;case"focusout":ql=zh=Sa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ag(K,s,F);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":Ag(K,s,F)}var Nt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ba?Ur(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Di&&s.locale!=="ko"&&(ba||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ba&&(Nt=kl()):(Ci=F,Vl="value"in Ci?Ci.value:Ci.textContent,ba=!0)),at=fc(z,Ut),0<at.length&&(Ut=new Ni(Ut,e,null,s,F),K.push({event:Ut,listeners:at}),Nt?Ut.data=Nt:(Nt=Ea(s),Nt!==null&&(Ut.data=Nt)))),(Nt=Pn?XT(e,s):$T(e,s))&&(Ut=fc(z,"onBeforeInput"),0<Ut.length&&(at=new Ni("onBeforeInput","beforeinput",null,s,F),K.push({event:at,listeners:Ut}),at.data=Nt)),BE(K,e,z,s,F)}$y(K,n)})}function mo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&l.unshift(mo(e,h,f)),h=ei(e,n),h!=null&&l.push(mo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function FE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ei(s,f),z!=null&&g.unshift(mo(s,z,I))):h||(z=ei(s,f),z!=null&&g.push(mo(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var QE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(QE,`
`).replace(YE,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function se(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(e,""+l);break;case"className":An(e,"class",l);break;case"tabIndex":An(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,l);break;case"style":Ol(e,l,f);break;case"data":if(n!=="object"){An(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=pa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=pa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ti);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),da(e,"popover",l);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,da(e,s,l))}}function fd(e,n,s,l,h,f){switch(s){case"style":Ol(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?fn(e,l):(typeof l=="number"||typeof l=="bigint")&&fn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):da(e,s,l)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,g,s,null)}}h&&se(e,n,"srcSet",s.srcSet,s,null),l&&se(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=f=g=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:se(e,n,l,F,s,null)}}uu(e,f,T,I,z,g,h,!1);return;case"select":Mt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:se(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Is(e,!!l,n,!1):s!=null&&Is(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:se(e,n,g,T,s,null)}xs(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,n,I,l,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<fo.length;l++)Mt(fo[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,z,l,s,null)}return;default:if(ga(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&fd(e,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&se(e,n,T,l,s,null))}function KE(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,z=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||se(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&se(e,n,j,q,l,K)}}ma(e,g,T,I,z,F,f,h);return;case"select":q=g=T=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||se(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&se(e,n,h,f,l,I)}n=T,s=g,l=q,j!=null?Is(e,!!s,j,!1):!!l!=!!s&&(n!=null?Is(e,!!s,n,!0):Is(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:se(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,g,h,l,f)}cu(e,j,q);return;case"option":for(var rt in s)if(j=s[rt],s.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:se(e,n,rt,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:se(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)j=s[_t],s.hasOwnProperty(_t)&&j!=null&&!l.hasOwnProperty(_t)&&se(e,n,_t,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:se(e,n,z,j,l,q)}return;default:if(ga(n)){for(var re in s)j=s[re],s.hasOwnProperty(re)&&j!==void 0&&!l.hasOwnProperty(re)&&fd(e,n,re,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||fd(e,n,F,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&se(e,n,k,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||se(e,n,K,j,l,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&e_(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>T)break;var F=I.transferSize,K=I.initiatorType;F&&e_(K)&&(I=I.responseEnd,g+=F*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function $E(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,ZE=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(WE)}:s_;function WE(e){setTimeout(function(){throw e})}function Js(e){return e==="head"}function a_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),$a(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")go(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,go(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&go(e.ownerDocument.body);s=h}while(s);$a(n)}function l_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),fa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function eb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function go(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fa(e)}var Qn=new Map,f_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fs=et.d;et.d={f:ib,r:sb,D:rb,C:ab,L:lb,m:ob,X:cb,S:ub,M:hb};function ib(){var e=fs.f(),n=rc();return e||n}function sb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):fs.r(e)}var Ya=typeof document>"u"?null:document;function d_(e,n,s){var l=Ya;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Je(n,"link",e),xe(n),l.head.appendChild(n)))}}function rb(e){fs.D(e),d_("dns-prefetch",e,null)}function ab(e,n){fs.C(e,n),d_("preconnect",e,n)}function lb(e,n,s){fs.L(e,n,s);var l=Ya;if(l&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Xa(e)}Qn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Qn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(po(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),Je(n,"link",e),xe(n),l.head.appendChild(n)))}}function ob(e,n){fs.m(e,n);var s=Ya;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(e)}if(!Qn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Qn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yo(f)))return}l=s.createElement("link"),Je(l,"link",e),xe(l),s.head.appendChild(l)}}}function ub(e,n,s){fs.S(e,n,s);var l=Ya;if(l&&e){var h=bi(l).hoistableStyles,f=Ka(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(po(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Qn.get(f))&&Ed(e,s);var I=g=l.createElement("link");xe(I),Je(I,"link",e),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function cb(e,n){fs.X(e,n);var s=Ya;if(s&&e){var l=bi(s).hoistableScripts,h=Xa(e),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(e=w({src:e,async:!0},n),(n=Qn.get(h))&&bd(e,n),f=s.createElement("script"),xe(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function hb(e,n){fs.M(e,n);var s=Ya;if(s&&e){var l=bi(s).hoistableScripts,h=Xa(e),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&bd(e,n),f=s.createElement("script"),xe(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m_(e,n,s,l){var h=(h=bt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=bi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ka(s.href);var f=bi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(po(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qn.set(e,s),f||fb(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(s),s=bi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+hn(e)+'"'}function po(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function fb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",s),xe(n),e.head.appendChild(n))}function Xa(e){return'[src="'+hn(e)+'"]'}function yo(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(l)return n.instance=l,xe(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Je(l,"style",h),gc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ka(s.href);var f=e.querySelector(po(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;l=g_(s),(h=Qn.get(h))&&Ed(l,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Je(f,"link",l),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Xa(s.src),(h=e.querySelector(yo(f)))?(n.instance=h,xe(h),h):(l=s,(h=Qn.get(f))&&(l=w({},s),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),Je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,s.precedence,e));return n.instance}function gc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function y_(e,n,s){if(pc===null){var l=new Map,h=pc=new Map;h.set(s,l)}else h=pc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ti]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function db(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(l.href),f=n.querySelector(po(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,xe(f);return}f=n.ownerDocument||n,l=g_(l),(h=Qn.get(h))&&Ed(l,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Je(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function gb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*XE());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(pb,e),_c=null,yc.call(e))}function pb(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var l=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _o={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function yb(e,n,s,l,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function T_(e,n,s,l,h,f,g,T,I,z,F,K){return e=new yb(e,n,s,g,I,z,F,K,T),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),e}function E_(e){return e?(e=Ra,e):Ra}function b_(e,n,s,l,h,f){h=E_(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=qs(e,l,n),s!==null&&(yn(s,e,n),Xl(s,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=zr(e,67108864);n!==null&&yn(n,e,67108864),Ad(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Cr(n);var s=zr(e,n);s!==null&&yn(s,e,n),Ad(e,n)}}var Tc=!0;function _b(e,n,s,l){var h=G.T;G.T=null;var f=et.p;try{et.p=2,wd(e,n,s,l)}finally{et.p=f,G.T=h}}function vb(e,n,s,l){var h=G.T;G.T=null;var f=et.p;try{et.p=8,wd(e,n,s,l)}finally{et.p=f,G.T=h}}function wd(e,n,s,l){if(Tc){var h=Rd(l);if(h===null)hd(e,n,l,Ec,s),C_(e,l);else if(Eb(h,e,n,s,l))l.stopPropagation();else if(C_(e,l),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-be(g);T.entanglements[1]|=I,g&=~I}ki(f),(Yt&6)===0&&(ic=ve()+500,ho(0))}}break;case 31:case 13:T=zr(f,2),T!==null&&yn(T,f,2),rc(),Ad(f,2)}if(f=Rd(l),f===null&&hd(e,n,l,Ec,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(e,n,l,null,s)}}function Rd(e){return e=Un(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case ws:return 2;case mi:return 8;case En:case Rs:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var Id=!1,Ws=null,tr=null,er=null,vo=new Map,To=new Map,nr=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(n.pointerId)}}function Eo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Eb(e,n,s,l,h){switch(n){case"focusin":return Ws=Eo(Ws,e,n,s,l,h),!0;case"dragenter":return tr=Eo(tr,e,n,s,l,h),!0;case"mouseover":return er=Eo(er,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,Eo(vo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,To.set(f,Eo(To.get(f)||null,e,n,s,l,h)),!0}return!1}function I_(e){var n=Ei(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ml=l,s.target.dispatchEvent(l),Ml=null}else return n=kn(s),n!==null&&A_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){bc(e)&&s.delete(n)}function bb(){Id=!1,Ws!==null&&bc(Ws)&&(Ws=null),tr!==null&&bc(tr)&&(tr=null),er!==null&&bc(er)&&(er=null),vo.forEach(x_),To.forEach(x_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var Ac=null;function N_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Cd(l||s)===null)continue;break}var f=kn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function $a(e){function n(I){return Sc(I,e)}Ws!==null&&Sc(Ws,e),tr!==null&&Sc(tr,e),er!==null&&Sc(er,e),vo.forEach(n),To.forEach(n);for(var s=0;s<nr.length;s++){var l=nr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&nr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[qe]||null;if(typeof f=="function")g||N_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),N_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}wc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Dn();b_(s,l,e,n,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),rc(),n[vi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<nr.length&&n!==0&&n<nr[s].priority;s++);nr.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{$n=Rc.inject(Sb),Ye=Rc}catch{}}return So.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,l,null,h,f,g,D_),e[vi]=n.current,cd(e),new xd(n)},So.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=zp,g=jp,T=Bp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=T_(e,1,!0,n,s??null,l,h,I,f,g,T,D_),n.context=E_(null),s=n.current,l=Dn(),l=Cr(l),h=Bs(l),h.callback=null,qs(s,h,l),s=l,n.current.lanes=s,wr(n,s),ki(n),e[vi]=n.current,cd(e),new wc(n)},So.version="19.2.3",So}var H_;function Vb(){if(H_)return Od.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Mb(),Od.exports}var kb=Vb();const Ub=()=>{};var G_={};const Sv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Lb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[E],i[w],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Sv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new Pb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),w!==64){const J=y<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const t=Sv(r);return Av.encodeByteArray(t,!0)},Gc=function(r){return zb(r).replace(/\./g,"")},wv=function(r){try{return Av.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&wv(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>hh()?.emulatorHosts?.[r],Gb=r=>{const t=Rv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Cv=()=>hh()?.config,Iv=r=>hh()?.[`_${r}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function gl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function Qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Io={};function Yb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Io))Io[t]?r.emulator.push(t):r.prod.push(t);return r}function Kb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function Nv(r,t){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Io[r]===t||Io[r]||F_)return;Io[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Yb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function E(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Kb(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ft=i("preprendIcon"),gt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),E(Z,tt);const xt=y();_(gt,ft),pt.append(gt,J,Z,xt),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function $b(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eS(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class Ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,p,a)}}function rS(r,t){return r.replace(aS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function lS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(Q_(c)&&Q_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Ho(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function oS(r,t){const i=new uS(r,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function cn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wr="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(r){return r===Wr?void 0:r}function dS(r){return r.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const gS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},pS=Lt.INFO,yS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_S=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=yS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const vS=(r,t)=>t.some(i=>r instanceof i);let Y_,K_;function TS(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,$d=new WeakMap,Ov=new WeakMap,Ld=new WeakMap,wm=new WeakMap;function bS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(cr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),wm.set(t,r),t}function SS(r){if($d.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function AS(r){Zd=r(Zd)}function wS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return Ov.set(a,t.sort?t.sort():[t]),cr(a)}:ES().includes(r)?function(...t){return r.apply(Pd(this),t),cr(Dv.get(this))}:function(...t){return cr(r.apply(Pd(this),t))}}function RS(r){return typeof r=="function"?wS(r):(r instanceof IDBTransaction&&SS(r),vS(r,TS())?new Proxy(r,Zd):r)}function cr(r){if(r instanceof IDBRequest)return bS(r);if(Ld.has(r))return Ld.get(r);const t=RS(r);return t!==r&&(Ld.set(r,t),wm.set(t,r)),t}const Pd=r=>wm.get(r);function CS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=cr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(cr(d.result),_.oldVersion,_.newVersion,cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const IS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],zd=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||IS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return zd.set(t,c),c}AS(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",$_="0.14.6";const ys=new Am("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",kS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",YS="@firebase/messaging-compat",KS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",sA="12.6.0";const Wd="[DEFAULT]",rA={[Jd]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[YS]:"fire-fcm-compat",[KS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const Fc=new Map,aA=new Map,tm=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ll(r){const t=r.name;if(tm.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Fc.values())Z_(i,r);for(const i of aA.values())Z_(i,r);return!0}function Rm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new qo("app","Firebase",lA);class oA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const pl=sA;function Mv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw hr.create("no-options");const c=Fc.get(o);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new mS(o);for(const _ of tm.values())d.addComponent(_);const p=new oA(i,a,d);return Fc.set(o,p),p}function Vv(r=Wd){const t=Fc.get(r);if(!t&&r===Wd&&Cv())return Mv();if(!t)throw hr.create("no-app",{appName:r});return t}function fr(r,t,i){let a=rA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}ll(new ia(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Vo="firebase-heartbeat-store";let jd=null;function kv(){return jd||(jd=CS(uA,cA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function hA(r){try{const i=(await kv()).transaction(Vo),a=await i.objectStore(Vo).get(Uv(r));return await i.done,a}catch(t){if(t instanceof Ss)ys.warn(t.message);else{const i=hr.create("idb-get",{originalErrorMessage:t?.message});ys.warn(i.message)}}}async function J_(r,t){try{const a=(await kv()).transaction(Vo,"readwrite");await a.objectStore(Vo).put(t,Uv(r)),await a.done}catch(i){if(i instanceof Ss)ys.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const fA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const o=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ys.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function gA(r,t=fA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),t0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),t0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t0(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function yA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function _A(r){ll(new ia("platform-logger",t=>new NS(t),"PRIVATE")),ll(new ia("heartbeat",t=>new mA(t),"PRIVATE")),fr(Jd,$_,r),fr(Jd,$_,"esm2020"),fr("fire-js","")}_A("");var vA="firebase",TA="12.6.0";fr(vA,TA,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Lv,Pv=new qo("auth","Firebase",Lv());const Qc=new Am("@firebase/auth");function bA(r,...t){Qc.logLevel<=Lt.WARN&&Qc.warn(`Auth (${pl}): ${r}`,...t)}function Vc(r,...t){Qc.logLevel<=Lt.ERROR&&Qc.error(`Auth (${pl}): ${r}`,...t)}function _s(r,...t){throw Cm(r,...t)}function zi(r,...t){return Cm(r,...t)}function zv(r,t,i){const a={...EA(),[t]:i};return new qo("auth","Firebase",a).create(t,{appName:r.name})}function ps(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...t)}function Et(r,t,...i){if(!r)throw Cm(t,...i)}function ms(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function vs(r,t){r||ms(t)}function em(){return typeof self<"u"&&self.location?.href||""}function SA(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SA()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Go{constructor(t,i){this.shortDelay=t,this.longDelay=i,vs(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(r,t){vs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class jv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IA=new Go(3e4,6e4);function Fo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function yl(r,t,i,a,o={}){return Bv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ho({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Zb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&gl(r.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(await qv(r,r.config.apiHost,i,p),y)})}async function Bv(r,t,i){r._canInitEmulator=!1;const a={...RA,...t};try{const o=new xA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(r,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zv(r,E,y);_s(r,E)}}catch(o){if(o instanceof Ss)throw o;_s(r,"network-request-failed",{message:String(o)})}}async function xm(r,t,i,a,o={}){const c=await yl(r,t,i,a,o);return"mfaPendingCredential"in c&&_s(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Im(r.config,o):`${r.config.apiScheme}://${o}`;return CA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),IA.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(r,t,a);return o.customData._tokenResponse=i,o}async function NA(r,t){return yl(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return yl(r,"POST","/v1/accounts:lookup",t)}function xo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(r,t=!1){const i=cn(r),a=await i.getIdToken(t),o=Nm(a);Et(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:xo(Bd(o.auth_time)),issuedAtTime:xo(Bd(o.iat)),expirationTime:xo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Nm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=wv(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const t=Nm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ko(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ss&&OA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),a=await ko(r,Yc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hv(o.providerUserInfo):[],d=kA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function VA(r){const t=cn(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(r,t){const i=await Bv(r,{},async()=>{const a=Ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await qv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&gl(r.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(r,t){return yl(r,"POST","/v2/accounts:revokeToken",Fo(r,t))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new nl;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function sr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new MA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await ko(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DA(this,t)}reload(){return VA(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ps(this.auth));const t=await this.getIdToken();return await ko(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:H,providerData:J,stsTokenManager:tt}=i;Et(w&&tt,t,"internal-error");const Z=nl.fromJSON(this.name,tt);Et(typeof w=="string",t,"internal-error"),sr(a,t.name),sr(o,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),sr(c,t.name),sr(d,t.name),sr(p,t.name),sr(_,t.name),sr(y,t.name),sr(E,t.name);const ft=new oi({uid:w,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(ft.providerData=J.map(gt=>({...gt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new nl;o.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new nl;p.updateFromIdToken(a);const _=new oi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const i0=new Map;function gs(r){vs(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(vs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const s0=Gv;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class il{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new il(gs(s0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gs(s0);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await Yc(t,{idToken:E}).catch(()=>{});if(!M)break;w=await oi._fromGetAccountInfoResponse(t,M,E)}else w=oi._fromJSON(t,E);y!==c&&(p=w),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new il(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new il(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($v(t))return"Blackberry";if(Zv(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Yv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=ln()){return/firefox\//i.test(r)}function Qv(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yv(r=ln()){return/crios\//i.test(r)}function Kv(r=ln()){return/iemobile/i.test(r)}function Xv(r=ln()){return/android/i.test(r)}function $v(r=ln()){return/blackberry/i.test(r)}function Zv(r=ln()){return/webos/i.test(r)}function Dm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PA(r=ln()){return Dm(r)&&!!window.navigator?.standalone}function zA(){return tS()&&document.documentMode===10}function Jv(r=ln()){return Dm(r)||Xv(r)||Zv(r)||$v(r)||/windows phone/i.test(r)||Kv(r)}function Wv(r,t=[]){let i;switch(r){case"Browser":i=r0(ln());break;case"Worker":i=`${r0(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${pl}/${a}`}class jA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BA(r,t={}){return yl(r,"GET","/v2/passwordPolicy",Fo(r,t))}const qA=6;class HA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(ps(this));const i=t?cn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BA(this),i=new HA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qo(r){return cn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=oS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(r){Om=r}function QA(r){return Om.loadJS(r)}function YA(){return Om.gapiScript}function KA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XA(r,t){const i=Rm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(gr(c,t??{}))return o;_s(o,"already-initialized")}return i.initialize({options:t})}function $A(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZA(r,t,i){const a=Qo(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=t1(t),{host:d,port:p}=JA(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(gr(y,a.config.emulator)&&gr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,gl(d)?(xv(`${c}//${d}${_}`),Nv("Auth",!0)):WA()}function t1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JA(r){const t=t1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:l0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:l0(d)}}}function l0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class e1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,i){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function sl(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Fo(r,t))}const t2="http://localhost";class sa extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new sa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return sl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,sl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,sl(t,i)}buildRequest(){const t={requestUri:t2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ho(i)}return t}}class n1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yo extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class rr extends Yo{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends Yo{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends Yo{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function e2(r,t){return xm(r,"POST","/v1/accounts:signUp",Fo(r,t))}class Ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await oi._fromIdTokenResponse(t,a,o),d=o0(a);return new Ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=o0(a);return new Ts({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function n2(r){if(Yn(r.app))return Promise.reject(ps(r));const t=Qo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await e2(t,{returnSecureToken:!0}),a=await Ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends Ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Xc(t,i,a,o)}}function i1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,t,a):c})}async function i2(r,t,i=!1){const a=await ko(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",a)}async function s2(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const c=await ko(r,i1(a,o,t,r),i);Et(c.idToken,a,"internal-error");const d=Nm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),Ts._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function r2(r,t,i=!1){if(Yn(r.app))return Promise.reject(ps(r));const a="signIn",o=await i1(r,a,t),c=await Ts._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function a2(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Fo(r,t))}async function l2(r,t){if(Yn(r.app))return Promise.reject(ps(r));const i=Qo(r),a=await a2(i,{token:t,returnSecureToken:!0}),o=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function o2(r,t,i,a){return cn(r).onIdTokenChanged(t,i,a)}function u2(r,t,i){return cn(r).beforeAuthStateChanged(t,i)}function c2(r,t,i,a){return cn(r).onAuthStateChanged(t,i,a)}const $c="__sak";class s1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const h2=1e3,f2=10;class r1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,f2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}r1.type="LOCAL";const d2=r1;class a1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}a1.type="SESSION";const l1=a1;function m2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await m2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Mm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class g2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Mm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function p2(r){ji().location.href=r}function o1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function y2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){return navigator?.serviceWorker?.controller||null}function v2(){return o1()?self:null}const u1="firebaseLocalStorageDb",T2=1,Zc="firebaseLocalStorage",c1="fbase_key";class Ko{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function E2(){const r=indexedDB.deleteDatabase(u1);return new Ko(r).toPromise()}function im(){const r=indexedDB.open(u1,T2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Zc,{keyPath:c1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await E2(),t(await im()))})})}async function u0(r,t,i){const a=dh(r,!0).put({[c1]:t,value:i});return new Ko(a).toPromise()}async function b2(r,t){const i=dh(r,!1).get(t),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=dh(r,!0).delete(t);return new Ko(i).toPromise()}const S2=800,A2=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>A2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await u0(t,$c,"1"),await c0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>b2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Ko(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const w2=h1;new Go(3e4,6e4);function R2(r,t){return t?gs(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vm extends e1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return sl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return sl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function C2(r){return r2(r.auth,new Vm(r),r.bypassAuthState)}function I2(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),s2(i,new Vm(r),r.bypassAuthState)}async function x2(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),i2(i,new Vm(r),r.bypassAuthState)}class f1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:_s(this.auth,"internal-error")}}resolve(t){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const N2=new Go(2e3,1e4);class el extends f1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,N2.get())};t()}}el.currentPopupAction=null;const D2="pendingRedirect",Uc=new Map;class O2 extends f1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await M2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(r,t){const i=U2(t),a=k2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function V2(r,t){Uc.set(r._key(),t)}function k2(r){return gs(r._redirectPersistence)}function U2(r){return kc(D2,r.config.apiKey,r.name)}async function L2(r,t,i=!1){if(Yn(r.app))return Promise.reject(ps(r));const a=Qo(r),o=R2(a,t),d=await new O2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const P2=600*1e3;class z2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!j2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!d1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P2&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function d1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function j2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(r);default:return!1}}async function B2(r,t={}){return yl(r,"GET","/v1/projects",t)}const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function G2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await B2(r);for(const i of t)try{if(F2(i))return}catch{}_s(r,"unauthorized-domain")}function F2(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!H2.test(i))return!1;if(q2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Q2=new Go(3e4,6e4);function f0(){const r=ji().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Y2(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(zi(r,"network-request-failed"))},timeout:Q2.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const o=KA("iframefcb");return ji()[o]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},QA(`${YA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function K2(r){return Lc=Lc||Y2(r),Lc}const X2=new Go(5e3,15e3),$2="__/auth/iframe",Z2="emulator/auth/iframe",J2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tw(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Im(t,Z2):`https://${r.config.authDomain}/${$2}`,a={apiKey:t.apiKey,appName:r.name,v:pl},o=W2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ho(a).slice(1)}`}async function ew(r){const t=await K2(r),i=ji().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:tw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},X2.get());function _(){ji().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const nw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iw=500,sw=600,rw="_blank",aw="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lw(r,t,i,a=iw,o=sw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...nw,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(p=Yv(y)?rw:i),Fv(y)&&(t=t||aw,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[H,J])=>`${M}${H}=${J},`,"");if(PA(y)&&p!=="_self")return ow(t||"",p),new d0(null);const w=window.open(t||"",p,E);Et(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function ow(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const uw="__/auth/handler",cw="emulator/auth/handler",hw=encodeURIComponent("fac");async function m0(r,t,i,a,o,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:pl,eventId:o};if(t instanceof n1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof Yo){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await r._getAppCheckToken(),y=_?`#${hw}=${encodeURIComponent(_)}`:"";return`${fw(r)}?${Ho(p).slice(1)}${y}`}function fw({config:r}){return r.emulator?Im(r,cw):`https://${r.authDomain}/${uw}`}const qd="webStorageSupport";class dw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=L2,this._overrideRedirectResult=V2}async _openPopup(t,i,a,o){vs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,em(),o);return lw(t,c,Mm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await m0(t,i,a,em(),o);return p2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await ew(t),a=new z2(t);return i.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},o=>{const c=o?.[0]?.[qd];c!==void 0&&i(!!c),_s(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=G2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||Dm()}}const mw=dw;var g0="@firebase/auth",p0="1.11.1";class gw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yw(r){ll(new ia("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},y=new GA(a,o,c,_);return $A(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ll(new ia("auth-internal",t=>{const i=Qo(t.getProvider("auth").getImmediate());return(a=>new gw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(g0,p0,pw(r)),fr(g0,p0,"esm2020")}const _w=300,vw=Iv("authIdTokenMaxAge")||_w;let y0=null;const Tw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>vw)return;const o=i?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ew(r=Vv()){const t=Rm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XA(r,{popupRedirectResolver:mw,persistence:[w2,d2,l1]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Tw(c.toString());u2(i,d,()=>d(i.currentUser)),o2(i,p=>d(p))}}const o=Rv("auth");return o&&ZA(i,`http://${o}`),i}function bw(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",bw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yw("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,m1;(function(){var r;function t(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,N,U){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],N=x.g[2];let U=x.g[3],R;R=A+(U^C&(N^U))+V[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(N^U&(C^N))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(C^N^U)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(N^(C|~U))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[N++]=x.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=x[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[A++]=this.g[C]>>>V&255;return x};function c(x,A){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function d(x,A){this.h=A;const C=[];let V=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;V&&U==A||(C[N]=U,V=!1)}this.g=C}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return Z(y(-x));const A=[];let C=1;for(let V=0;x>=C;V++)A[V]=x/C|0,C*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Z(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=w;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var w=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(tt(this))return"-"+Z(this).toString(x);const A=y(Math.pow(x,6));var C=this;let V="";for(;;){const N=xt(C,A).g;C=ft(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,J(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function tt(x){return x.h==-1}r.l=function(x){return x=ft(this,x),tt(x)?-1:J(x)?0:1};function Z(x){const A=x.g.length,C=[];for(let V=0;V<A;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(x.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(x,A){return x.add(Z(A))}r.j=function(x){if(J(this)||J(x))return w;if(tt(this))return tt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(tt(x))return Z(this.j(Z(x)));if(this.l(H)<0&&x.l(H)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,ae=x.i(N)>>>16,de=x.i(N)&65535;C[2*V+2*N]+=R*de,gt(C,2*V+2*N),C[2*V+2*N+1]+=U*de,gt(C,2*V+2*N+1),C[2*V+2*N+1]+=R*ae,gt(C,2*V+2*N+1),C[2*V+2*N+2]+=U*ae,gt(C,2*V+2*N+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new d(C,0)};function gt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function pt(x,A){this.g=x,this.h=A}function xt(x,A){if(J(A))throw Error("division by zero");if(J(x))return new pt(w,w);if(tt(x))return A=xt(Z(x),A),new pt(Z(A.g),Z(A.h));if(tt(A))return A=xt(x,Z(A)),new pt(Z(A.g),A.h);if(x.g.length>30){if(tt(x)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(x)<=0;)C=Kt(C),V=Kt(V);var N=Rt(C,1),U=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!J(V);){var R=U.add(V);R.l(x)<=0&&(N=N.add(C),U=R),V=Rt(V,1),C=Rt(C,1)}return A=ft(x,N.j(A)),new pt(N,A)}for(N=w;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),R=U.j(A);tt(R)||R.l(x)>0;)C-=V,U=y(C),R=U.j(A);J(U)&&(U=M),N=N.add(U),x=ft(x,R)}return new pt(N,x)}r.B=function(x){return xt(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function Kt(x){const A=x.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Rt(x,A){const C=A>>5;A%=32;const V=x.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=A>0?x.i(U+C)>>>A|x.i(U+C+1)<<32-A:x.i(U+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,m1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,dr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var g1,Ao,p1,Pc,sm,y1,_1,v1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var W=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)W[Ct-2]=arguments[Ct];return m.prototype[L].apply(b,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const b=pt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new tt(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Rt=!1,x=new gt,A=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ae,N),ae.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=bt(u,m,b,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),_e={};function oe(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)oe(u,m[B],v,b,L);return null}return v=lt(v),u&&u[de]?u.J(m,v,p(b)?!!b.capture:!1,L):hi(u,m,v,!1,b,L)}function hi(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Ct=$t(u);if(Ct||(u[Vt]=Ct=new it(u)),v=Ct.add(m,v,b,W,B),v.proxy)return v;if(b=As(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ct(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function As(){function u(v){return m.call(u.src,u.listener,v)}const m=yt;return u}function fi(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)fi(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=lt(v),u&&u[de]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,b,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$t(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,b,L)),(v=u>-1?m[u]:null)&&dt(v))}function dt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])vt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ct(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=$t(m))?(vt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ut(u)}}}function ct(u){return u in _e?_e[u]:_e[u]="on"+u}function yt(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&dt(u),u=v.call(b,m)}return u}function $t(u){return u=u[Vt],u instanceof it?u:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(u){return typeof u=="function"?u:(u[Be]||(u[Be]=function(m){return u.handleEvent(m)}),u[Be])}function Dt(){V.call(this),this.i=new it(this),this.M=this,this.G=null}w(Dt,V),Dt.prototype[de]=!0,Dt.prototype.removeEventListener=function(u,m,v,b){fi(this,u,m,v,b)};function ee(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),nt(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=Qe(B,b,!0,m)&&L;if(B=m.g=u,L=Qe(B,b,!0,m)&&L,L=Qe(B,b,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=Qe(B,b,!1,m)&&L}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ut(v[b]);delete u.g[m],u.h--}}this.G=null},Dt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Dt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Qe(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Ct=W.listener,Se=W.ha||W.src;W.fa&&vt(u.i,W),L=Ct.call(Se,b)!==!1&&L}}return L&&!b.defaultPrevented}function di(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xn(u){u.g=di(()=>{u.g=null,u.i&&(u.i=!1,Xn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ve extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(u){V.call(this),this.h=u,this.g={}}w(Mn,V);var ws=[];function mi(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&dt(m)},u),u.g={}}Mn.prototype.N=function(){Mn.Z.N.call(this),mi(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=d.JSON.stringify,Rs=d.JSON.parse,Yi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bn(){}function eu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}w(Ye,N);function Vn(){N.call(this,"c")}w(Vn,N);var be={},nu=null;function ca(){return nu=nu||new Dt}be.Ia="serverreachability";function iu(u){N.call(this,be.Ia,u)}w(iu,N);function gi(u){const m=ca();ee(m,new iu(m))}be.STAT_EVENT="statevent";function Ar(u,m){N.call(this,be.STAT_EVENT,u),this.stat=m}w(Ar,N);function Ce(u){const m=ca();ee(m,new Ar(m,u))}be.Ja="timingevent";function pi(u,m){N.call(this,be.Ja,u),this.size=m}w(pi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var W="",Ct=B.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var Se=Ct[Qt].split("=");if(Se.length>1){const me=Se[0];Se=Se[1];const Pn=me.split("_");W=Pn.length>=2&&Pn[1]=="type"?W+(me+"="+Se+"&"):W+(me+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,b,L,B,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return En(B)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Cr(){}w(Cr,bn),Cr.prototype.g=function(){return new XMLHttpRequest},Sl=new Cr;function Ki(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ie={},qe={};function vi(u,m,v){u.M=1,u.A=Ir(Ne(m)),u.u=v,u.R=!0,ha(u,null)}function ha(u,m){u.F=Date.now(),Ti(u),u.B=Ne(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ga(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ve(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ws[0]=L.toString()),L=ws);for(let B=0;B<L.length;B++){const W=oe(v,L[B],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ni(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Ct!=4||Se==7||(Se==8||Qt<=0?gi(3):gi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ce(12),Sn(this),kn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=lu(this,v),me==qe){Ct==4&&(this.m=4,Ce(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ie){this.m=4,Ce(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,me,null),bi(this,me);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Pl(W),W.P=!0,Ce(11))}}else _i(this.i,this.l,v,null),bi(this,v);Ct==4&&Sn(this),this.o&&!this.K&&(Ct==4?pu(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Sn(this),kn(this)}}}catch{}finally{}};function kh(u){if(!au(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Ie:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ti(u){u.T=Date.now()+u.H,fa(u,u.H)}function fa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(gi(),Ce(17)),Sn(this),this.m=2,kn(this)):fa(this,this.T-u)};function kn(u){u.j.I==0||u.K||pu(u.j,u)}function Sn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Vs(v);else break t;kr(v),Ce(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const me=Qt[0];if(!(me<=v.K))if(v.K=me,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Pn=Qt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Di=Qt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ii=Qt[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const Ur=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=b.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Rl(B,B.h),B.h=null))}if(b.G){const Ea=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,Zt(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var W=u;if(b.na=vu(b,b.L?b.ba:null,b.W),W.L){Cl(b.h,W);var Ct=W,Se=b.O;Se&&(Ct.H=Se),Ct.D&&(Ei(Ct),Ti(Ct)),b.g=W}else mu(b);v.i.length>0&&xi(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ni(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ni(v,7):Ul(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}gi(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Al(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Rl(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Al.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,xl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,He(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Cs(this,m[4]),this.h=wi(m[5]||"",!0),xl(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xr(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xr(m,ma,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xr(v,v.charAt(0)=="/"?Nl:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xr(v,cu)),u.join("")},An.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Cs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Ct=L[W++];Ct=="."?b&&W==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&W==L.length&&B.push("")):(B.push(Ct),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?xl(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new An(u)}function He(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xl(u,m,v){m instanceof xs?(u.i=m,pa(u.i,u.l)):(v||(m=xr(m,Is)),u.i=new xs(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function Ir(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,uu=/[#\?:]/g,Nl=/[#\?]/g,Is=/[#\?@]/g,cu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&da(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=xs.prototype,r.add=function(u,m){fn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){fn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return fn(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Ol(u,m){fn(u);let v=[];if(typeof m=="string")Dl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return fn(this),this.i=null,u=Ns(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ki(v);v=Ol(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ki(v[B])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(hu(this,b),ga(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const b=new Image;b.onload=E(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ml(u,m){const v=new Zn,b=new AbortController,L=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ds(){this.g=new Yi}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,bn),Ri.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){Dt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Nr,Dt),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):ei(this),this.readyState==3&&ya(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},r.Na=function(u){this.g&&(this.response=u,Os(this))},r.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return jt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Ln(v),typeof u=="string"?v!=null&&Ki(v):Zt(u,m,v))}function ne(u){Dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ne,Dt);var Ci=/^https?$/i,Vl=["POST","PUT"];r=ne.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Xi(u)}function kl(u){u.A||(u.A=!0,ee(u,"complete"),ee(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ee(this,"complete"),ee(this,"abort"),Xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},r.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ee(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!Ci.test(W?W.toLowerCase():"")}v=b}if(v)ee(u,"complete"),ee(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",kl(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ee(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rs(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ru(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),xi(this)};function Ul(u){if(_a(u),u.I==3){var m=u.V++,v=Ne(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),Vr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Ir(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}_u(u)}function Vs(u){u.g&&(Pl(u),u.g.cancel(),u.g=null)}function _a(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!wl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||A(),Rt||(Kt(),Rt=!0),x.add(m,u),u.D=0}}function va(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=Ne(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Vr(this,v),B&&(this.R?m="headers="+Ki(Ln(B))+"&"+m:this.u&&Dr(v,this.u,B)),Rl(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||wl(this.h)||Ll(this))};function Ll(u,m){var v;m?v=m.l:v=u.V++;const b=Ne(u.J);Zt(b,"SID",u.M),Zt(b,"RID",v),Zt(b,"AID",u.K),Vr(u,b),u.u&&u.o&&Dr(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Rl(u.h,v),vi(v,b,m)}function Vr(u,m){u.H&&jt(u.H,function(v,b){Zt(m,b,v)}),u.l&&jt({},function(v,b){Zt(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const Se=["count="+v];Ct==-1?v>0?(Ct=L[0].g,Se.push("ofs="+Ct)):Ct=0:Se.push("ofs="+Ct);let Qt=!0;for(let me=0;me<v;me++){var B=L[me].g;const Pn=L[me].map;if(B-=Ct,B<0)Ct=Math.max(0,L[me].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var W=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Di,ii]of W){let si=ii;p(ii)&&(si=En(ii)),Se.push(B+Di+"="+encodeURIComponent(si))}}catch(Di){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(Pn)}}if(Qt){W=Se.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||A(),Rt||(Kt(),Rt=!0),x.add(m,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Vs(this),gu(this))};function Pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Ne(m)),v.u=null,v.R=!0,ha(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Vs(this),kr(this),Ce(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){Ta(u),Pl(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,Cl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ca(),ee(b,new pi(b,v)),xi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&va(u,m)||b==2&&kr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),Ir(b),L?ti(b.toString(),v):Ml(b.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),_u(u),_a(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Il(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof An?Ne(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),Cs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);b&&He(B,b),m&&(B.g=m),L&&Cs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Zt(b,v,m),Zt(b,"VER",u.ka),Vr(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ri({ab:v})):new ne(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Dt.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}w(on,Dt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ul(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=En(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&xi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,on.Z.N.call(this)};function bu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,Ye);function Su(){Vn.call(this),this.status=1}w(Su,Vn);function Zi(u){this.g=u}w(Zi,Eu),Zi.prototype.ra=function(){ee(this.g,"a")},Zi.prototype.qa=function(u){ee(this.g,new bu(u))},Zi.prototype.pa=function(u){ee(this.g,new Su)},Zi.prototype.oa=function(){ee(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,v1=function(){return new ks},_1=function(){return ca()},y1=be,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Pc=Rr,bl.COMPLETE="complete",p1=bl,eu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Ao=eu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,g1=ne}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",T0="4.9.2";let rn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let _l="12.3.0";const ra=new Am("@firebase/firestore");function Za(){return ra.logLevel}function st(r,...t){if(ra.logLevel<=Lt.DEBUG){const i=t.map(km);ra.debug(`Firestore (${_l}): ${r}`,...i)}}function Es(r,...t){if(ra.logLevel<=Lt.ERROR){const i=t.map(km);ra.error(`Firestore (${_l}): ${r}`,...i)}}function ol(r,...t){if(ra.logLevel<=Lt.WARN){const i=t.map(km);ra.warn(`Firestore (${_l}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,T1(r,a,i)}function T1(r,t,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Xt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||T1(t,o,a)}function wt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class E1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class Aw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ww{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new E1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class Rw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=xw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Hd(o)===Hd(c)?Pt(o,c):Hd(o)?1:-1}return Pt(r.length,t.length)}const Nw=55296,Dw=57343;function Hd(r){const t=r.charCodeAt(0);return t>=Nw&&t<=Dw}function ul(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const b0="__name__";class Pi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Tt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Pi.isNumericId(t),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class pe extends Pi{construct(t,i,a){return new pe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new pe(i)}static emptyPath(){return new pe([])}}const Ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return Ow.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new tn([b0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(pe.fromString(t))}static fromName(t){return new mt(pe.fromString(t).popFirst(5))}static empty(){return new mt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return pe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new pe(t.slice()))}}function Mw(r,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Vw(r,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ue(r,t){const i={typeString:r};return t&&(i.value=t),i}function Xo(r,t){if(!b1(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,w0=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*w0);return new fe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A0)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xo(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ue("string",fe._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new fe(0,0))}static max(){return new St(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function kw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new fe(i+1,0):new fe(i,a));return new pr(o,mt.empty(),t)}function Uw(r){return new pr(r.readTime,r.key,Uo)}class pr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(St.min(),mt.empty(),Uo)}static max(){return new pr(St.max(),mt.empty(),Uo)}}function Lw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const Pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Pw)throw r;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function jw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Tl(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Pm=-1;function gh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function Bw(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const S1="";function qw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=R0(t)),t=Hw(r.get(i),t);return R0(t)}function Hw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case S1:i+="";break;default:i+=c}}return i}function R0(r){return r+S1+""}function C0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function br(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function A1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=o??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new We(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new je(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ul(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new w1("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=Gw.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const R1="server_timestamp",C1="__type__",I1="__previous_value__",x1="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[C1]?.stringValue===R1}function ph(r){const t=r.mapValue.fields[I1];return zm(t)?ph(t):t}function Lo(r){const t=yr(r.mapValue.fields[x1].timestampValue);return new fe(t.seconds,t.nanos)}class Fw{constructor(t,i,a,o,c,d,p,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const Wc="(default)";class Po{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}const N1="__type__",Qw="__max__",Nc={mapValue:{}},D1="__vector__",th="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Kw(r)?9007199254740991:Yw(r)?10:11:Tt(28295,{value:r})}function Fi(r,t){if(r===t)return!0;const i=vr(r);if(i!==vr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Lo(r).isEqual(Lo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Re(o.doubleValue),p=Re(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ul(r.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(C0(d)!==C0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Fi(d[_],p[_])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function zo(r,t){return(r.values||[]).find((i=>Fi(i,t)))!==void 0}function cl(r,t){if(r===t)return 0;const i=vr(r),a=vr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Re(c.integerValue||c.doubleValue),_=Re(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return x0(r.timestampValue,t.timestampValue);case 4:return x0(Lo(r),Lo(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=_r(c),_=_r(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Pt(p[y],_[y]);if(E!==0)return E}return Pt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Re(c.latitude),Re(d.latitude));return p!==0?p:Pt(Re(c.longitude),Re(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return N0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[th]?.arrayValue,E=_[th]?.arrayValue,w=Pt(y?.values?.length||0,E?.values?.length||0);return w!==0?w:N0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const M=rm(_[w],E[w]);if(M!==0)return M;const H=cl(p[_[w]],y[E[w]]);if(H!==0)return H}return Pt(_.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function x0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=yr(r),a=yr(t),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function N0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=cl(i[o],a[o]);if(c)return c}return Pt(i.length,a.length)}function hl(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function zc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Yw(r){return(r?.mapValue?.fields||{})[N1]?.stringValue===D1}function No(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return br(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=No(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=No(r.arrayValue.values[i]);return t}return{...r}}function Kw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Qw}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=No(i)}setAll(t){let i=tn.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=No(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){br(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Tn(No(this.value))}}function O1(r){const t=[];return br(r.fields,((i,a)=>{const o=new tn([i]);if(jc(a)){const c=O1(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new On(t)}class an{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,o){return new an(t,1,i,St.min(),a,o,0)}static newNoDocument(t,i){return new an(t,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function M0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=cl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function Xw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class M1{}class ze extends M1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Zw(t,i,a):i==="array-contains"?new tR(t,a):i==="in"?new eR(t,a):i==="not-in"?new nR(t,a):i==="array-contains-any"?new iR(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Jw(t,a):new Ww(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends M1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qi(t,i)}matches(t){return V1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V1(r){return r.op==="and"}function k1(r){return $w(r)&&V1(r)}function $w(r){for(const t of r.filters)if(t instanceof Qi)return!1;return!0}function om(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+hl(r.value);if(k1(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function U1(r,t){return r instanceof ze?(function(a,o){return o instanceof ze&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(r,t):r instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&U1(d,o.filters[p])),!0):!1})(r,t):void Tt(19439)}function L1(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${hl(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(L1).join(" ,")+"}"})(r):"Filter"}class Zw extends ze{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Jw extends ze{constructor(t,i){super(t,"in",i),this.keys=P1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Ww extends ze{constructor(t,i){super(t,"not-in",i),this.keys=P1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function P1(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class tR extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&zo(i.arrayValue,this.value)}}class eR extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zo(this.value.arrayValue,i)}}class nR extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zo(this.value.arrayValue,i)}}class iR extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zo(this.value.arrayValue,a)))}}class sR{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function k0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new sR(r,t,i,a,o,c,d)}function Bm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>hl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>hl(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Xw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!U1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function um(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rR(r,t,i,a,o,c,d,p){return new yh(r,t,i,a,o,c,d,p)}function _h(r){return new yh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aR(r){return r.collectionGroup!==null}function Do(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new nh(tn.keyField(),a))}return t.Ie}function Bi(r){const t=wt(r);return t.Ee||(t.Ee=lR(t,Do(r))),t.Ee}function lR(r,t){if(r.limitType==="F")return k0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return qm(Bi(r),Bi(t))&&r.limitType===t.limitType}function z1(r){return`${Bm(Bi(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>L1(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>hl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>hl(o))).join(",")),`Target(${a})`})(Bi(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Do(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Do(a),o)||a.endAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Do(a),o))})(r,t)}function oR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j1(r){return(t,i)=>{let a=!1;for(const o of Do(r)){const c=uR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function uR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?cl(_,y):Tt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){br(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const cR=new ye(mt.comparator);function bs(){return cR}const B1=new ye(mt.comparator);function wo(...r){let t=B1;for(const i of r)t=t.insert(i.key,i);return t}function q1(r){let t=B1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ea(){return Oo()}function H1(){return Oo()}function Oo(){return new oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hR=new ye(mt.comparator),fR=new je(mt.comparator);function zt(...r){let t=fR;for(const i of r)t=t.add(i);return t}const dR=new je(Pt);function mR(){return dR}function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function G1(r){return{integerValue:""+r}}function gR(r,t){return Bw(t)?G1(t):Hm(r,t)}class Eh{constructor(){this._=void 0}}function pR(r,t,i){return r instanceof ih?(function(o,c){const d={fields:{[C1]:{stringValue:R1},[x1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=ph(c)),c&&(d.fields[I1]=c),{mapValue:d}})(i,t):r instanceof fl?Q1(r,t):r instanceof jo?Y1(r,t):(function(o,c){const d=F1(o,c),p=L0(d)+L0(o.Ae);return lm(d)&&lm(o.Ae)?G1(p):Hm(o.serializer,p)})(r,t)}function yR(r,t,i){return r instanceof fl?Q1(r,t):r instanceof jo?Y1(r,t):i}function F1(r,t){return r instanceof sh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ih extends Eh{}class fl extends Eh{constructor(t){super(),this.elements=t}}function Q1(r,t){const i=K1(t);for(const a of r.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class jo extends Eh{constructor(t){super(),this.elements=t}}function Y1(r,t){let i=K1(t);for(const a of r.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function L0(r){return Re(r.integerValue||r.doubleValue)}function K1(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _R{constructor(t,i){this.field=t,this.transform=i}}function vR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof fl&&o instanceof fl||a instanceof jo&&o instanceof jo?ul(a.elements,o.elements,Fi):a instanceof sh&&o instanceof sh?Fi(a.Ae,o.Ae):a instanceof ih&&o instanceof ih})(r.transform,t.transform)}class TR{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function X1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Gm(r.key,ci.none()):new $o(r.key,r.data,ci.none());{const i=r.data,a=Tn.empty();let o=new je(tn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sr(r.key,a,new On(o.toArray()),ci.none())}}function ER(r,t,i){r instanceof $o?(function(o,c,d){const p=o.value.clone(),_=z0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Sr?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=z0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll($1(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Mo(r,t,i,a){return r instanceof $o?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),E=j0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Sr?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=j0(c.fieldTransforms,_,d),E=d.data;return E.setAll($1(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function bR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=F1(a.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function P0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ul(a,o,((c,d)=>vR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class $o extends bh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends bh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function z0(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,yR(d,p,i[o]))}return a}function j0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,pR(c,d,t))}return a}class Gm extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&ER(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Mo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Mo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=H1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=X1(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&ul(this.mutations,t.mutations,((i,a)=>P0(i,a)))&&ul(this.baseMutations,t.baseMutations,((i,a)=>P0(i,a)))}}class Fm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return hR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(t,i,a,o)}}class wR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,qt;function CR(r){switch(r){case $.OK:return Tt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function Z1(r){if(r===void 0)return Es("GRPC error has no .code"),$.UNKNOWN;switch(r){case ke.OK:return $.OK;case ke.CANCELLED:return $.CANCELLED;case ke.UNKNOWN:return $.UNKNOWN;case ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ke.INTERNAL:return $.INTERNAL;case ke.UNAVAILABLE:return $.UNAVAILABLE;case ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ke.NOT_FOUND:return $.NOT_FOUND;case ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ke.ABORTED:return $.ABORTED;case ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ke.DATA_LOSS:return $.DATA_LOSS;default:return Tt(39323,{code:r})}}(qt=ke||(ke={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const xR=new dr([4294967295,4294967295],0);function B0(r){const t=IR().encode(r),i=new m1;return i.update(t),new Uint8Array(i.digest())}function q0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new dr([i,a],0),new dr([o,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(a<0)throw new Ro(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=dr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(dr.fromNumber(a)));return o.compare(xR)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=B0(t),[a,o]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=B0(t),[a,o]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Zo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(St.min(),o,new ye(Pt),bs(),zt())}}class Zo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Zo(a,i,zt(),zt(),zt())}}class qc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class J1{constructor(t,i){this.targetId=t,this.Ce=i}}class W1{constructor(t,i,a=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class H0{constructor(){this.ve=0,this.Fe=G0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Tt(38017,{changeType:c})}})),new Zo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=bs(),this.Je=Dc(),this.He=Dc(),this.Ye=new ye(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(um(c))if(a===0){const d=new mt(c.path);this.et(i,d,an.newNoDocument(d,St.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof w1)return ol("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Qm(d,o,c)}catch(_){return ol(_ instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Sh(t,i,this.Ye,this.je,a);return this.je=bs(),this.Je=Dc(),this.He=Dc(),this.Ye=new ye(Pt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new H0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ye(mt.comparator)}function G0(){return new ye(mt.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},OR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class VR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kR(r,t){return rh(r,t.toTimestamp())}function qi(r){return Xt(!!r,49232),St.fromTimestamp((function(i){const a=yr(i);return new fe(a.seconds,a.nanos)})(r))}function Ym(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(o){return new pe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function eT(r){const t=pe.fromString(r);return Xt(aT(t),10190,{key:t.toString()}),t}function dm(r,t){return Ym(r.databaseId,t.path)}function Gd(r,t){const i=eT(t);if(i.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(iT(i))}function nT(r,t){return Ym(r.databaseId,t)}function UR(r){const t=eT(r);return t.length===4?pe.emptyPath():iT(t)}function mm(r){return new pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iT(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function LR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?$.UNKNOWN:Z1(y.code);return new ot(E,y.message||"")})(d);i=new W1(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):St.min(),p=new Tn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new qc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?qi(a.readTime):St.min(),d=an.newNoDocument(o,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new RR(o,c),p=a.targetId;i=new J1(p,d)}}return i}function PR(r,t){let i;if(t instanceof $o)i={update:F0(r,t.key,t.value)};else if(t instanceof Gm)i={delete:dm(r,t.key)};else if(t instanceof Sr)i={update:F0(r,t.key,t.data),updateMask:YR(t.fieldMask)};else{if(!(t instanceof SR))return Tt(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Tt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:kR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,t.precondition)),i}function zR(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(St.min())&&(d=qi(c)),new TR(d,o.transformResults||[])})(i,t)))):[]}function jR(r,t){return{documents:[nT(r,t.path)]}}function BR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nT(r,o);const c=(function(y){if(y.length!==0)return rT(Qi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:Wa(M.field),direction:GR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function qR(r){let t=UR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Xt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=sT(w);return M instanceof Qi&&k1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new nh(tl(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,gh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,H=w.values||[];return new eh(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,H=w.values||[];return new eh(H,M)})(i.endAt)),rR(t,o,d,c,p,"F",_,y)}function HR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>sT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function GR(r){return DR[r]}function FR(r){return OR[r]}function QR(r){return MR[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function tl(r){return tn.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof ze?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:FR(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const a=i.getFilters().map((o=>rT(o)));return a.length===1?a[0]:{compositeFilter:{op:QR(i.op),filters:a}}})(r):Tt(54877,{filter:r})}function YR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ur{constructor(t,i,a,o,c=St.min(),d=St.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KR{constructor(t){this.yt=t}}function XR(r){const t=qR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class $R{constructor(){this.Cn=new ZR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(pr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class ZR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new je(pe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new je(pe.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(lT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class dl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}const Y0="LruGarbageCollector",JR=1048576;function K0([r,t],[i,a]){const o=Pt(r,i);return o===0?Pt(t,a):o}class WR{constructor(t){this.Ir=t,this.buffer=new je(K0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();K0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Y0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Tl(i)?st(Y0,"Ignoring IndexedDB error during garbage collection: ",i):await vl(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const a=new WR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Za()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function nC(r,t){return new eC(r,t)}class iC{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Mo(a.mutation,o,On.empty(),fe.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=ea();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=wo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ea();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=bs();const d=Oo(),p=(function(){return Oo()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Sr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Mo(E.mutation,y,E.mutation.getFieldMask(),fe.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new sC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Oo();let o=new ye(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||On.empty();E=p.applyToLocalView(y,E),a.set(_,E);const w=(o.get(p.batchId)||zt()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,w=H1();E.forEach((M=>{if(!c.has(M)){const H=X1(i.get(M),a.get(M));H!==null&&w.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(ea());let p=Uo,_=c;return d.next((y=>X.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((E=>({batchId:p,changes:q1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=wo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=wo();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new yh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let p=wo();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Mo(E.mutation,y,On.empty(),fe.now()),Th(i,y)&&(p=p.insert(_,y))})),p}))}}class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:XR(o.bundledQuery),readTime:qi(o.readTime)}})(i)),X.resolve()}}class lC{constructor(){this.overlays=new ye(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ea();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=ea(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ye(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ea(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class oC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Km{constructor(){this.Qr=new je(Fe.$r),this.Ur=new je(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new pe([])),a=new Fe(i,t),o=new Fe(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new pe([])),a=new Fe(i,t),o=new Fe(i,t+1);let c=zt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Fe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Pt);return i.forEach((o=>{const c=new Fe(o,0),d=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new mt(c),0);let p=new je(Pt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Fe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Fe(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cC{constructor(t){this.ri=t,this.docs=(function(){return new ye(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=bs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=bs();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Lw(Uw(E),a)<=0||(o.has(E.key)||Th(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Tt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new hC(this)}getSize(t){return X.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fC{constructor(t){this.persistence=t,this.si=new oa((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=dl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new dl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class oT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new oC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $R,this.remoteDocumentCache=(function(o){return new cC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new KR(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new lC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new dC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class dC extends zw{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new oa((a=>qw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=nC(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $m(t,i.fromCache,a,o)}}class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eS()?8:jw(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Za()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Za()<=Lt.DEBUG&&st("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Za()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(i))):X.resolve())}ys(t,i){if(U0(i))return X.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return U0(i)||o.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Za()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(i)),this.vs(t,d,i,kw(o,Uo)).next((p=>p)))}))}Ds(t,i){let a=new je(j1(t));return i.forEach(((o,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Za()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(t,i,pr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",pC=3e8;class yC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ye(Pt),this.xs=new oa((c=>Bm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function uT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=zt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function vC(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const w=y.batch,M=w.keys();let H=X.resolve();return M.forEach((J=>{H=H.next((()=>E.getEntry(_,J))).next((tt=>{const Z=y.docVersions.get(J);Xt(Z!==null,48541),tt.version.compareTo(Z)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),E.addEntry(tt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function cT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TC(r,t){const i=wt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?H=H.withResumeToken(en.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),o=o.insert(w,H),(function(tt,Z,ft){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=pC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,H,E)&&p.push(i.Pi.updateTargetData(c,H))}));let _=bs(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(EC(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function EC(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function bC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function SC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new ur(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=wt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tl(d))throw d;st(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function X0(r,t,i){const a=wt(r);let o=St.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const w=wt(_),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Bi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:zt()))).next((p=>(AC(a,oR(t),p),{documents:p,Qs:c})))))}function AC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=mR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RC{Oo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function pm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Fd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=pm(),p=this.zo(t,i.toUriEncodedString());st(Fd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),E=gl(y);return this.Jo(t,p,_,a,E).then((w=>(st(Fd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw ol(Fd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=CC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class NC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=pm();return new Promise(((p,_)=>{const y=new g1;y.setWithCredentials(!0),y.listenOnce(p1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();st(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Pc.TIMEOUT:st(sn,`RPC '${t}' ${d} timed out`),_(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=y.getStatus();if(st(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const tt=(function(ft){const gt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(gt)>=0?gt:$.UNKNOWN})(J.status);_(new ot(tt,J.message))}else _(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot($.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(sn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);st(sn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=v1(),p=_1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");st(sn,`Creating RPC '${t}' stream ${o}: ${E}`,_);const w=d.createWebChannel(E,_);this.I_(w);let M=!1,H=!1;const J=new xC({Yo:Z=>{H?st(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(M||(st(sn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),M=!0),st(sn,`RPC '${t}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),tt=(Z,ft,gt)=>{Z.listen(ft,(pt=>{try{gt(pt)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return tt(w,Ao.EventType.OPEN,(()=>{H||(st(sn,`RPC '${t}' stream ${o} transport opened.`),J.o_())})),tt(w,Ao.EventType.CLOSE,(()=>{H||(H=!0,st(sn,`RPC '${t}' stream ${o} transport closed`),J.a_(),this.E_(w))})),tt(w,Ao.EventType.ERROR,(Z=>{H||(H=!0,ol(sn,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),tt(w,Ao.EventType.MESSAGE,(Z=>{if(!H){const ft=Z.data[0];Xt(!!ft,16349);const gt=ft,pt=gt?.error||gt[0]?.error;if(pt){st(sn,`RPC '${t}' stream ${o} received error:`,pt);const xt=pt.status;let Kt=(function(A){const C=ke[A];if(C!==void 0)return Z1(C)})(xt),Rt=pt.message;Kt===void 0&&(Kt=$.INTERNAL,Rt="Unknown error status: "+xt+" with message "+pt.message),H=!0,J.a_(new ot(Kt,Rt)),w.close()}else st(sn,`RPC '${t}' stream ${o} received:`,ft),J.u_(ft)}})),tt(p,y1.STAT_EVENT,(Z=>{Z.stat===sm.PROXY?st(sn,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===sm.NOPROXY&&st(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Ah(r){return new VR(r,!0)}class hT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class fT{constructor(t,i,a,o,c,d,p,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends fT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?qi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=um(_)?{documents:jR(c,_)}:{query:BR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=HR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class OC extends fT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zR(t.writeResults,t.commitTime),a=qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PR(this.serializer,a)))};this.q_(i)}}class MC{}class VC extends MC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class UC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ua(this)&&(st(aa,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await Jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new kC(a,o)}}async function wh(r){if(ua(r))for(const t of r.da)await t(!0)}async function Jo(r){for(const t of r.da)await t(!1)}function dT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),eg(i)?tg(i):El(i).O_()&&Wm(i,t))}function Jm(r,t){const i=wt(r),a=El(i);i.Ia.delete(t),a.O_()&&mT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ua(i)&&i.Ra.set("Unknown"))}function Wm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}El(r).Y_(t)}function mT(r,t){r.Va.Ue(t),El(r).Z_(t)}function tg(r){r.Va=new NR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Ra.ua()}function eg(r){return ua(r)&&!El(r).x_()&&r.Ia.size>0}function ua(r){return wt(r).Ea.size===0}function gT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{Wm(r,t)}))}async function zC(r,t){gT(r),eg(r)?(r.Ra.ha(t),tg(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof W1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){st(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof J1?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await cT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),mT(c,_);const w=new ur(E.target,_,y,E.sequenceNumber);Wm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(aa,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,t,i){if(!Tl(t))throw t;r.Ea.add(1),await Jo(r),r.Ra.set("Offline"),i||(i=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function pT(r,t){return t().catch((i=>lh(r,i,t)))}async function Rh(r){const t=wt(r),i=Tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;BC(t);)try{const o=await bC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,qC(t,o)}catch(o){await lh(t,o)}yT(t)&&_T(t)}function BC(r){return ua(r)&&r.Ta.length<10}function qC(r,t){r.Ta.push(t);const i=Tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function yT(r){return ua(r)&&!Tr(r).x_()&&r.Ta.length>0}function _T(r){Tr(r).start()}async function HC(r){Tr(r).ra()}async function GC(r){const t=Tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function FC(r,t,i){const a=r.Ta.shift(),o=Fm.from(a,t,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function QC(r,t){t&&Tr(r).X_&&await(async function(a,o){if((function(d){return CR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Tr(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(r,t),yT(r)&&_T(r)}async function tv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),st(aa,"RemoteStore received new credentials");const a=ua(i);i.Ea.add(3),await Jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function YC(r,t){const i=wt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Jo(i),i.Ra.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(i,a,o){const c=wt(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:zC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),eg(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,o){const c=wt(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,r),r_:QC.bind(null,r),ta:GC.bind(null,r),na:FC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new ng(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,t){if(Es("AsyncQueue",`${t}: ${r}`),Tl(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}class rl{static emptySet(t){return new rl(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=wo(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof rl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new rl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ev{constructor(){this.ga=new ye(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ml{constructor(t,i,a,o,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ml(t,i,rl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class KC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=wt(i),c=o.queries;o.queries=nv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function nv(){return new oa((r=>z1(r)),vh)}async function vT(r,t){const i=wt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new KC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ig(d,`Initialization of query '${Ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function TT(r,t){const i=wt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $C(r,t){const i=wt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&sg(i)}function ZC(r,t,i){const a=wt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function sg(r){r.Ca.forEach((t=>{t.next()}))}var ym,iv;(iv=ym||(ym={})).Ma="default",iv.Cache="cache";class ET{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new ml(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ml.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class bT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=j1(t),this.tu=new rl(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ev,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,w)=>{const M=o.get(E),H=Th(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;M&&H?M.data.isEqual(H.data)?J!==tt&&(a.track({type:3,doc:H}),Z=!0):this.su(M,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),Z=!0):M&&!H&&(a.track({type:1,doc:M}),Z=!0,(_||y)&&(p=!0)),Z&&(H?(d=d.add(H),c=tt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(H,J){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Z})}};return tt(H)-tt(J)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ml(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new ST(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class WC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>z1(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(mt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(r,t,i=!0){const a=xT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AT(a,t,i,!0),o}async function iI(r,t){const i=xT(r);await AT(i,t,!0,!1)}async function AT(r,t,i,a){const o=await SC(r.localStore,Bi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&dT(r.remoteStore,o),p}async function sI(r,t,i,a,o){r.pu=(w,M,H)=>(async function(tt,Z,ft,gt){let pt=Z.view.ru(ft);pt.Cs&&(pt=await X0(tt.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,pt))));const xt=gt&&gt.targetChanges.get(Z.targetId),Kt=gt&&gt.targetMismatches.get(Z.targetId)!=null,Rt=Z.view.applyChanges(pt,tt.isPrimaryClient,xt,Kt);return rv(tt,Z.targetId,Rt.au),Rt.snapshot})(r,w,M,H);const c=await X0(r.localStore,t,!0),d=new JC(t,c.Qs),p=d.ru(c.documents),_=Zo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,_);rv(r,i,y.au);const E=new WC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function rI(r,t,i){const a=wt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),_m(a,o.targetId)})).catch(vl)):(_m(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function aI(r,t){const i=wt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function lI(r,t,i){const a=mI(r);try{const o=await(function(d,p){const _=wt(d),y=fe.now(),E=p.reduce(((H,J)=>H.add(J.key)),zt());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=bs(),tt=zt();return _.Ns.getEntries(H,E).next((Z=>{J=Z,J.forEach(((ft,gt)=>{gt.isValidDocument()||(tt=tt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next((Z=>{w=Z;const ft=[];for(const gt of p){const pt=bR(gt,w.get(gt.key).overlayedDocument);pt!=null&&ft.push(new Sr(gt.key,pt,O1(pt.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ft,p)})).next((Z=>{M=Z;const ft=Z.applyToLocalDocumentSet(w,tt);return _.documentOverlayCache.saveOverlays(H,Z.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:q1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ye(Pt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Wo(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=ig(o,"Failed to persist write");i.reject(c)}}async function wT(r,t){const i=wt(r);try{const a=await TC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xt(d.hu,14607):o.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Wo(i,a,t)}catch(a){await vl(a)}}function sv(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=wt(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&sg(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oI(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ye(mt.comparator);d=d.insert(c,an.newNoDocument(c,St.min()));const p=zt().add(c),_=new Sh(St.min(),new Map,new ye(Pt),d,p);await wT(a,_),a.du=a.du.remove(c),a.Au.delete(t),ag(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(vl)}async function uI(r,t){const i=wt(r),a=t.batch.batchId;try{const o=await vC(i.localStore,t);CT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wo(i,o)}catch(o){await vl(o)}}async function cI(r,t,i){const a=wt(r);try{const o=await(function(d,p){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Xt(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);CT(a,t,i),RT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Wo(a,o)}catch(o){await vl(o)}}function RT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function CT(r,t,i){const a=wt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ag(r))}function rv(r,t,i){for(const a of i)a instanceof bT?(r.Ru.addReference(a.key,t),hI(r,a)):a instanceof ST?(st(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||IT(r,a.key)):Tt(19791,{wu:a})}function hI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(rg,"New document in limbo: "+i),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(pe.fromString(t)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),dT(r.remoteStore,new ur(Bi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Wo(r,t,i){const a=wt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=$m.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const E=wt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(H=>E.persistence.referenceDelegate.addReference(w,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>E.persistence.referenceDelegate.removeReference(w,M.targetId,H)))))))))}catch(w){if(!Tl(w))throw w;st(Zm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const H=E.Ms.get(M),J=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,tt)}}})(a.localStore,c))}async function fI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){st(rg,"User change. New user:",t.toKey());const a=await uT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Wo(i,a.Ls)}}function dI(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function xT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Pu.H_=$C.bind(null,t.eventManager),t.Pu.yu=ZC.bind(null,t.eventManager),t}function mI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new oT(Xm.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class gI extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new oT((a=>ah.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,_){return new VC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new UC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new RC})())}createSyncEngine(t,i){return(function(o,c,d,p,_,y,E){const w=new eI(o,c,d,p,_,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);st(aa,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class NT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Er="FirestoreClient";class pI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await uT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);st(Er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>tv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>tv(t.remoteStore,o))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Er,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new oh)}}else st(Er,"Using default OfflineComponentProvider"),await Yd(r,new gI(void 0));return r._offlineComponents}async function DT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Er,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(st(Er,"Using default OnlineComponentProvider"),await av(r,new vm))),r._onlineComponents}function _I(r){return DT(r).then((t=>t.syncEngine))}async function Tm(r){const t=await DT(r),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function vI(r,t,i={}){const a=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new NT({next:M=>{E.Nu(),d.enqueueAndForget((()=>TT(c,w)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new ET(_h(p.path),E,{includeMetadataChanges:!0,qa:!0});return vT(c,w)})(await Tm(r),r.asyncQueue,t,i,a))),a.promise}function OT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const lv=new Map;const MT="firestore.googleapis.com",ov=!0;class uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=ov}else this.host=t.host,this.ssl=t.ssl??ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JR)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Vw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Sw;switch(a.type){case"firstParty":return new Cw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=lv.get(i);a&&(st("ComponentProvider","Removing Datastore"),lv.delete(i),a.terminate())})(this),Promise.resolve()}}function TI(r,t,i,a={}){r=ui(r,lg);const o=gl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(xv(`https://${p}`),Nv("Firestore",!0)),c.host!==MT&&c.host!==p&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!gr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=Qb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(w)}r._authCredentials=new Aw(new E1(y,E))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Xo(i,Le._jsonSchema))return new Le(t,a||null,new mt(pe.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class Bo extends Ch{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new mt(t))}withConverter(t){return new Bo(this.firestore,t,this._path)}}function Ui(r,t,...i){if(r=cn(r),arguments.length===1&&(t=Um.newId()),Mw("doc","path",t),r instanceof lg){const a=pe.fromString(t,...i);return S0(a),new Le(r,null,new mt(a))}{if(!(r instanceof Le||r instanceof Bo))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pe.fromString(t,...i));return S0(a),new Le(r.firestore,r instanceof Bo?r.converter:null,new mt(a))}}const cv="AsyncQueue";class hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&st(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Tl(t))throw t;st(cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ng.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class la extends lg{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hv(t),this._firestoreClient=void 0,await t}}}function EI(r,t){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:Wc,o=Rm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Gb("firestore");c&&TI(o,...c)}return o}function og(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new Fw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(en.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xo(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ue("string",Kn._jsonSchemaVersion),bytes:Ue("string")};class Ih{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._methodName=t}}class Hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Xo(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ue("string",Hi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Gi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xo(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Gi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ue("string",Gi._jsonSchemaVersion),vectorValues:Ue("object")};const SI=/^__.*__$/;class AI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new $o(t,this.data,i,this.fieldTransforms)}}class VT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function kT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Nh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&SI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}Cc(t,i,a,o=!1){return new Nh({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RI(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);cg("Data must be an object, but it was:",d,a);const p=LT(a,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Em(t,w,i);if(!d.contains(M))throw new ot($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);zT(E,M)||E.push(M)}_=new On(E),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new AI(new Tn(p),_,y)}class Dh extends xh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function CI(r,t,i){return new Nh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ug extends xh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CI(this,t,!0),a=this.vc.map((c=>tu(c,i))),o=new fl(a);return new _R(t.path,o)}isEqual(t){return t instanceof ug&&gr(this.vc,t.vc)}}function II(r,t,i,a){const o=r.Cc(1,t,i);cg("Data must be an object, but it was:",o,a);const c=[],d=Tn.empty();br(a,((_,y)=>{const E=hg(t,_,i);y=cn(y);const w=o.yc(E);if(y instanceof Dh)c.push(E);else{const M=tu(y,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new On(c);return new VT(d,p,o.fieldTransforms)}function xI(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[Em(t,a,i)],_=[o];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Em(t,c[M])),_.push(c[M+1]);const y=[],E=Tn.empty();for(let M=p.length-1;M>=0;--M)if(!zT(y,p[M])){const H=p[M];let J=_[M];J=cn(J);const tt=d.yc(H);if(J instanceof Dh)y.push(H);else{const Z=tu(J,tt);Z!=null&&(y.push(H),E.set(H,Z))}}const w=new On(y);return new VT(E,w,d.fieldTransforms)}function tu(r,t){if(PT(r=cn(r)))return cg("Unsupported field value:",t,r),LT(r,t);if(r instanceof xh)return(function(a,o){if(!kT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=tu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=fe.fromDate(a);return{timestampValue:rh(o.serializer,c)}}if(a instanceof fe){const c=new fe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:tT(o.serializer,a._byteString)};if(a instanceof Le){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,p){return{mapValue:{fields:{[N1]:{stringValue:D1},[th]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Lm(a)}`)})(r,t)}function LT(r,t){const i={};return A1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(r,((a,o)=>{const c=tu(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof fe||r instanceof Hi||r instanceof Kn||r instanceof Le||r instanceof xh||r instanceof Gi)}function cg(r,t,i){if(!PT(i)||!b1(i)){const a=Lm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=cn(t))instanceof Ih)return t._internalPath;if(typeof t=="string")return hg(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function hg(r,t,i){if(t.search(NI)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ot($.INVALID_ARGUMENT,p+r+_)}function zT(r,t){return r.some((i=>i.isEqual(t)))}class jT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(BT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends jT{data(){return super.data()}}function BT(r,t){return typeof t=="string"?hg(r,t):t instanceof Ih?t._internalPath:t._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MI{convertValue(t,i="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return br(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new Gi(i)}convertGeoPoint(t){return new Hi(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Lo(t));default:return null}}convertTimestamp(t){const i=yr(t);return new fe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=pe.fromString(t);Xt(aT(a),9688,{name:t});const o=new Po(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Co{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends jT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(BT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Ue("string",na._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Hc extends na{data(t={}){return super.data(t)}}class al{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:kI(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}function mv(r){r=ui(r,Le);const t=ui(r.firestore,la);return vI(og(t),r._key).then((i=>HT(t,r,i)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Ue("string",al._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class qT extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function UI(r,t,i){r=ui(r,Le);const a=ui(r.firestore,la),o=VI(r.converter,t);return fg(a,[RI(UT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ci.none())])}function Jr(r,t,i,...a){r=ui(r,Le);const o=ui(r.firestore,la),c=UT(o);let d;return d=typeof(t=cn(t))=="string"||t instanceof Ih?xI(c,"updateDoc",r._key,t,i,a):II(c,"updateDoc",r._key,t),fg(o,[d.toMutation(r._key,ci.exists(!0))])}function LI(r){return fg(ui(r.firestore,la),[new Gm(r._key,ci.none())])}function gv(r,...t){r=cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Le)d=ui(r.firestore,la),p=_h(r._key.path),c={next:_=>{t[a]&&t[a](HT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ui(r,Ch);d=ui(_.firestore,la),p=_._query;const y=new qT(d);c={next:E=>{t[a]&&t[a](new al(d,y,_,E))},error:t[a+1],complete:t[a+2]},OI(r._query)}return(function(y,E,w,M){const H=new NT(M),J=new ET(E,H,w);return y.asyncQueue.enqueueAndForget((async()=>vT(await Tm(y),J))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>TT(await Tm(y),J)))}})(og(d),p,o,c)}function fg(r,t){return(function(a,o){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>lI(await _I(a),o,c))),c.promise})(og(r),t)}function HT(r,t,i){const a=i.docs.get(t._key),o=new qT(r);return new na(r,o,t._key,a,new Co(i.hasPendingWrites,i.fromCache),t.converter)}function Mc(...r){return new ug("arrayUnion",r)}(function(t,i=!0){(function(o){_l=o})(pl),ll(new ia("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new la(new ww(a.getProvider("auth-internal")),new Iw(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),fr(v0,T0,t),fr(v0,T0,"esm2020")})();const PI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),pv=r=>{const t=zI(r);return t.charAt(0).toUpperCase()+t.slice(1)},GT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),jI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var BI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=te.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>te.createElement("svg",{ref:_,...BI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:GT("lucide",o),...!c&&!jI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>te.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ue=(r,t)=>{const i=te.forwardRef(({className:a,...o},c)=>te.createElement(qI,{ref:c,iconNode:t,className:GT(`lucide-${PI(pv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=pv(r),i};const HI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yv=ue("arrow-right",HI);const GI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],FI=ue("bird",GI);const QI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_v=ue("book-open",QI);const YI=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Oh=ue("cat",YI);const KI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vv=ue("circle-check-big",KI);const XI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Tv=ue("crown",XI);const $I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZI=ue("eye",$I);const JI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],WI=ue("fish",JI);const tx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ex=ue("hammer",tx);const nx=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ix=ue("hand",nx);const sx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rx=ue("history",sx);const ax=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],FT=ue("house",ax);const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QT=ue("info",lx);const ox=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=ue("log-out",ox);const ux=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cx=ue("message-square",ux);const hx=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],fx=ue("paw-print",hx);const dx=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],mx=ue("rabbit",dx);const gx=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],px=ue("rat",gx);const yx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_x=ue("rotate-ccw",yx);const vx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],YT=ue("skull",vx);const Tx=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],Ex=ue("snail",Tx);const bx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sx=ue("triangle-alert",bx);const Ax=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wx=ue("trophy",Ax);const Rx=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],Cx=ue("turtle",Rx);const Ix=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xx=ue("user",Ix);const Nx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ch=ue("x",Nx),Dx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:a9758ba9c41e4b5a6aa637"},KT=Mv(Dx),Kd=Ew(KT),Li=EI(KT),ds=typeof __app_id<"u"?__app_id:"royal-menagerie-game",Ox="19",_n={RAT:{name:"Rat",icon:px,color:"text-gray-200",bg:"bg-gray-800",border:"border-gray-600"},CAT:{name:"Cat",icon:Oh,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-700"},DOG:{name:"Dog",icon:fx,color:"text-white",bg:"bg-black",border:"border-gray-500"},RABBIT:{name:"Rabbit",icon:mx,color:"text-pink-200",bg:"bg-pink-900",border:"border-pink-700"},TURTLE:{name:"Turtle",icon:Cx,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-700"},FISH:{name:"Fish",icon:WI,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-700"},BIRD:{name:"Bird",icon:FI,color:"text-sky-200",bg:"bg-sky-900",border:"border-sky-700"},SNAIL:{name:"Snail",icon:Ex,color:"text-fuchsia-200",bg:"bg-fuchsia-900",border:"border-fuchsia-700"}},Mx=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Ev=({onClose:r})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[S.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 uppercase tracking-widest",children:"ROYAL GUIDE"}),S.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"The Court of Deception"})]}),S.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:S.jsx(ch,{size:24})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 text-gray-300",children:[S.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 p-4 md:p-6 rounded-2xl border border-purple-700/30",children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[S.jsx(wx,{className:"text-yellow-400",size:24})," The Objective"]}),S.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["There is only ",S.jsx("strong",{children:"ONE LOSER"}),". Everyone else wins.",S.jsx("br",{}),S.jsx("br",{}),"You lose if you collect:",S.jsx("br",{}),"1. ",S.jsx("strong",{children:"4 cards"})," of the same Animal.",S.jsx("br",{}),"2. ",S.jsx("strong",{children:"1 card"})," of every Animal (8 total).",S.jsx("br",{}),"3. Or run out of cards in your hand when you need to play."]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[S.jsx(cx,{className:"text-purple-400",size:24})," Gameplay"]}),S.jsxs("div",{className:"space-y-4 border-l-2 border-gray-700 ml-4 pl-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-white text-lg",children:"1. The Offer"}),S.jsxs("p",{children:['Pick a card from your hand, pass it face-down to a player, and declare an animal name (e.g., "This is a Rat"). You can'," ",S.jsx("strong",{children:"Lie"})," or tell the ",S.jsx("strong",{children:"Truth"}),"."]})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-white text-lg",children:"2. The Response"}),S.jsx("p",{children:"The receiver has two choices:"}),S.jsxs("ul",{className:"list-disc ml-6 mt-1 space-y-1",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Guess:"}),' Say "True" or "False". If they guess right, YOU get the card face-up. If they guess wrong, THEY get the card.']}),S.jsxs("li",{children:[S.jsx("strong",{children:"Peek & Pass:"})," Peek at the card, then pass it to a ",S.jsx("em",{children:"new"})," player with a new claim."]})]})]})]})]})]}),S.jsx("div",{className:"p-4 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:S.jsx("button",{onClick:r,className:"bg-purple-600 hover:bg-purple-500 text-white px-10 py-3 rounded-xl font-bold text-lg shadow-xl",children:"Enter the Court"})})]})}),bv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:o})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Court?"}),S.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:o?"Leaving now will disrupt the proceedings!":"Leaving the lobby will disconnect you."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),o&&a&&S.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[S.jsx(FT,{size:18})," Return Court to Lobby"]}),S.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[S.jsx(bm,{size:18})," ",o&&a?"End Game for All":"Leave Game"]})]})]})}),Vx=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:S.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:S.jsx(a,{size:64,className:"animate-bounce"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Xd=()=>S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-purple-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),kx=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(Oh,{size:12,className:"text-purple-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"ROYAL MENAGERIE"})]}),Ux=({title:r,text:t,onClose:i,type:a="info",card:o=null})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:S.jsx("div",{className:"bg-gray-800 border-2 border-purple-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:S.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?S.jsx(Sx,{className:"text-red-500 w-12 h-12"}):a==="loss"?S.jsx(YT,{className:"text-red-500 w-12 h-12 animate-bounce"}):S.jsx(QT,{className:"text-purple-400 w-12 h-12"}),S.jsx("h3",{className:"text-2xl font-bold text-white",children:r}),S.jsx("p",{className:"text-gray-300 text-lg",children:t}),o&&S.jsxs("div",{className:"my-2",children:[S.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"The Card Was"}),S.jsx(ta,{type:o,small:!0})]}),S.jsx("button",{onClick:i,className:"w-full py-3 rounded-lg font-bold text-white bg-purple-600 hover:bg-purple-500 transition-colors",children:a==="loss"?"Accept Fate":"Understood"})]})})}),ta=({type:r,onClick:t,disabled:i,highlight:a,small:o,tiny:c,isFaceDown:d})=>{if(d)return S.jsx("div",{onClick:t,className:`relative rounded-xl border-2 border-purple-800 bg-purple-950 shadow-lg flex items-center justify-center
            ${o?"w-12 h-16":"w-24 h-36 md:w-32 md:h-48"} 
            ${i?"opacity-50":"cursor-pointer hover:scale-105 transition-transform"}`,children:S.jsx(Oh,{className:"text-purple-700 opacity-20",size:o?16:48})});const p=_n[r];if(!p)return S.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded"});const _=o?"w-12 h-16 md:w-16 md:h-24":"w-24 h-36 md:w-32 md:h-48",y=o?"w-6 h-6 md:w-8 md:h-8":"w-12 h-12 md:w-16 md:h-16",E=o?"text-[8px] md:text-[10px]":"text-sm md:text-base";return c?S.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${p.bg} border border-gray-400`,title:p.name,children:S.jsx(p.icon,{className:`${p.color} w-3 h-3`})}):S.jsxs("button",{onClick:t,disabled:i,className:`relative rounded-xl border-4 shadow-lg transition-all flex flex-col items-center justify-center gap-1 md:gap-2
        ${_}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":p.border}
        ${p.bg} 
        ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsx(p.icon,{className:`${p.color} ${y} drop-shadow-md`})}),S.jsx("div",{className:`font-black uppercase tracking-wider ${E} ${p.color} w-full text-center pb-2 md:pb-4`,children:S.jsx("span",{children:p.name})})]})},Lx=({logs:r,onClose:t})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:S.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] flex flex-col border border-gray-700 md:rounded-xl",children:[S.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[S.jsx("h3",{className:"text-white font-bold text-lg",children:"Court Records"}),S.jsx("button",{onClick:t,className:"p-2 bg-gray-700 rounded-full",children:S.jsx(ch,{className:"text-gray-400"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>S.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function Px(){const[r,t]=te.useState(null),[i,a]=te.useState("menu"),[o,c]=te.useState(""),[d,p]=te.useState(""),[_,y]=te.useState(""),[E,w]=te.useState(null),[M,H]=te.useState(!1),[J,tt]=te.useState(""),[Z,ft]=te.useState(!1),[gt,pt]=te.useState(null),[xt,Kt]=te.useState(null),[Rt,x]=te.useState(null),[A,C]=te.useState(!1),[V,N]=te.useState(!1),[U,R]=te.useState(!1),[ae,de]=te.useState(!1),[G,et]=te.useState(null),[ut,jt]=te.useState(null),[Ft,O]=te.useState(!1);te.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await l2(Kd,__initial_auth_token):await n2(Kd)})(),c2(Kd,t)},[]),te.useEffect(()=>{const dt=gv(Ui(Li,"game_hub_settings","config"),ct=>{ct.exists()&&ct.data()[Ox]?.maintenance?O(!0):O(!1)});return()=>dt()},[]),te.useEffect(()=>{if(!d||!r)return;const dt=gv(Ui(Li,"artifacts",ds,"public","data","rooms",d),ct=>{if(ct.exists()){const yt=ct.data();if(!yt.players.some($t=>$t.id===r.uid)){p(""),a("menu"),tt("You have left the court.");return}w(yt),yt.status==="lobby"?a("lobby"):a("game")}else p(""),a("menu"),tt("The court has been dissolved.")});return()=>dt()},[d,r]);const Y=(dt,ct,yt,$t)=>{et({type:dt,message:ct,subtext:yt,icon:$t}),setTimeout(()=>et(null),3e3)},nt=async()=>{if(!o)return tt("Name required");H(!0);const dt=Math.random().toString(36).substring(2,7).toUpperCase(),ct={roomId:dt,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,hand:[],faceUpCards:[],eliminated:!1,ready:!1}],turnState:null,turnIndex:0,logs:[],winnerId:null};await UI(Ui(Li,"artifacts",ds,"public","data","rooms",dt),ct),p(dt),a("lobby"),H(!1)},it=async()=>{if(!_||!o)return tt("Code and Name required");H(!0);const dt=Ui(Li,"artifacts",ds,"public","data","rooms",_),ct=await mv(dt);if(!ct.exists()){tt("Room not found"),H(!1);return}const yt=ct.data();if(yt.status!=="lobby"){tt("Game in progress"),H(!1);return}if(yt.players.length>=7){tt("Room full"),H(!1);return}if(!yt.players.find($t=>$t.id===r.uid)){const $t=[...yt.players,{id:r.uid,name:o,hand:[],faceUpCards:[],eliminated:!1,ready:!1}];await Jr(dt,{players:$t})}p(_),H(!1)},vt=async()=>{if(!d||!r)return;const dt=Ui(Li,"artifacts",ds,"public","data","rooms",d),ct=await mv(dt);if(ct.exists()){const yt=ct.data();if(yt.hostId===r.uid||yt.players.length<=1)await LI(dt);else{const Be=yt.players.filter(lt=>lt.id!==r.uid);await Jr(dt,{players:Be})}}p(""),a("menu"),w(null),R(!1)},bt=async()=>{if(!E||E.hostId!==r.uid)return;const dt=E.players.map(ct=>({...ct,hand:[],faceUpCards:[],eliminated:!1,ready:!1}));await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{status:"lobby",players:dt,turnState:null,logs:[],winnerId:null})},Vt=async()=>{!E||E.hostId!==r.uid||_e()},_e=async()=>{if(E.hostId!==r.uid)return;const dt=E.players.map(Dt=>({...Dt,hand:[],faceUpCards:[],eliminated:!1})),ct=dt.length;let yt=[];Object.keys(_n).forEach(Dt=>{for(let ee=0;ee<9;ee++)yt.push(Dt)}),yt=Mx(yt);const $t=yt.length%ct;for(let Dt=0;Dt<$t;Dt++)yt.pop();ct<4&&(yt.pop(),yt.pop(),yt.pop());let Be=0;for(;yt.length>0;)dt[Be].hand.push(yt.pop()),Be=(Be+1)%ct;const lt=Math.floor(Math.random()*ct);await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{status:"playing",players:dt,turnIndex:lt,turnState:null,winnerId:null,logs:[{id:Date.now().toString(),text:"The Royal Menagerie is open! Let the deception begin.",type:"neutral"}]})},oe=async()=>{if(!gt||!xt||!Rt)return;const dt=[...E.players],ct=dt.findIndex(lt=>lt.id===r.uid),yt=dt[ct],$t=yt.hand.indexOf(gt);if($t===-1)return;yt.hand.splice($t,1);const Be={activeCard:gt,declaredType:Rt,holderId:xt,originId:r.uid,passedTrace:[r.uid]};await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{players:dt,turnState:Be,logs:Mc({id:Date.now().toString(),text:`${yt.name} passed a card to ${E.players.find(lt=>lt.id===xt).name} claiming it is a ${_n[Rt].name}.`,type:"neutral"})}),pt(null),Kt(null),x(null)},hi=async dt=>{const ct=E.turnState,yt=ct.activeCard,$t=ct.declaredType,Be=yt===$t,lt=dt&&Be||!dt&&!Be,Dt=lt?ct.originId:r.uid,ee=lt?r.uid:ct.originId,Qe=[...E.players],di=Qe.findIndex(bn=>bn.id===Dt);Qe[di].faceUpCards.push(yt);const Xn=Qe[di].name,ve=Qe.find(bn=>bn.id===ee).name;let Mn=lt?`${ve} correctly guessed! ${Xn} takes the ${_n[yt].name}.`:`${ve} guessed wrong! They take the ${_n[yt].name}.`;r.uid===ee?Y("success","CORRECT!",`${Xn} takes the card`,vv):r.uid===Dt?Y("failure","WRONG!",`You take the ${_n[yt].name}`,ch):Y("neutral","RESULT",Mn,QT);const ws=Qe[di],mi={};ws.faceUpCards.forEach(bn=>mi[bn]=(mi[bn]||0)+1);let En=!1,Rs="";Object.values(mi).some(bn=>bn>=4)?(En=!0,Rs=`collected 4 ${_n[yt].name}s`):Object.keys(mi).length===8?(En=!0,Rs="collected every animal type"):ws.hand.length===0&&(En=!0,Rs="ran out of cards to play");const Yi={players:Qe,turnState:null,turnIndex:di,logs:Mc({id:Date.now().toString(),text:Mn,type:lt?"success":"danger"})};En&&(Yi.status="finished",Yi.winnerId=Dt,Yi.logs=Mc({id:Date.now().toString(),text:`GAME OVER! ${Xn} ${Rs} and is the Royal Fool!`,type:"danger"})),await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),Yi)},As=async()=>{if(!xt||!Rt)return;const dt=E.turnState,ct=[...dt.passedTrace,r.uid],yt={...dt,holderId:xt,originId:r.uid,declaredType:Rt,passedTrace:ct};await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{turnState:yt,logs:Mc({id:Date.now().toString(),text:`${E.players.find($t=>$t.id===r.uid).name} looked and passed the card.`,type:"neutral"})}),N(!1),Kt(null),x(null)},fi=(dt=[])=>E.players.filter(ct=>ct.id!==r.uid&&!dt.includes(ct.id)&&!ct.eliminated);if(Ft)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(ex,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The Queen is feeding the royal animals. The animals will return after some rest."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx(Sparkles,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx(Sparkles,{size:16})]})})})})]});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(Xd,{}),ae&&S.jsx(Ev,{onClose:()=>de(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(Oh,{size:80,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),S.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-pink-600 font-serif tracking-widest drop-shadow-md",children:"ROYAL MENAGERIE"}),S.jsx("p",{className:"text-purple-200/60 tracking-[0.3em] uppercase mt-2",children:"The Court of Deception"})]}),S.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[J&&S.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:J}),S.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Your Title (Name)",value:o,onChange:dt=>c(dt.target.value)}),S.jsxs("button",{onClick:nt,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.2)] transition-all",children:[S.jsx(Tv,{size:20})," Establish Court"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:_,onChange:dt=>y(dt.target.value.toUpperCase())}),S.jsx("button",{onClick:it,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),S.jsxs("button",{onClick:()=>de(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[S.jsx(_v,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const dt=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(Xd,{}),U&&S.jsx(bv,{onCancel:()=>R(!1),onConfirmLeave:vt,onConfirmLobby:()=>{bt(),R(!1)},isHost:dt,inGame:!1}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl mb-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[S.jsxs("h2",{className:"text-2xl font-serif text-purple-400",children:["Court: ",S.jsx("span",{className:"text-white font-mono",children:d})]}),S.jsx("button",{onClick:()=>R(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:S.jsx(bm,{size:16})})]}),S.jsxs("div",{className:"space-y-2 mb-8",children:[E.players.map(ct=>S.jsx("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:S.jsxs("span",{className:`font-bold flex items-center gap-2 ${ct.id===r.uid?"text-purple-400":"text-gray-300"}`,children:[ct.id===E.hostId&&S.jsx(Tv,{size:14,className:"text-yellow-500"}),ct.name]})},ct.id)),E.players.length<2&&S.jsx("div",{className:"text-gray-500 italic text-center",children:"Waiting for diplomats..."})]}),dt?S.jsx("button",{onClick:_e,disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length>=2?"bg-green-700 hover:bg-green-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:E.players.length<2?"Awaiting Diplomats...":"Start the Masquerade"}):S.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"The Host is preparing the deck..."})]}),S.jsx(kx,{})]})}if(i==="game"&&E){const dt=E.hostId===r.uid,ct=E.players.find(lt=>lt.id===r.uid),yt=E.status==="playing"&&!E.turnState&&E.players[E.turnIndex].id===r.uid,$t=E.status==="playing"&&E.turnState&&E.turnState.holderId===r.uid,Be=E.winnerId;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[S.jsx(Xd,{}),G&&S.jsx(Vx,{...G}),ut&&S.jsx(Ux,{...ut,onClose:()=>jt(null)}),Z&&S.jsx(Lx,{logs:E.logs,onClose:()=>ft(!1)}),ae&&S.jsx(Ev,{onClose:()=>de(!1)}),U&&S.jsx(bv,{onCancel:()=>R(!1),onConfirmLeave:vt,onConfirmLobby:()=>{bt(),R(!1)},isHost:dt,inGame:!0}),S.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[S.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider",children:"ROYAL MENAGERIE"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>de(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:S.jsx(_v,{size:18})}),S.jsx("button",{onClick:()=>ft(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:S.jsx(rx,{size:18})}),S.jsx("button",{onClick:()=>R(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:S.jsx(bm,{size:18})})]})]}),E.status==="finished"&&S.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex flex-col items-center justify-center p-4 text-center animate-in fade-in",children:[S.jsx(YT,{size:64,className:"text-red-500 mb-6 animate-bounce"}),S.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white mb-2 uppercase tracking-widest",children:"Game Over"}),S.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-lg",children:[S.jsx("span",{className:"text-red-400 font-bold text-3xl block mb-2",children:E.players.find(lt=>lt.id===Be)?.name}),"is the Royal Fool!"]}),dt?S.jsxs("div",{className:"flex flex-col items-center gap-4 w-full max-w-xs",children:[S.jsxs("button",{onClick:Vt,className:"w-full py-3 rounded-xl font-bold text-lg bg-blue-600 hover:bg-blue-500 text-white flex items-center justify-center gap-2",children:[S.jsx(_x,{size:20})," Restart Court"]}),S.jsxs("button",{onClick:bt,className:"w-full py-3 rounded-xl font-bold text-lg border-2 border-green-600 text-green-500 hover:bg-green-600/10 flex items-center justify-center gap-2",children:[S.jsx(FT,{size:20})," Return to Lobby"]})]}):S.jsx("div",{className:"text-gray-400 animate-pulse",children:"Waiting for Host..."})]}),S.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[S.jsx("div",{className:"flex flex-wrap justify-center gap-2 w-full mb-4",children:E.players.map((lt,Dt)=>{if(lt.id===r.uid)return null;const ee=E.turnState?E.turnState.holderId===lt.id:E.turnIndex===Dt,Qe=yt&&gt||V,di=fi(V?E.turnState.passedTrace:[]),Xn=Qe&&di.some(ve=>ve.id===lt.id);return S.jsxs("div",{onClick:()=>Xn?Kt(lt.id):null,className:`relative bg-gray-900/90 p-2 rounded-lg border-2 w-28 md:w-36 flex flex-col items-center transition-all
                                      ${ee?"border-yellow-500 shadow-lg shadow-yellow-500/20":"border-gray-700"}
                                      ${Xn?"cursor-pointer ring-2 ring-green-500 hover:scale-105":""}
                                      ${xt===lt.id?"bg-green-900/30 ring-4 ring-green-400":""}
                                   `,children:[S.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[S.jsx("span",{className:"text-xs font-bold truncate text-gray-300",children:lt.name}),S.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-1.5 rounded",children:[S.jsx(ix,{size:10,className:"text-gray-400"}),S.jsx("span",{className:"text-xs font-bold",children:lt.hand.length})]})]}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-1 min-h-[2rem]",children:[lt.faceUpCards.sort().map((ve,Mn)=>S.jsx(ta,{type:ve,tiny:!0},Mn)),lt.faceUpCards.length===0&&S.jsx("span",{className:"text-[10px] text-gray-600",children:"Safe... for now"})]}),ee&&S.jsx("div",{className:"absolute -top-2 bg-yellow-600 text-[10px] font-bold px-2 rounded-full text-white",children:"ACTIVE"})]},lt.id)})}),S.jsx("div",{className:"my-2 bg-black/60 px-4 py-2 rounded-full backdrop-blur text-sm md:text-lg text-center font-bold text-gray-200 border border-gray-700",children:E.turnState?$t?S.jsx("span",{className:"text-yellow-400 animate-pulse",children:"Incoming Card! Is it true or false?"}):`${E.players.find(lt=>lt.id===E.turnState.holderId).name} is deciding...`:yt?S.jsx("span",{className:"text-green-400",children:"Your Turn! Select a card from hand."}):`Waiting for ${E.players[E.turnIndex].name}...`}),A&&S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-4 animate-in zoom-in",children:S.jsxs("div",{className:"bg-gray-800 w-full max-w-sm p-6 rounded-2xl border border-gray-600 flex flex-col items-center shadow-2xl relative",children:[S.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Sneak Peek"}),S.jsx("div",{className:"mb-6",children:S.jsx(ta,{type:E.turnState.activeCard})}),S.jsxs("div",{className:"flex gap-4 w-full",children:[S.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 bg-gray-700 rounded-lg text-white font-bold",children:"Back"}),S.jsx("button",{onClick:()=>{C(!1),N(!0)},className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold",children:"I'm Ready to Lie"})]})]})}),S.jsxs("div",{className:"w-full max-w-4xl bg-gray-900/95 p-4 rounded-t-3xl border-t border-purple-900/50 backdrop-blur-md",children:[yt&&gt&&!E.turnState&&S.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-xl border border-gray-700 animate-in slide-in-from-bottom",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Hidden"}),S.jsx(ta,{type:gt,small:!0})]}),S.jsx(yv,{className:"text-gray-500"}),S.jsxs("div",{className:"text-center w-32",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Target"}),xt?S.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:E.players.find(lt=>lt.id===xt).name}):S.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),S.jsxs("div",{className:"flex-1 w-full",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(_n).map(lt=>S.jsxs("button",{onClick:()=>x(lt),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                    ${Rt===lt?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                 `,children:[L_.createElement(_n[lt].icon,{size:14}),_n[lt].name]},lt))})]}),S.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[S.jsx("button",{onClick:oe,disabled:!xt||!Rt,className:"bg-green-600 hover:bg-green-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass Card"}),S.jsx("button",{onClick:()=>{pt(null),Kt(null),x(null)},className:"bg-red-900/50 hover:bg-red-900 text-red-300 py-2 rounded-lg w-full text-sm",children:"Cancel"})]})]})}),V&&S.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-xl border border-gray-700 animate-in slide-in-from-bottom",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"The Card"}),S.jsx(ta,{type:E.turnState.activeCard,small:!0})]}),S.jsx(yv,{className:"text-gray-500"}),S.jsxs("div",{className:"text-center w-32",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Next Victim"}),xt?S.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:E.players.find(lt=>lt.id===xt).name}):S.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),S.jsxs("div",{className:"flex-1 w-full",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(_n).map(lt=>S.jsxs("button",{onClick:()=>x(lt),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                    ${Rt===lt?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                 `,children:[L_.createElement(_n[lt].icon,{size:14}),_n[lt].name]},lt))})]}),S.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[S.jsx("button",{onClick:As,disabled:!xt||!Rt,className:"bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass It On"}),S.jsx("button",{onClick:()=>N(!1),className:"text-xs text-gray-500 hover:text-white mt-1",children:"Cancel"})]})]})}),$t&&!A&&!V&&S.jsxs("div",{className:"mb-4 p-6 bg-gray-800 rounded-xl border-2 border-yellow-500/50 animate-in zoom-in",children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-black text-center text-white mb-2",children:[E.players.find(lt=>lt.id===E.turnState.originId).name," ","offers a card..."]}),S.jsxs("p",{className:"text-center text-gray-300 mb-6 text-lg",children:['"This is a'," ",S.jsx("strong",{className:"text-purple-400 text-xl uppercase",children:_n[E.turnState.declaredType].name}),'."']}),S.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4",children:[S.jsxs("button",{onClick:()=>hi(!0),className:"flex-1 bg-green-700 hover:bg-green-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(vv,{}),' "True!"']}),S.jsxs("button",{onClick:()=>hi(!1),className:"flex-1 bg-red-700 hover:bg-red-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(ch,{}),' "False!"']}),fi(E.turnState.passedTrace).length>0&&S.jsx("div",{className:"w-px bg-gray-600 mx-2 hidden md:block"}),fi(E.turnState.passedTrace).length>0&&S.jsxs("button",{onClick:()=>C(!0),className:"flex-1 bg-blue-700 hover:bg-blue-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(ZI,{})," Peek & Pass"]})]})]}),!$t&&!V&&ct&&S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(xx,{className:"text-purple-400",size:16}),S.jsx("span",{className:"font-bold text-gray-300",children:"My Hand"})]}),S.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:ct.hand.map((lt,Dt)=>S.jsxs("div",{className:"relative group shrink-0",children:[gt===lt&&yt&&!E.turnState&&S.jsx("div",{className:"absolute -top-8 left-0 right-0 text-center bg-yellow-500 text-black text-[10px] font-bold px-1 rounded animate-bounce z-20",children:"Selected"}),S.jsx(ta,{type:lt,small:!0,highlight:gt===lt,disabled:!yt||E.turnState,onClick:()=>!E.turnState&&yt?pt(lt):null})]},Dt))}),S.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-gray-800",children:[S.jsxs("span",{className:"text-xs text-red-400 font-bold uppercase",children:["My Failures (",ct.faceUpCards.length,")"]}),S.jsx("div",{className:"flex gap-1",children:ct.faceUpCards.map((lt,Dt)=>S.jsx(ta,{type:lt,tiny:!0},Dt))})]})]})]})]})]})}return null}kb.createRoot(document.getElementById("root")).render(S.jsx(te.StrictMode,{children:S.jsx(Px,{})}));
