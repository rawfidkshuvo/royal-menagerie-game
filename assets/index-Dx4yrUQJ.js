(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Rb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},bo={};var M_;function Cb(){if(M_)return bo;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=e,bo.jsx=i,bo.jsxs=i,bo}var V_;function Ib(){return V_||(V_=1,Nd.exports=Cb()),Nd.exports}var S=Ib(),Dd={exports:{}},Ae={};var k_;function xb(){if(k_)return Ae;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function fe(O,Y,ne){this.props=O,this.context=Y,this.refs=Z,this.updater=ne||J}fe.prototype.isReactComponent={},fe.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},fe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ge(){}ge.prototype=fe.prototype;function pe(O,Y,ne){this.props=O,this.context=Y,this.refs=Z,this.updater=ne||J}var xe=pe.prototype=new ge;xe.constructor=pe,ee(xe,fe.prototype),xe.isPureReactComponent=!0;var Ke=Array.isArray;function Re(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Y,ne){var ie=ne.ref;return{$$typeof:r,type:O,key:Y,ref:ie!==void 0?ie:null,props:ne}}function V(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Y[ne]})}var R=/\/+/g;function at(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Re,Re):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ne,ie,ve){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(be){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case E:return Ve=O._init,G(Ve(O._payload),Y,ne,ie,ve)}}if(Ve)return ve=ve(O),Ve=ie===""?"."+at(O,0):ie,Ke(ve)?(ne="",Ve!=null&&(ne=Ve.replace(R,"$&/")+"/"),G(ve,Y,ne,"",function(hi){return hi})):ve!=null&&(N(ve)&&(ve=V(ve,ne+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Ve)),Y.push(ve)),1;Ve=0;var _t=ie===""?".":ie+":";if(Ke(O))for(var ut=0;ut<O.length;ut++)ie=O[ut],be=_t+at(ie,ut),Ve+=G(ie,Y,ne,be,ve);else if(ut=H(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(ie=O.next()).done;)ie=ie.value,be=_t+at(ie,ut++),Ve+=G(ie,Y,ne,be,ve);else if(be==="object"){if(typeof O.then=="function")return G(dt(O),Y,ne,ie,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function te(O,Y,ne){if(O==null)return O;var ie=[],ve=0;return G(O,ie,"","",function(be){return Y.call(ne,be,ve++)}),ie}function ue(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:te,forEach:function(O,Y,ne){te(O,function(){Y.apply(this,arguments)},ne)},count:function(O){var Y=0;return te(O,function(){Y++}),Y},toArray:function(O){return te(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=w,Ae.Children=Fe,Ae.Component=fe,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=pe,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=ee({},O.props),ve=O.key;if(Y!=null)for(be in Y.key!==void 0&&(ve=""+Y.key),Y)!A.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(ie[be]=Y[be]);var be=arguments.length-2;if(be===1)ie.children=ne;else if(1<be){for(var Ve=Array(be),_t=0;_t<be;_t++)Ve[_t]=arguments[_t+2];ie.children=Ve}return C(O.type,ve,ie)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,Y,ne){var ie,ve={},be=null;if(Y!=null)for(ie in Y.key!==void 0&&(be=""+Y.key),Y)A.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ve[ie]=Y[ie]);var Ve=arguments.length-2;if(Ve===1)ve.children=ne;else if(1<Ve){for(var _t=Array(Ve),ut=0;ut<Ve;ut++)_t[ut]=arguments[ut+2];ve.children=_t}if(O&&O.defaultProps)for(ie in Ve=O.defaultProps,Ve)ve[ie]===void 0&&(ve[ie]=Ve[ie]);return C(O,be,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ue}},Ae.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=x.T,ne={};x.T=ne;try{var ie=O(),ve=x.S;ve!==null&&ve(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Re,je)}catch(be){je(be)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),x.T=Y}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(O){return x.H.use(O)},Ae.useActionState=function(O,Y,ne){return x.H.useActionState(O,Y,ne)},Ae.useCallback=function(O,Y){return x.H.useCallback(O,Y)},Ae.useContext=function(O){return x.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return x.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(O,Y,ne){return x.H.useImperativeHandle(O,Y,ne)},Ae.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return x.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,ne){return x.H.useReducer(O,Y,ne)},Ae.useRef=function(O){return x.H.useRef(O)},Ae.useState=function(O){return x.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,ne){return x.H.useSyncExternalStore(O,Y,ne)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.3",Ae}var U_;function Sm(){return U_||(U_=1,Dd.exports=xb()),Dd.exports}var et=Sm();const L_=Rb(et);var Od={exports:{}},So={},Md={exports:{}},Vd={};var P_;function Nb(){return P_||(P_=1,(function(r){function e(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var je=ue-1>>>1,Fe=G[je];if(0<o(Fe,te))G[je]=te,G[ue]=Fe,ue=je;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var je=0,Fe=G.length,O=Fe>>>1;je<O;){var Y=2*(je+1)-1,ne=G[Y],ie=Y+1,ve=G[ie];if(0>o(ne,ue))ie<Fe&&0>o(ve,ne)?(G[je]=ve,G[ie]=ue,je=ie):(G[je]=ne,G[Y]=ue,je=Y);else if(ie<Fe&&0>o(ve,ue))G[je]=ve,G[ie]=ue,je=ie;else break e}}return te}function o(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,w=null,M=3,H=!1,J=!1,ee=!1,Z=!1,fe=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function xe(G){for(var te=i(y);te!==null;){if(te.callback===null)a(y);else if(te.startTime<=G)a(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function Ke(G){if(ee=!1,xe(G),!J)if(i(_)!==null)J=!0,Re||(Re=!0,U());else{var te=i(y);te!==null&&dt(Ke,te.startTime-G)}}var Re=!1,x=-1,A=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<A)}function N(){if(Z=!1,Re){var G=r.unstable_now();C=G;var te=!0;try{e:{J=!1,ee&&(ee=!1,ge(x),x=-1),H=!0;var ue=M;try{t:{for(xe(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var je=w.callback;if(typeof je=="function"){w.callback=null,M=w.priorityLevel;var Fe=je(w.expirationTime<=G);if(G=r.unstable_now(),typeof Fe=="function"){w.callback=Fe,xe(G),te=!0;break t}w===i(_)&&a(_),xe(G)}else a(_);w=i(_)}if(w!==null)te=!0;else{var O=i(y);O!==null&&dt(Ke,O.startTime-G),te=!1}}break e}finally{w=null,M=ue,H=!1}te=void 0}}finally{te?U():Re=!1}}}var U;if(typeof pe=="function")U=function(){pe(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=N,U=function(){at.postMessage(null)}}else U=function(){fe(N,0)};function dt(G,te){x=fe(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var ue=M;M=te;try{return G()}finally{M=ue}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=M;M=G;try{return te()}finally{M=ue}},r.unstable_scheduleCallback=function(G,te,ue){var je=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?je+ue:je):ue=je,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ue+Fe,G={id:E++,callback:te,priorityLevel:G,startTime:ue,expirationTime:Fe,sortIndex:-1},ue>je?(G.sortIndex=ue,e(y,G),i(_)===null&&G===i(y)&&(ee?(ge(x),x=-1):ee=!0,dt(Ke,ue-je))):(G.sortIndex=Fe,e(_,G),J||H||(J=!0,Re||(Re=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var te=M;return function(){var ue=M;M=te;try{return G.apply(this,arguments)}finally{M=ue}}}})(Vd)),Vd}var z_;function Db(){return z_||(z_=1,Md.exports=Nb()),Md.exports}var kd={exports:{}},nn={};var j_;function Ob(){if(j_)return nn;j_=1;var r=Sm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:H}):E==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var B_;function Mb(){if(B_)return kd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=Ob(),kd.exports}var q_;function Vb(){if(q_)return So;q_=1;var r=Db(),e=Sm(),i=Mb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case fe:return"Profiler";case Z:return"StrictMode";case Ke:return"Suspense";case Re:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case pe:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},je=[],Fe=-1;function O(t){return{current:t}}function Y(t){0>Fe||(t.current=je[Fe],je[Fe]=null,Fe--)}function ne(t,n){Fe++,je[Fe]=t.current,t.current=n}var ie=O(null),ve=O(null),be=O(null),Ve=O(null);function _t(t,n){switch(ne(be,n),ne(ve,t),ne(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n_(n),t=i_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ie),ne(ie,t)}function ut(){Y(ie),Y(ve),Y(be)}function hi(t){t.memoizedState!==null&&ne(Ve,t);var n=ie.current,s=i_(n,t.type);n!==s&&(ne(ve,t),ne(ie,s))}function As(t){ve.current===t&&(Y(ie),Y(ve)),Ve.current===t&&(Y(Ve),_o._currentValue=ue)}var fi,de;function ce(t){if(fi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);fi=n&&n[1]||"",de=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+t+de}var ye=!1;function $e(t,n){if(!t||ye)return"";ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){j=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var F=`
`+I[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ce(s):""}function Bt(t,n){switch(t.tag){case 26:case 27:case 5:return ce(t.type);case 16:return ce("Lazy");case 13:return t.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return $e(t.type,!1);case 11:return $e(t.type.render,!1);case 1:return $e(t.type,!0);case 31:return ce("Activity");default:return""}}function le(t){try{var n="",s=null;do n+=Bt(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var De=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,di=r.unstable_shouldYield,Xn=r.unstable_requestPaint,vt=r.unstable_now,Mn=r.unstable_getCurrentPriorityLevel,ws=r.unstable_ImmediatePriority,mi=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,Rs=r.unstable_LowPriority,Yi=r.unstable_IdlePriority,bn=r.log,tu=r.unstable_setDisableYieldValue,$n=null,Yt=null;function Vn(t){if(typeof bn=="function"&&tu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode($n,t)}catch{}}var bt=Math.clz32?Math.clz32:iu,nu=Math.log,ca=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/ca|0)|0}var gi=256,Ar=262144,Ct=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pi(l):(g&=T,g!==0?h=pi(g):s||(s=T&~t,s!==0&&(h=pi(s))))):(T=l&~f,T!==0?h=pi(T):g!==0?h=pi(g):s||(s=l&~t,s!==0&&(h=pi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function _i(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-bt(s),K=1<<F;T[F]=0,I[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&Rr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Rr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function bl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-bt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Sl(t,n){var s=n&-n;return s=(s&42)!==0?1:Cr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function Jn(t,n){var s=te.p;try{return te.p=t,n()}finally{te.p=s}}var Wn=Math.random().toString(36).slice(2),It="__reactFiber$"+Wn,qt="__reactProps$"+Wn,vi="__reactContainer$"+Wn,ha="__reactEvents$"+Wn,kh="__reactListeners$"+Wn,au="__reactHandles$"+Wn,lu="__reactResources$"+Wn,Ti="__reactMarker$"+Wn;function fa(t){delete t[It],delete t[qt],delete t[ha],delete t[kh],delete t[au]}function Ei(t){var n=t[It];if(n)return n;for(var s=t.parentNode;s;){if(n=s[vi]||s[It]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=c_(t);t!==null;){if(s=t[It])return s;t=c_(t)}return n}t=s,s=t.parentNode}return null}function kn(t){if(t=t[It]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[Ti]=!0}var Al=new Set,wl={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(wl[t]=n,t=0;t<n.length;t++)Al.add(n[t])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function ou(t){return De.call(Il,t)?!0:De.call(Cl,t)?!1:Rl.test(t)?Il[t]=!0:(Cl[t]=!0,!1)}function da(t,n,s){if(ou(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function An(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Nt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=Cs(t)?"checked":"value";t._valueTracker=xl(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Cs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function hn(t){return t.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Nl(t,g,Ht(n)):s!=null?Nl(t,g,Ht(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ht(T):t.removeAttribute("name")}function uu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}s=s!=null?""+Ht(s):"",n=n!=null?""+Ht(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ze(t)}function Nl(t,n,s){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Is(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ht(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,s){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ht(s):""}function xs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ht(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ze(t)}function fn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ol(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Ml=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Ri=null;function Nr(t){var n=kn(t);if(n&&(t=n.stateNode)){var s=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ma(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(a(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ir(l)}break e;case"textarea":cu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Is(t,!!s.multiple,n,!1)}}}var ya=!1;function Os(t,n,s){if(ya)return t(n,s);ya=!0;try{var l=t(n);return l}finally{if(ya=!1,(Ds!==null||Ri!==null)&&(rc(),Ds&&(n=Ds,t=Ri,Ri=Ds=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function ti(t,n){var s=t.stateNode;if(s===null)return null;var l=s[qt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Ln)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Dr=!1}var Ci=null,Vl=null,Or=null;function kl(){if(Or)return Or;var t,n=Vl,s=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function Mr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ni(){return!1}function Kt(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Kt($i),Ms=w({},$i,{view:0,detail:0}),Ul=Kt(Ms),Vs,_a,xi,va=w({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Vs=t.screenX-xi.screenX,_a=t.screenY-xi.screenY):_a=Vs=0,xi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ll=Kt(va),Vr=w({},va,{dataTransfer:0}),du=Kt(Vr),mu=w({},Ms,{relatedTarget:0}),kr=Kt(mu),Pl=w({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Kt(Pl),Ta=w({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pu=Kt(Ta),yu=w({},$i,{data:0}),Ni=Kt(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ks(){return Eu}var on=w({},Ms,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=Kt(on),Su=w({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Kt(Su),u=w({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Kt(u),v=w({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(v),L=w({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(L),W=w({},$i,{newState:0,oldState:0}),Ce=Kt(W),St=[9,13,27,32],Qe=Ln&&"CompositionEvent"in window,mt=null;Ln&&"documentMode"in document&&(mt=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!mt,Di=Ln&&(!Qe||mt&&8<mt&&11>=mt),ii=" ",si=!1;function Ur(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function $T(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function ZT(t,n){if(ba)return t==="compositionend"||!Qe&&Ur(t,n)?(t=kl(),Or=Vl=Ci=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!JT[t.type]:n==="textarea"}function mg(t,n,s,l){Ds?Ri?Ri.push(l):Ri=[l]:Ds=l,n=fc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var zl=null,jl=null;function WT(t){$y(t,0)}function Au(t){var n=Sn(t);if(Ir(n))return t}function gg(t,n){if(t==="change")return n}var pg=!1;if(Ln){var Uh;if(Ln){var Lh="oninput"in document;if(!Lh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Lh=typeof yg.oninput=="function"}Uh=Lh}else Uh=!1;pg=Uh&&(!document.documentMode||9<document.documentMode)}function _g(){zl&&(zl.detachEvent("onpropertychange",vg),jl=zl=null)}function vg(t){if(t.propertyName==="value"&&Au(jl)){var n=[];mg(n,jl,t,Un(t)),Os(WT,n)}}function eE(t,n,s){t==="focusin"?(_g(),zl=n,jl=s,zl.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(jl)}function nE(t,n){if(t==="click")return Au(n)}function iE(t,n){if(t==="input"||t==="change")return Au(n)}function sE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:sE;function Bl(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!De.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,n){var s=Tg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tg(s)}}function bg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=wi(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rE=Ln&&"documentMode"in document&&11>=document.documentMode,Sa=null,zh=null,ql=null,jh=!1;function Ag(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Sa==null||Sa!==wi(l)||(l=Sa,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=fc(zh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Sa)))}function Lr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Aa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Bh={},wg={};Ln&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Pr(t){if(Bh[t])return Bh[t];if(!Aa[t])return t;var n=Aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return Bh[t]=n[s];return t}var Rg=Pr("animationend"),Cg=Pr("animationiteration"),Ig=Pr("animationstart"),aE=Pr("transitionrun"),lE=Pr("transitionstart"),oE=Pr("transitioncancel"),xg=Pr("transitionend"),Ng=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ri(t,n){Ng.set(t,n),Si(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],wa=0,Hh=0;function Ru(){for(var t=wa,n=Hh=wa=0;n<t;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Dg(s,h,f)}}function Cu(t,n,s,l){zn[wa++]=t,zn[wa++]=n,zn[wa++]=s,zn[wa++]=l,Hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,s,l){return Cu(t,n,s,l),Iu(t)}function zr(t,n){return Cu(t,null,null,n),Iu(t)}function Dg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Iu(t){if(50<co)throw co=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function uE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,s,l){return new uE(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var s=t.alternate;return s===null?(s=Rn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Og(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=mb(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Rn(31,s,n,h),t.elementType=C,t.lanes=f,t;case ee:return jr(s.children,h,f,n);case Z:g=8,h|=24;break;case fe:return t=Rn(12,s,n,h|2),t.elementType=fe,t.lanes=f,t;case Ke:return t=Rn(13,s,n,h),t.elementType=Ke,t.lanes=f,t;case Re:return t=Rn(19,s,n,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case ge:g=9;break e;case xe:g=11;break e;case x:g=14;break e;case A:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Rn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function jr(t,n,s,l){return t=Rn(7,t,l,n),t.lanes=s,t}function Qh(t,n,s){return t=Rn(6,t,null,n),t.lanes=s,t}function Mg(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,s){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vg=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var s=Vg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:le(n)},Vg.set(t,n),n)}return{value:t,source:n,stack:le(n)}}var Ca=[],Ia=0,Nu=null,Hl=0,Bn=[],qn=0,Us=null,Oi=1,Mi="";function Wi(t,n){Ca[Ia++]=Hl,Ca[Ia++]=Nu,Nu=t,Hl=n}function kg(t,n,s){Bn[qn++]=Oi,Bn[qn++]=Mi,Bn[qn++]=Us,Us=t;var l=Oi;t=Mi;var h=32-bt(l)-1;l&=~(1<<h),s+=1;var f=32-bt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Oi=1<<32-bt(n)+h|s<<h|l,Mi=f+t}else Oi=1<<f|s<<h|l,Mi=t}function Kh(t){t.return!==null&&(Wi(t,1),kg(t,1,0))}function Xh(t){for(;t===Nu;)Nu=Ca[--Ia],Ca[Ia]=null,Hl=Ca[--Ia],Ca[Ia]=null;for(;t===Us;)Us=Bn[--qn],Bn[qn]=null,Mi=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null}function Ug(t,n){Bn[qn++]=Oi,Bn[qn++]=Mi,Bn[qn++]=Us,Oi=n.id,Mi=n.overflow,Us=t}var Xt=null,ct=null,Be=!1,Ls=null,Hn=!1,$h=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(jn(n,t)),$h}function Lg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[It]=t,n[qt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<fo.length;s++)Me(fo[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),xs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||e_(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ps(t,!0)}function Pg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xt=Xt.return}}function xa(t){if(t!==Xt)return!1;if(!Be)return Pg(t),Be=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gd(t.type,t.memoizedProps)),s=!s),s&&ct&&Ps(t),Pg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=u_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=u_(t)}else n===27?(n=ct,Js(t.type)?(t=Td,Td=null,ct=t):ct=n):ct=Xt?Fn(t.stateNode.nextSibling):null;return!0}function Br(){ct=Xt=null,Be=!1}function Zh(){var t=Ls;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ls=null),t}function Gl(t){Ls===null?Ls=[t]:Ls.push(t)}var Jh=O(null),qr=null,es=null;function zs(t,n,s){ne(Jh,n._currentValue),n._currentValue=s}function ts(t){t._currentValue=Jh.current,Y(Jh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Wh(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;wn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&ef(n,t,s,l),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return zg(qr,t)}function Ou(t,n){return qr===null&&Hr(t),zg(t,n)}function zg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return s}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},hE=r.unstable_scheduleCallback,fE=r.unstable_NormalPriority,Dt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new cE,data:new Map,refCount:0}}function Fl(t){t.refCount--,t.refCount===0&&hE(fE,function(){t.controller.abort()})}var Ql=null,nf=0,Da=0,Oa=null;function dE(t,n){if(Ql===null){var s=Ql=[];nf=0,Da=ad(),Oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(jg,jg),n}function jg(){if(--nf===0&&Ql!==null){Oa!==null&&(Oa.status="fulfilled");var t=Ql;Ql=null,Da=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bg=G.S;G.S=function(t,n){Ay=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dE(t,n),Bg!==null&&Bg(t,n)};var Gr=O(null);function sf(){var t=Gr.current;return t!==null?t:lt.pooledCache}function Mu(t,n){n===null?ne(Gr,Gr.current):ne(Gr,n.pool)}function qg(){var t=sf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Ma=Error(a(460)),rf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t}throw Qr=n,Ma}}function Fr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Qr=s,Ma):s}}var Qr=null;function Fg(){if(Qr===null)throw Error(a(459));var t=Qr;return Qr=null,t}function Qg(t){if(t===Ma||t===Vu)throw Error(a(483))}var Va=null,Yl=0;function Uu(t){var n=Yl;return Yl+=1,Va===null&&(Va=[]),Gg(Va,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Q){return D===null||D.tag!==6?(D=Qh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,Q){var he=P.type;return he===ee?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Fr(he)===D.type)?(D=h(D,P.props),Kl(D,P),D.return=k,D):(D=xu(P.type,P.key,P.props,null,k.mode,Q),Kl(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,he){return D===null||D.tag!==7?(D=jr(P,k.mode,Q,he),D.return=k,D):(D=h(D,P),D.return=k,D)}function K(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=xu(D.type,D.key,D.props,null,k.mode,P),Kl(P,D),P.return=k,P;case J:return D=Yh(D,k.mode,P),D.return=k,D;case A:return D=Fr(D),K(k,D,P)}if(dt(D)||U(D))return D=jr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return K(k,Uu(D),P);if(D.$$typeof===pe)return K(k,Ou(k,D),P);Lu(k,D)}return null}function j(k,D,P,Q){var he=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:T(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===he?I(k,D,P,Q):null;case J:return P.key===he?z(k,D,P,Q):null;case A:return P=Fr(P),j(k,D,P,Q)}if(dt(P)||U(P))return he!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Uu(P),Q);if(P.$$typeof===pe)return j(k,D,Ou(k,P),Q);Lu(k,P)}return null}function q(k,D,P,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(D,k,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,I(D,k,Q,he);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,he);case A:return Q=Fr(Q),q(k,D,P,Q,he)}if(dt(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,he,null);if(typeof Q.then=="function")return q(k,D,P,Uu(Q),he);if(Q.$$typeof===pe)return q(k,D,P,Ou(D,Q),he);Lu(D,Q)}return null}function re(k,D,P,Q){for(var he=null,He=null,ae=D,Ne=D=0,Ue=null;ae!==null&&Ne<P.length;Ne++){ae.index>Ne?(Ue=ae,ae=null):Ue=ae.sibling;var Ge=j(k,ae,P[Ne],Q);if(Ge===null){ae===null&&(ae=Ue);break}t&&ae&&Ge.alternate===null&&n(k,ae),D=f(Ge,D,Ne),He===null?he=Ge:He.sibling=Ge,He=Ge,ae=Ue}if(Ne===P.length)return s(k,ae),Be&&Wi(k,Ne),he;if(ae===null){for(;Ne<P.length;Ne++)ae=K(k,P[Ne],Q),ae!==null&&(D=f(ae,D,Ne),He===null?he=ae:He.sibling=ae,He=ae);return Be&&Wi(k,Ne),he}for(ae=l(ae);Ne<P.length;Ne++)Ue=q(ae,k,Ne,P[Ne],Q),Ue!==null&&(t&&Ue.alternate!==null&&ae.delete(Ue.key===null?Ne:Ue.key),D=f(Ue,D,Ne),He===null?he=Ue:He.sibling=Ue,He=Ue);return t&&ae.forEach(function(ir){return n(k,ir)}),Be&&Wi(k,Ne),he}function _e(k,D,P,Q){if(P==null)throw Error(a(151));for(var he=null,He=null,ae=D,Ne=D=0,Ue=null,Ge=P.next();ae!==null&&!Ge.done;Ne++,Ge=P.next()){ae.index>Ne?(Ue=ae,ae=null):Ue=ae.sibling;var ir=j(k,ae,Ge.value,Q);if(ir===null){ae===null&&(ae=Ue);break}t&&ae&&ir.alternate===null&&n(k,ae),D=f(ir,D,Ne),He===null?he=ir:He.sibling=ir,He=ir,ae=Ue}if(Ge.done)return s(k,ae),Be&&Wi(k,Ne),he;if(ae===null){for(;!Ge.done;Ne++,Ge=P.next())Ge=K(k,Ge.value,Q),Ge!==null&&(D=f(Ge,D,Ne),He===null?he=Ge:He.sibling=Ge,He=Ge);return Be&&Wi(k,Ne),he}for(ae=l(ae);!Ge.done;Ne++,Ge=P.next())Ge=q(ae,k,Ne,Ge.value,Q),Ge!==null&&(t&&Ge.alternate!==null&&ae.delete(Ge.key===null?Ne:Ge.key),D=f(Ge,D,Ne),He===null?he=Ge:He.sibling=Ge,He=Ge);return t&&ae.forEach(function(wb){return n(k,wb)}),Be&&Wi(k,Ne),he}function rt(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var he=P.key;D!==null;){if(D.key===he){if(he=P.type,he===ee){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Fr(he)===D.type){s(k,D.sibling),Q=h(D,P.props),Kl(Q,P),Q.return=k,k=Q;break e}s(k,D);break}else n(k,D);D=D.sibling}P.type===ee?(Q=jr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=xu(P.type,P.key,P.props,null,k.mode,Q),Kl(Q,P),Q.return=k,k=Q)}return g(k);case J:e:{for(he=P.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Yh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Fr(P),rt(k,D,P,Q)}if(dt(P))return re(k,D,P,Q);if(U(P)){if(he=U(P),typeof he!="function")throw Error(a(150));return P=he.call(P),_e(k,D,P,Q)}if(typeof P.then=="function")return rt(k,D,Uu(P),Q);if(P.$$typeof===pe)return rt(k,D,Ou(k,P),Q);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Qh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Yl=0;var he=rt(k,D,P,Q);return Va=null,he}catch(ae){if(ae===Ma||ae===Vu)throw ae;var He=Rn(29,ae,null,k.mode);return He.lanes=Q,He.return=k,He}finally{}}}var Yr=Yg(!0),Kg=Yg(!1),js=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),Dg(t,null,s),n}return Cu(t,l,n,s),Iu(t)}function Xl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,bl(t,s)}}function of(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function $l(){if(uf){var t=Oa;if(t!==null)throw t}}function Zl(t,n,s,l){uf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,F=z=I=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(ke&j)===j:(l&j)===j){j!==0&&j===Da&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var re=t,_e=T;j=n;var rt=s;switch(_e.tag){case 1:if(re=_e.payload,typeof re=="function"){K=re.call(rt,K,j);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=_e.payload,j=typeof re=="function"?re.call(rt,K,j):re,j==null)break e;K=w({},K,j);break e;case 2:js=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,I=K):F=F.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=K}}function Xg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xg(s[t],n)}var ka=O(null),Pu=O(0);function Zg(t,n){t=cs,ne(Pu,t),ne(ka,n),cs=t|n.baseLanes}function cf(){ne(Pu,cs),ne(ka,ka.current)}function hf(){cs=Pu.current,Y(ka),Y(Pu)}var Cn=O(null),Gn=null;function Hs(t){var n=t.alternate;ne(At,At.current&1),ne(Cn,t),Gn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Gn=t)}function ff(t){ne(At,At.current),ne(Cn,t),Gn===null&&(Gn=t)}function Jg(t){t.tag===22?(ne(At,At.current),ne(Cn,t),Gn===null&&(Gn=t)):Gs()}function Gs(){ne(At,At.current),ne(Cn,Cn.current)}function In(t){Y(Cn),Gn===t&&(Gn=null),Y(At)}var At=O(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ie=null,it=null,Ot=null,ju=!1,Ua=!1,Kr=!1,Bu=0,Jl=0,La=null,gE=0;function Tt(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!wn(t[s],n[s]))return!1;return!0}function mf(t,n,s,l,h,f){return ns=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?kp:xf,Kr=!1,f=s(l,h),Kr=!1,Ua&&(f=ep(n,s,l,h)),Wg(t),f}function Wg(t){G.H=to;var n=it!==null&&it.next!==null;if(ns=0,Ot=it=Ie=null,ju=!1,Jl=0,La=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&Du(t)&&(Mt=!0))}function ep(t,n,s,l){Ie=t;var h=0;do{if(Ua&&(La=null),Jl=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Ot=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Up,f=n(s,l)}while(Ua);return f}function pE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),n}function gf(){var t=Bu!==0;return Bu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yf(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}ns=0,Ot=it=Ie=null,Ua=!1,Jl=Bu=0,La=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Ot===null?Ie.memoizedState:Ot.next;if(n!==null)Ot=n,it=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,La===null&&(La=[]),t=Gg(La,t,n),n=Ie,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?kp:xf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===pe)return $t(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function is(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=wt();return vf(n,it,t)}function vf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,I=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(ke&K)===K:(ns&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Da&&(F=!0);else if((ns&j)===j){z=z.next,j===Da&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=K,g=f):I=I.next=K,Ie.lanes|=j,Ys|=j;K=z.action,Kr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=j,g=f):I=I.next=j,Ie.lanes|=K,Ys|=K;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=T,!wn(f,t.memoizedState)&&(Mt=!0,F&&(s=Oa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=wt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tp(t,n,s){var l=Ie,h=wt(),f=Be;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!wn((it||h).memoizedState,s);if(g&&(h.memoizedState=s,Mt=!0),h=h.queue,Sf(sp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},ip.bind(null,l,h,s,n),null),lt===null)throw Error(a(349));f||(ns&127)!==0||np(l,n,s)}return s}function np(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=qu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ip(t,n,s,l){n.value=s,n.getSnapshot=l,rp(n)&&ap(t)}function sp(t,n,s){return s(function(){rp(n)&&ap(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!wn(t,s)}catch{return!0}}function ap(t){var n=zr(t,2);n!==null&&yn(n,t,2)}function Ef(t){var n=un();if(typeof t=="function"){var s=t;if(t=s(),Kr){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function lp(t,n,s,l){return t.baseState=s,vf(t,it,typeof l=="function"?l:is)}function yE(t,n,s,l,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,l),I=G.S;I!==null&&I(g,T),up(t,n,T)}catch(z){bf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),up(t,n,f)}catch(z){bf(t,n,z)}}function up(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cp(t,n,l)},function(l){return bf(t,n,l)}):cp(t,n,s)}function cp(t,n,s){n.status="fulfilled",n.value=s,hp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,op(t,s)))}function bf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==l)}t.action=null}function hp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function dp(t,n){if(Be){var s=lt.formState;if(s!==null){e:{var l=Ie;if(Be){if(ct){t:{for(var h=ct,f=Hn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Fn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=l,s=Op.bind(null,Ie,l),l.dispatch=s,l=Ef(!1),f=If.bind(null,Ie,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=yE.bind(null,Ie,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function mp(t){var n=wt();return gp(n,it,t)}function gp(t,n,s){if(n=vf(t,n,fp)[0],t=Gu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(g){throw g===Ma?Vu:g}else l=n;n=wt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,Pa(9,{destroy:void 0},_E.bind(null,h,s),null)),[l,f,t]}function _E(t,n){t.action=n}function pp(t){var n=wt(),s=it;if(s!==null)return gp(n,s,t);wt(),n=n.memoizedState,s=wt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Pa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=qu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function yp(){return wt().memoizedState}function Fu(t,n,s,l){var h=un();Ie.flags|=t,h.memoizedState=Pa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Qu(t,n,s,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&df(l,it.memoizedState.deps)?h.memoizedState=Pa(n,f,s,l):(Ie.flags|=t,h.memoizedState=Pa(1|n,f,s,l))}function _p(t,n){Fu(8390656,8,t,n)}function Sf(t,n){Qu(2048,8,t,n)}function vE(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=qu(),Ie.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vp(t){var n=wt().memoizedState;return vE({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(t,n){return Qu(4,2,t,n)}function Ep(t,n){return Qu(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,s){s=s!=null?s.concat([t]):null,Qu(4,4,bp.bind(null,n,t),s)}function Af(){}function Ap(t,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function wp(t,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),Kr){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,n],l}function wf(t,n,s){return s===void 0||(ns&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ry(),Ie.lanes|=t,Ys|=t,s)}function Rp(t,n,s,l){return wn(s,n)?s:ka.current!==null?(t=wf(t,s,l),wn(t,n)||(Mt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(ke&261930)===0?(Mt=!0,t.memoizedState=s):(t=Ry(),Ie.lanes|=t,Ys|=t,n)}function Cp(t,n,s,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,If(t,!1,n,s);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=mE(I,l);eo(t,n,F,Dn(t))}else eo(t,n,l,Dn(t))}catch(K){eo(t,n,{then:function(){},status:"rejected",reason:K},Dn())}finally{te.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function TE(){}function Rf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Ip(t).queue;Cp(t,h,n,ue,s===null?TE:function(){return xp(t),s(l)})}function Ip(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ue},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xp(t){var n=Ip(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},Dn())}function Cf(){return $t(_o)}function Np(){return wt().memoizedState}function Dp(){return wt().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();t=Bs(s);var l=qs(n,t,s);l!==null&&(yn(l,n,s),Xl(l,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function bE(t,n,s){var l=Dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Mp(n,s):(s=Gh(t,n,s,l),s!==null&&(yn(s,t,l),Vp(s,n,l)))}function Op(t,n,s){var l=Dn();eo(t,n,s,l)}function eo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Mp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,wn(T,g))return Cu(t,n,h,0),lt===null&&Ru(),!1}catch{}finally{}if(s=Gh(t,n,h,l),s!==null)return yn(s,t,l),Vp(s,n,l),!0}return!1}function If(t,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,l,2),n!==null&&yn(n,t,2)}function Yu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Mp(t,n){Ua=ju=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Vp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,bl(t,s)}}var to={readContext:$t,use:Hu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};to.useEffectEvent=Tt;var kp={readContext:$t,use:Hu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:_p,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Fu(4194308,4,bp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var s=un();n=n===void 0?null:n;var l=t();if(Kr){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=un();if(s!==void 0){var h=s(n);if(Kr){Vn(!0);try{s(n)}finally{Vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bE.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,s=Op.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(t,n){var s=un();return wf(s,t,n)},useTransition:function(){var t=Ef(!1);return t=Cp.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,h=un();if(Be){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),lt===null)throw Error(a(349));(ke&127)!==0||np(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,l,f,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},ip.bind(null,l,f,s,n),null),s},useId:function(){var t=un(),n=lt.identifierPrefix;if(Be){var s=Mi,l=Oi;s=(l&~(1<<32-bt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=gE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return un().memoizedState=EE.bind(null,Ie)},useEffectEvent:function(t){var n=un(),s={impl:t};return n.memoizedState=s,function(){if((Ye&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:$t,use:Hu,useCallback:Ap,useContext:$t,useEffect:Sf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:wp,useReducer:Gu,useRef:yp,useState:function(){return Gu(is)},useDebugValue:Af,useDeferredValue:function(t,n){var s=wt();return Rp(s,it.memoizedState,t,n)},useTransition:function(){var t=Gu(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Cf,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var s=wt();return lp(s,it,t,n)},useMemoCache:_f,useCacheRefresh:Dp};xf.useEffectEvent=vp;var Up={readContext:$t,use:Hu,useCallback:Ap,useContext:$t,useEffect:Sf,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:wp,useReducer:Tf,useRef:yp,useState:function(){return Tf(is)},useDebugValue:Af,useDeferredValue:function(t,n){var s=wt();return it===null?wf(s,t,n):Rp(s,it.memoizedState,t,n)},useTransition:function(){var t=Tf(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Cf,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var s=wt();return it!==null?lp(s,it,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Dp};Up.useEffectEvent=vp;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Bs(l);h.payload=n,s!=null&&(h.callback=s),n=qs(t,h,l),n!==null&&(yn(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Bs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(t,h,l),n!==null&&(yn(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Dn(),l=Bs(s);l.tag=2,n!=null&&(l.callback=n),n=qs(t,l,s),n!==null&&(yn(n,t,s),Xl(n,t,s))}};function Lp(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Bl(s,l)||!Bl(h,f):!0}function Pp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zp(t){wu(t)}function jp(t){console.error(t)}function Bp(t){wu(t)}function Ku(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(t,n)},s}function Hp(t){return t=Bs(t),t.tag=3,t}function Gp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qp(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function SE(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?ac():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return s.flags|=65536,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(t,l,h)),!1}throw Error(a(435,s.tag))}return id(t,l,h),ac(),!1}if(Be)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),Gl(jn(t,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Gl(jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,s),h=Of(t.stateNode,l,h),of(t,h),Et!==4&&(Et=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,s),uo===null?uo=[f]:uo.push(f),Et!==4&&(Et=2),n===null)return!0;l=jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Gp(h,t,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Mt=!1;function Zt(t,n,s,l){n.child=t===null?Kg(n,null,s,l):Yr(n,t.child,s,l)}function Fp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Hr(n),l=mf(t,n,s,g,f,h),T=gf(),t!==null&&!Mt?(pf(t,n,h),ss(t,n,h)):(Be&&T&&Kh(n),n.flags|=1,Zt(t,n,l,h),n.child)}function Qp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(t,n,f,l,h)):(t=xu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Bl,s(g,l)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Ji(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Bl(f,l)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=l=f,Bf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return Vf(t,n,s,l,h)}function Kp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):cf(),Jg(n);else return l=n.lanes=536870912,Xp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Mu(n,f.cachePool),Zg(n,f),Gs(),n.memoizedState=null):(t!==null&&Mu(n,null),cf(),Gs());return Zt(t,n,h,s),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(t,n,s,l,h){var f=sf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mu(n,null),cf(),Jg(n),t!==null&&Na(t,n,l,!0),n.childLanes=h,null}function Xu(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $p(t,n,s){return Yr(n,t.child,null,s),t=Xu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function AE(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Xu(n,l),n.lanes=536870912,no(null,t);if(ff(n),(t=ct)?(t=o_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,Xt=n,ct=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Xu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=$p(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Mt||Na(t,n,s,!1),h=(s&t.childLanes)!==0,Mt||h){if(l=lt,l!==null&&(g=Sl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,zr(t,g),yn(l,t,g),Mf;ac(),n=$p(t,n,s)}else t=f.treeContext,ct=Fn(g.nextSibling),Xt=n,Be=!0,Ls=null,Hn=!1,t!==null&&Ug(n,t),n=Xu(n,l),n.flags|=4096;return n}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function $u(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vf(t,n,s,l,h){return Hr(n),s=mf(t,n,s,l,void 0,h),l=gf(),t!==null&&!Mt?(pf(t,n,h),ss(t,n,h)):(Be&&l&&Kh(n),n.flags|=1,Zt(t,n,s,h),n.child)}function Zp(t,n,s,l,h,f){return Hr(n),n.updateQueue=null,s=ep(n,l,s,h),Wg(t),l=gf(),t!==null&&!Mt?(pf(t,n,f),ss(t,n,f)):(Be&&l&&Kh(n),n.flags|=1,Zt(t,n,s,f),n.child)}function Jp(t,n,s,l,h){if(Hr(n),n.stateNode===null){var f=Ra,g=s.contextType;typeof g=="object"&&g!==null&&(f=$t(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$t(g):Ra,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Xr(s,T);f.props=I;var z=f.context,F=s.contextType;g=Ra,typeof F=="object"&&F!==null&&(g=$t(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&Pp(n,f,l,g),js=!1;var j=n.memoizedState;f.state=j,Zl(n,l,f,h),$l(),z=n.memoizedState,T||j!==z||js?(typeof K=="function"&&(Nf(n,s,K,l),z=n.memoizedState),(I=js||Lp(n,s,I,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),g=n.memoizedProps,F=Xr(s,g),f.props=F,K=n.pendingProps,j=f.context,z=s.contextType,I=Ra,typeof z=="object"&&z!==null&&(I=$t(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==I)&&Pp(n,f,l,I),js=!1,j=n.memoizedState,f.state=j,Zl(n,l,f,h),$l();var q=n.memoizedState;g!==K||j!==q||js||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof T=="function"&&(Nf(n,s,T,l),q=n.memoizedState),(F=js||Lp(n,s,F,l,j,q,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,h),n.child=Yr(n,null,s,h)):Zt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ss(t,n,h),t}function Wp(t,n,s,l){return Br(),n.flags|=256,Zt(t,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:qg()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Nn),t}function ey(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Be){if(h?Hs(n):Gs(),(t=ct)?(t=o_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,Xt=n,ct=null)):t=null,t===null)throw Ps(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Gs(),h=n.mode,T=Zu({mode:"hidden",children:T},h),l=jr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,no(null,l)):(Hs(n),Pf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=zf(t,n,s)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),T=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),T=jr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Yr(n,t.child,null,s),l=n.child,l.memoizedState=Uf(s),l.childLanes=Lf(t,g,s),n.memoizedState=kf,n=no(null,l));else if(Hs(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Gl({value:l,source:null,stack:null}),n=zf(t,n,s)}else if(Mt||Na(t,n,s,!1),g=(s&t.childLanes)!==0,Mt||g){if(g=lt,g!==null&&(l=Sl(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,zr(t,l),yn(g,t,l),Mf;_d(T)||ac(),n=zf(t,n,s)}else _d(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ct=Fn(T.nextSibling),Xt=n,Be=!0,Ls=null,Hn=!1,t!==null&&Ug(n,t),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Gs(),T=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=Ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ji(z,T):(T=jr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,no(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Uf(s):(h=T.cachePool,h!==null?(I=Dt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Lf(t,g,s),n.memoizedState=kf,no(t.child,l)):(Hs(n),s=t.child,t=s.sibling,s=Ji(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Pf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function zf(t,n,s){return Yr(n,t.child,null,s),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function jf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=At.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ne(At,g),Zt(t,n,l,s),l=Be?Hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,s,n);else if(t.tag===19)ty(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Na(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ji(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ji(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function wE(t,n,s){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),zs(n,Dt,t.memoizedState.cache),Br();break;case 27:case 5:hi(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(t,n,s):(Hs(n),t=ss(t,n,s),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Na(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(At,At.current),l)break;return null;case 22:return n.lanes=0,Kp(t,n,s,n.pendingProps);case 24:zs(n,Dt,t.memoizedState.cache)}return ss(t,n,s)}function iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Bf(t,s)&&(n.flags&128)===0)return Mt=!1,wE(t,n,s);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(n.flags&1048576)!==0&&kg(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Fr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=Xr(t,l),n.tag=1,n=Jp(null,n,t,l,s)):(n.tag=0,n=Vf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===xe){n.tag=11,n=Fp(null,n,t,l,s);break e}else if(h===x){n.tag=14,n=Qp(null,n,t,l,s);break e}}throw n=at(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Xr(l,n.pendingProps),Jp(t,n,l,h,s);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),Zl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,zs(n,Dt,l),l!==f.cache&&ef(n,[Dt],s,!0),$l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(t,n,l,s);break e}else if(l!==h){h=jn(Error(a(424)),n),Gl(h),n=Wp(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Fn(t.firstChild),Xt=n,Be=!0,Ls=null,Hn=!0,s=Kg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Br(),l===h){n=ss(t,n,s);break e}Zt(t,n,l,s)}n=n.child}return n;case 26:return $u(t,n),t===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Be||(s=n.type,t=n.pendingProps,l=dc(be.current).createElement(s),l[It]=n,l[qt]=t,Jt(l,s,t),xt(l),n.stateNode=l):n.memoizedState=m_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hi(n),t===null&&Be&&(l=n.stateNode=h_(n.type,n.pendingProps,be.current),Xt=n,Hn=!0,h=ct,Js(n.type)?(Td=h,ct=Fn(l.firstChild)):ct=h),Zt(t,n,n.pendingProps.children,s),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=tb(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Xt=n,ct=Fn(l.firstChild),Hn=!1,h=!0):h=!1),h||Ps(n)),hi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,pE,null,null,s),_o._currentValue=h),$u(t,n),Zt(t,n,l,s),n.child;case 6:return t===null&&Be&&((t=s=ct)&&(s=nb(s,n.pendingProps,Hn),s!==null?(n.stateNode=s,Xt=n,ct=null,t=!0):t=!1),t||Ps(n)),null;case 13:return ey(t,n,s);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,s):Zt(t,n,l,s),n.child;case 11:return Fp(t,n,n.type,n.pendingProps,s);case 7:return Zt(t,n,n.pendingProps,s),n.child;case 8:return Zt(t,n,n.pendingProps.children,s),n.child;case 12:return Zt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,zs(n,n.type,l.value),Zt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Hr(n),h=$t(h),l=l(h),n.flags|=1,Zt(t,n,l,s),n.child;case 14:return Qp(t,n,n.type,n.pendingProps,s);case 15:return Yp(t,n,n.type,n.pendingProps,s);case 19:return ny(t,n,s);case 31:return AE(t,n,s);case 22:return Kp(t,n,s,n.pendingProps);case 24:return Hr(n),l=$t(Dt),t===null?(h=sf(),h===null&&(h=lt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),zs(n,Dt,h)):((t.lanes&s)!==0&&(lf(t,n),Zl(n,null,null,s),$l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,Dt,l)):(l=f.cache,zs(n,Dt,l),l!==h.cache&&ef(n,[Dt],s,!0))),Zt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(t){t.flags|=4}function qf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ny())t.flags|=8192;else throw Qr=ku,rf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(n))if(Ny())t.flags|=8192;else throw Qr=ku,rf}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,qa|=n)}function io(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function RE(t,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ts(Dt),ut(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xa(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(ht(n),sy(n,f)):(ht(n),qf(n,h,null,l,s))):f?f!==t.memoizedState?(rs(n),ht(n),sy(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(n),ht(n),qf(n,h,t,l,s)),null;case 27:if(As(n),s=be.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=ie.current,xa(n)?Lg(n):(t=h_(h,l,s),n.stateNode=t,rs(n))}return ht(n),null;case 5:if(As(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=ie.current,xa(n))Lg(n);else{var g=dc(be.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[It]=n,f[qt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Jt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(n)}}return ht(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=be.current,xa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,s)),t||Ps(n,!0)}else t=dc(t).createTextNode(l),t[It]=n,n.stateNode=t}return ht(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=xa(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else s=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),ht(n),null);case 4:return ut(),t===null&&cd(n.stateNode.containerInfo),ht(n),null;case 10:return ts(n.type),ht(n),null;case 19:if(Y(At),l=n.memoizedState,l===null)return ht(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,io(l,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Og(s,t),s=s.sibling;return ne(At,At.current&1|2),Be&&Wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&vt()>ic&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return ht(n),null}else 2*vt()-l.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=vt(),t.sibling=null,s=At.current,ne(At,h?s&1|2:s&1),Be&&Wi(n,l.treeForkCount),t):(ht(n),null);case 22:case 23:return In(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Gr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ts(Dt),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function CE(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(Dt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return As(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(At),null;case 4:return ut(),null;case 10:return ts(n.type),null;case 22:case 23:return In(n),hf(),t!==null&&Y(Gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(Dt),null;case 25:return null;default:return null}}function ry(t,n){switch(Xh(n),n.tag){case 3:ts(Dt),ut();break;case 26:case 27:case 5:As(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(At);break;case 10:ts(n.type);break;case 22:case 23:In(n),hf(),t!==null&&Y(Gr);break;case 24:ts(Dt)}}function so(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){We(n,n.return,T)}}function Fs(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=s,z=T;try{z()}catch(F){We(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){We(n,n.return,F)}}function ay(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$g(n,s)}catch(l){We(t,t.return,l)}}}function ly(t,n,s){s.props=Xr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){We(t,n,l)}}function ro(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){We(t,n,h)}}function Vi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){We(t,n,h)}else s.current=null}function oy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){We(t,t.return,h)}}function Hf(t,n,s){try{var l=t.stateNode;XE(l,t.type,s,n),l[qt]=n}catch(h){We(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(l!==4&&(l===27&&Js(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function Wu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Wu(t,n,s),t=t.sibling;t!==null;)Wu(t,n,s),t=t.sibling}function cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,l,s),n[It]=t,n[qt]=s}catch(f){We(t,t.return,f)}}var as=!1,Vt=!1,Qf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function IE(t,n){if(t=t.containerInfo,dd=Tc,t=Sg(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,I=-1,z=0,F=0,K=t,j=null;t:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(I=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===t)break t;if(j===s&&++z===h&&(T=g),j===f&&++F===l&&(I=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:t,selectionRange:s},Tc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var re=Xr(s.type,h);t=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function fy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:os(t,s),l&4&&so(5,s);break;case 1:if(os(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){We(s,s.return,g)}else{var h=Xr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){We(s,s.return,g)}}l&64&&ay(s),l&512&&ro(s,s.return);break;case 3:if(os(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(t,n)}catch(g){We(s,s.return,g)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:os(t,s),n===null&&l&4&&oy(s),l&512&&ro(s,s.return);break;case 12:os(t,s);break;case 31:os(t,s),l&4&&gy(t,s);break;case 13:os(t,s),l&4&&py(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=LE.bind(null,s),ib(t,s))));break;case 22:if(l=s.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||Vt,h=as;var f=Vt;as=l,(Vt=n)&&!f?us(t,s,(s.subtreeFlags&8772)!==0):os(t,s),as=h,Vt=f}break;case 30:break;default:os(t,s)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,dn=!1;function ls(t,n,s){for(s=s.child;s!==null;)my(t,n,s),s=s.sibling}function my(t,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Vt||Vi(s,n),ls(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Vi(s,n);var l=gt,h=dn;Js(s.type)&&(gt=s.stateNode,dn=!1),ls(t,n,s),go(s.stateNode),gt=l,dn=h;break;case 5:Vt||Vi(s,n);case 6:if(l=gt,h=dn,gt=null,ls(t,n,s),gt=l,dn=h,gt!==null)if(dn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(s.stateNode)}catch(f){We(s,n,f)}else try{gt.removeChild(s.stateNode)}catch(f){We(s,n,f)}break;case 18:gt!==null&&(dn?(t=gt,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$a(t)):a_(gt,s.stateNode));break;case 4:l=gt,h=dn,gt=s.stateNode.containerInfo,dn=!0,ls(t,n,s),gt=l,dn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),Vt||Fs(4,s,n),ls(t,n,s);break;case 1:Vt||(Vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),ls(t,n,s);break;case 21:ls(t,n,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,ls(t,n,s),Vt=l;break;default:ls(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(s){We(n,n.return,s)}}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(s){We(n,n.return,s)}}function xE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function ec(t,n){var s=xE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=PE.bind(null,t,l);l.then(h,h)}})}function mn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Js(T.type)){gt=T.stateNode,dn=!1;break e}break;case 5:gt=T.stateNode,dn=!1;break e;case 3:case 4:gt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(gt===null)throw Error(a(160));my(f,g,h),gt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var ai=null;function yy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),l&4&&(Fs(3,t,t.return),so(3,t),Fs(5,t,t.return));break;case 1:mn(n,t),gn(t),l&512&&(Vt||s===null||Vi(s,s.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ai;if(mn(n,t),gn(t),l&512&&(Vt||s===null||Vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,l,s),f[It]=t,xt(f),l=f;break e;case"link":var g=y_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),Jt(f,l,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),Jt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[It]=t,xt(f),l=f}t.stateNode=l}else __(h,t.type,t.stateNode);else t.stateNode=p_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?__(h,t.type,t.stateNode):p_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,s.memoizedProps)}break;case 27:mn(n,t),gn(t),l&512&&(Vt||s===null||Vi(s,s.return)),s!==null&&l&4&&Hf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,t),gn(t),l&512&&(Vt||s===null||Vi(s,s.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(re){We(t,t.return,re)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(mn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(re){We(t,t.return,re)}}break;case 3:if(pc=null,h=ai,ai=mc(n.containerInfo),mn(n,t),ai=h,gn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(re){We(t,t.return,re)}Qf&&(Qf=!1,_y(t));break;case 4:l=ai,ai=mc(t.stateNode.containerInfo),mn(n,t),gn(t),ai=l;break;case 12:mn(n,t),gn(t);break;case 31:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=as,F=Vt;if(as=z||h,Vt=F||I,mn(n,t),Vt=F,as=z,gn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||as||Vt||$r(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(re){We(I,I.return,re)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(re){We(I,I.return,re)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?l_(q,!0):l_(I.stateNode,!1)}catch(re){We(I,I.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ec(t,s))));break;case 19:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);Wu(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var T=Gf(t);Wu(t,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Gf(t);Ff(t,z,I);break;default:throw Error(a(161))}}catch(F){We(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function $r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),$r(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),$r(n);break;case 27:go(n.stateNode);case 26:case 5:Vi(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}t=t.sibling}}function us(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,s),so(4,f);break;case 1:if(us(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){We(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xg(I[h],T)}catch(z){We(l,l.return,z)}}s&&g&64&&ay(f),ro(f,f.return);break;case 27:cy(f);case 26:case 5:us(h,f,s),s&&l===null&&g&4&&oy(f),ro(f,f.return);break;case 12:us(h,f,s);break;case 31:us(h,f,s),s&&g&4&&gy(h,f);break;case 13:us(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&us(h,f,s),ro(f,f.return);break;case 30:break;default:us(h,f,s)}n=n.sibling}}function Yf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Fl(s))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fl(t))}function li(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,s,l),n=n.sibling}function vy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,s,l),h&2048&&so(9,n);break;case 1:li(t,n,s,l);break;case 3:li(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fl(t)));break;case 12:if(h&2048){li(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(n,n.return,I)}}else li(t,n,s,l);break;case 31:li(t,n,s,l);break;case 13:li(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,s,l):ao(t,n):f._visibility&2?li(t,n,s,l):(f._visibility|=2,za(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:li(t,n,s,l),h&2048&&Kf(n.alternate,n);break;default:li(t,n,s,l)}}function za(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,T,I,h),so(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?za(f,g,T,I,h):ao(f,g):(F._visibility|=2,za(f,g,T,I,h)),h&&z&2048&&Yf(g.alternate,g);break;case 24:za(f,g,T,I,h),h&&z&2048&&Kf(g.alternate,g);break;default:za(f,g,T,I,h)}n=n.sibling}}function ao(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:ao(s,l),h&2048&&Yf(l.alternate,l);break;case 24:ao(s,l),h&2048&&Kf(l.alternate,l);break;default:ao(s,l)}n=n.sibling}}var lo=8192;function ja(t,n,s){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)Ty(t,n,s),t=t.sibling}function Ty(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&lo&&t.memoizedState!==null&&gb(s,ai,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var l=ai;ai=mc(t.stateNode.containerInfo),ja(t,n,s),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,ja(t,n,s),lo=l):ja(t,n,s));break;default:ja(t,n,s)}}function Ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Gt=l,Sy(l,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):oo(t);break;default:oo(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Gt=l,Sy(l,t)}Ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function Sy(t,n){for(;Gt!==null;){var s=Gt;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Gt=l;else e:for(s=t;Gt!==null;){l=Gt;var h=l.sibling,f=l.return;if(dy(l),l===s){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var NE={getCacheForType:function(t){var n=$t(Dt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return $t(Dt).controller.signal}},DE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,lt=null,Oe=null,ke=0,Je=0,xn=null,Qs=!1,Ba=!1,Xf=!1,cs=0,Et=0,Ys=0,Zr=0,$f=0,Nn=0,qa=0,uo=null,pn=null,Zf=!1,nc=0,Ay=0,ic=1/0,sc=null,Ks=null,Pt=0,Xs=null,Ha=null,hs=0,Jf=0,Wf=null,wy=null,co=0,ed=null;function Dn(){return(Ye&2)!==0&&ke!==0?ke&-ke:G.T!==null?ad():ru()}function Ry(){if(Nn===0)if((ke&536870912)===0||Be){var t=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function yn(t,n,s){(t===lt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),$s(t,ke,Nn,!1)),wr(t,s),((Ye&2)===0||t!==lt)&&(t===lt&&((Ye&2)===0&&(Zr|=s),Et===4&&$s(t,ke,Nn,!1)),ki(t))}function Cy(t,n,s){if((Ye&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=l?VE(t,n):nd(t,n,!0),f=l;do{if(h===0){Ba&&!l&&$s(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!OE(s)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=uo;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!I){T.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),$s(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(l,n,Nn,!Qs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-vt(),10<h)){if($s(l,n,Nn,!Qs),yi(l,0,!0)!==0)break e;hs=n,l.timeoutHandle=s_(Iy.bind(null,l,s,pn,sc,Zf,n,Nn,Zr,qa,Qs,f,"Throttled",-0,0),h);break e}Iy(l,s,pn,sc,Zf,n,Nn,Zr,qa,Qs,f,null,-0,0)}}break}while(!0);ki(t)}function Iy(t,n,s,l,h,f,g,T,I,z,F,K,j,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Ty(n,f,K);var re=(f&62914560)===f?nc-vt():(f&4194048)===f?Ay-vt():0;if(re=pb(K,re),re!==null){hs=f,t.cancelPendingCommit=re(Uy.bind(null,t,n,f,s,l,h,g,T,I,F,K,null,j,q)),$s(t,f,g,!z);return}}Uy(t,n,f,s,l,h,g,T,I)}function OE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,s,l){n&=~$f,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Rr(t,s,n)}function rc(){return(Ye&6)===0?(ho(0),!1):!0}function td(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,es=qr=null,yf(t),Va=null,Yl=0,t=Oe;for(;t!==null;)ry(t.alternate,t),t=t.return;Oe=null}}function Ga(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,JE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),hs=0,td(),lt=t,Oe=s=Ji(t.current,null),ke=n,Je=0,xn=null,Qs=!1,Ba=Zn(t,n),Xf=!1,qa=Nn=$f=Zr=Ys=Et=0,pn=uo=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-bt(l),f=1<<h;n|=t[h],l&=~f}return cs=n,Ru(),s}function xy(t,n){Ie=null,G.H=to,n===Ma||n===Vu?(n=Fg(),Je=3):n===rf?(n=Fg(),Je=4):Je=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Oe===null&&(Et=1,Ku(t,jn(n,t.current)))}function Ny(){var t=Cn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function Dy(){var t=G.H;return G.H=to,t===null?to:t}function Oy(){var t=G.A;return G.A=NE,t}function ac(){Et=4,Qs||(ke&4194048)!==ke&&Cn.current!==null||(Ba=!0),(Ys&134217727)===0&&(Zr&134217727)===0||lt===null||$s(lt,ke,Nn,!1)}function nd(t,n,s){var l=Ye;Ye|=2;var h=Dy(),f=Oy();(lt!==t||ke!==n)&&(sc=null,Ga(t,n)),n=!1;var g=Et;e:do try{if(Je!==0&&Oe!==null){var T=Oe,I=xn;switch(Je){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Je;if(Je=0,xn=null,Fa(t,T,I,z),s&&Ba){g=0;break e}break;default:z=Je,Je=0,xn=null,Fa(t,T,I,z)}}ME(),g=Et;break}catch(F){xy(t,F)}while(!0);return n&&t.shellSuspendCounter++,es=qr=null,Ye=l,G.H=h,G.A=f,Oe===null&&(lt=null,ke=0,Ru()),g}function ME(){for(;Oe!==null;)My(Oe)}function VE(t,n){var s=Ye;Ye|=2;var l=Dy(),h=Oy();lt!==t||ke!==n?(sc=null,ic=vt()+500,Ga(t,n)):Ba=Zn(t,n);e:do try{if(Je!==0&&Oe!==null){n=Oe;var f=xn;t:switch(Je){case 1:Je=0,xn=null,Fa(t,n,f,1);break;case 2:case 9:if(Hg(f)){Je=0,xn=null,Vy(n);break}n=function(){Je!==2&&Je!==9||lt!==t||(Je=7),ki(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Hg(f)?(Je=0,xn=null,Vy(n)):(Je=0,xn=null,Fa(t,n,f,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var T=Oe;if(g?v_(g):T.stateNode.complete){Je=0,xn=null;var I=T.sibling;if(I!==null)Oe=I;else{var z=T.return;z!==null?(Oe=z,lc(z)):Oe=null}break t}}Je=0,xn=null,Fa(t,n,f,5);break;case 6:Je=0,xn=null,Fa(t,n,f,6);break;case 8:td(),Et=6;break e;default:throw Error(a(462))}}kE();break}catch(F){xy(t,F)}while(!0);return es=qr=null,G.H=l,G.A=h,Ye=s,Oe!==null?0:(lt=null,ke=0,Ru(),Et)}function kE(){for(;Oe!==null&&!di();)My(Oe)}function My(t){var n=iy(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?lc(t):Oe=n}function Vy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:yf(n);default:ry(s,n),n=Oe=Og(n,cs),n=iy(s,n,cs)}t.memoizedProps=t.pendingProps,n===null?lc(t):Oe=n}function Fa(t,n,s,l){es=qr=null,yf(n),Va=null,Yl=0;var h=n.return;try{if(SE(t,h,n,s,ke)){Et=1,Ku(t,jn(s,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;Et=1,Ku(t,jn(s,t.current)),Oe=null;return}n.flags&32768?(Be||l===1?t=!0:Ba||(ke&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,Qs);return}t=n.return;var s=RE(n.alternate,n,cs);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);Et===0&&(Et=5)}function ky(t,n){do{var s=CE(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);Et=6,Oe=null}function Uy(t,n,s,l,h,f,g,T,I){t.cancelPendingCommit=null;do oc();while(Pt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,s,f,g,T,I),t===lt&&(Oe=lt=null,ke=0),Ha=n,Xs=t,hs=s,Jf=f,Wf=h,wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(En,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,g=Ye,Ye|=4;try{IE(t,n,s)}finally{Ye=g,te.p=h,G.T=l}}Pt=1,Ly(),Py(),zy()}}function Ly(){if(Pt===1){Pt=0;var t=Xs,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{yy(n,t);var f=md,g=Sg(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&bg(T.ownerDocument.documentElement,T)){if(I!==null&&Ph(T)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),re=T.textContent.length,_e=Math.min(I.start,re),rt=I.end===void 0?_e:Math.min(I.end,re);!q.extend&&_e>rt&&(g=rt,rt=_e,_e=g);var k=Eg(T,_e),D=Eg(T,rt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),_e>rt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!dd,md=dd=null}finally{Ye=h,te.p=l,G.T=s}}t.current=n,Pt=2}}function Py(){if(Pt===2){Pt=0;var t=Xs,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{fy(t,n.alternate,n)}finally{Ye=h,te.p=l,G.T=s}}Pt=3}}function zy(){if(Pt===4||Pt===3){Pt=0,Xn();var t=Xs,n=Ha,s=hs,l=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,Ha=Xs=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Ki(s),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,te.p=h}}(hs&3)!==0&&oc(),ki(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ed?co++:(co=0,ed=t):co=0,ho(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fl(n)))}function oc(){return Ly(),Py(),zy(),By()}function By(){if(Pt!==5)return!1;var t=Xs,n=Jf;Jf=0;var s=Ki(hs),l=G.T,h=te.p;try{te.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=Xs,g=hs;if(Pt=0,Ha=Xs=null,hs=0,(Ye&6)!==0)throw Error(a(331));var T=Ye;if(Ye|=4,by(f.current),vy(f,f.current,g,s),Ye=T,ho(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{te.p=h,G.T=l,jy(t,n)}}function qy(t,n,s){n=jn(s,n),n=Of(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(wr(t,2),ki(t))}function We(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=jn(s,t),s=Hp(2),l=qs(n,s,2),l!==null&&(Gp(s,l,n,t),wr(l,2),ki(l));break}}n=n.return}}function id(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new DE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),t=UE.bind(null,t,n,s),n.then(t,t))}function UE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,lt===t&&(ke&s)===s&&(Et===4||Et===3&&(ke&62914560)===ke&&300>vt()-nc?(Ye&2)===0&&Ga(t,0):$f|=s,qa===ke&&(qa=0)),ki(t)}function Hy(t,n){n===0&&(n=su()),t=zr(t,n),t!==null&&(wr(t,n),ki(t))}function LE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(t,s)}function PE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(t,s)}function zE(t,n){return tt(t,n)}var uc=null,Qa=null,sd=!1,cc=!1,rd=!1,Zs=0;function ki(t){t!==Qa&&t.next===null&&(Qa===null?uc=Qa=t:Qa=Qa.next=t),cc=!0,sd||(sd=!0,BE())}function ho(t,n){if(!rd&&cc){rd=!0;do for(var s=!1,l=uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(l,f))}else f=ke,f=yi(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zn(l,f)||(s=!0,Yy(l,f));l=l.next}while(s);rd=!1}}function jE(){Gy()}function Gy(){cc=sd=!1;var t=0;Zs!==0&&ZE()&&(t=Zs);for(var n=vt(),s=null,l=uc;l!==null;){var h=l.next,f=Fy(l,n);f===0?(l.next=null,s===null?uc=h:s.next=h,h===null&&(Qa=s)):(s=l,(t!==0||(f&3)!==0)&&(cc=!0)),l=h}Pt!==0&&Pt!==5||ho(t),Zs!==0&&(Zs=0)}function Fy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-bt(f),T=1<<g,I=h[g];I===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Mh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=lt,s=ke,s=yi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Qt(l),Ki(s)){case 2:case 8:s=mi;break;case 32:s=En;break;case 268435456:s=Yi;break;default:s=En}return l=Qy.bind(null,t),s=tt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Qt(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(oc()&&t.callbackNode!==s)return null;var l=ke;return l=yi(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cy(t,l,n),Fy(t,vt()),t.callbackNode!=null&&t.callbackNode===s?Qy.bind(null,t):null)}function Yy(t,n){if(oc())return null;Cy(t,n,!0)}function BE(){WE(function(){(Ye&6)!==0?tt(ws,jE):Gy()})}function ad(){if(Zs===0){var t=Da;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Zs=t}return Zs}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function Xy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function qE(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[qt]||null).action),g=l.submitter;g&&(n=(n=g[qt]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ii("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var I=g?Xy(h,g):new FormData(h);Rf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Xy(h,g):new FormData(h),Rf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var od=qh[ld],HE=od.toLowerCase(),GE=od[0].toUpperCase()+od.slice(1);ri(HE,"on"+GE)}ri(Rg,"onAnimationEnd"),ri(Cg,"onAnimationIteration"),ri(Ig,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(aE,"onTransitionRun"),ri(lE,"onTransitionStart"),ri(oE,"onTransitionCancel"),ri(xg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function $y(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(T=l[g],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function Me(t,n){var s=n[ha];s===void 0&&(s=n[ha]=new Set);var l=t+"__bubble";s.has(l)||(Zy(n,t,2,!1),s.add(l))}function ud(t,n,s){var l=0;n&&(l|=4),Zy(s,t,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[hc]){t[hc]=!0,Al.forEach(function(s){s!=="selectionchange"&&(FE.has(s)||ud(s,!1,t),ud(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function Zy(t,n,s,l){switch(R_(n)){case 2:var h=vb;break;case 8:h=Tb;break;default:h=wd}s=h.bind(null,n,s,t),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function hd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ei(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}T=T.parentNode}}l=l.return}Os(function(){var z=f,F=Un(s),K=[];e:{var j=Ng.get(t);if(j!==void 0){var q=Ii,re=t;switch(t){case"keypress":if(Mr(s)===0)break e;case"keydown":case"keyup":q=bu;break;case"focusin":re="focus",q=kr;break;case"focusout":re="blur",q=kr;break;case"beforeblur":case"afterblur":q=kr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Cg:case Ig:q=gu;break;case xg:q=b;break;case"scroll":case"scrollend":q=Ul;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=Ce}var _e=(n&4)!==0,rt=!_e&&(t==="scroll"||t==="scrollend"),k=_e?j!==null?j+"Capture":null:j;_e=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ti(D,k),Q!=null&&_e.push(mo(D,Q,P))),rt)break;D=D.return}0<_e.length&&(j=new q(j,re,null,s,F),K.push({event:j,listeners:_e}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&s!==Ml&&(re=s.relatedTarget||s.fromElement)&&(Ei(re)||re[vi]))break e;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(re=s.relatedTarget||s.toElement,q=z,re=re?Ei(re):null,re!==null&&(rt=c(re),_e=re.tag,re!==rt||_e!==5&&_e!==27&&_e!==6)&&(re=null)):(q=null,re=z),q!==re)){if(_e=Ll,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Zi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),rt=q==null?j:Sn(q),P=re==null?j:Sn(re),j=new _e(Q,D+"leave",q,s,F),j.target=rt,j.relatedTarget=P,Q=null,Ei(F)===z&&(_e=new _e(k,D+"enter",re,s,F),_e.target=P,_e.relatedTarget=rt,Q=_e),rt=Q,q&&re)t:{for(_e=QE,k=q,D=re,P=0,Q=k;Q;Q=_e(Q))P++;Q=0;for(var he=D;he;he=_e(he))Q++;for(;0<P-Q;)k=_e(k),P--;for(;0<Q-P;)D=_e(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;q!==null&&Jy(K,j,q,_e,!1),re!==null&&rt!==null&&Jy(K,rt,re,_e,!0)}}e:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var He=gg;else if(dg(j))if(pg)He=iE;else{He=tE;var ae=eE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ga(z.elementType)&&(He=gg):He=nE;if(He&&(He=He(t,z))){mg(K,He,s,F);break e}ae&&ae(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Nl(j,"number",j.value)}switch(ae=z?Sn(z):window,t){case"focusin":(dg(ae)||ae.contentEditable==="true")&&(Sa=ae,zh=z,ql=null);break;case"focusout":ql=zh=Sa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ag(K,s,F);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Ag(K,s,F)}var Ne;if(Qe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ba?Ur(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Di&&s.locale!=="ko"&&(ba||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ba&&(Ne=kl()):(Ci=F,Vl="value"in Ci?Ci.value:Ci.textContent,ba=!0)),ae=fc(z,Ue),0<ae.length&&(Ue=new Ni(Ue,t,null,s,F),K.push({event:Ue,listeners:ae}),Ne?Ue.data=Ne:(Ne=Ea(s),Ne!==null&&(Ue.data=Ne)))),(Ne=Pn?$T(t,s):ZT(t,s))&&(Ue=fc(z,"onBeforeInput"),0<Ue.length&&(ae=new Ni("onBeforeInput","beforeinput",null,s,F),K.push({event:ae,listeners:Ue}),ae.data=Ne)),qE(K,t,z,s,F)}$y(K,n)})}function mo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function fc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,s),h!=null&&l.unshift(mo(t,h,f)),h=ti(t,n),h!=null&&l.push(mo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function QE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ti(s,f),z!=null&&g.unshift(mo(s,z,I))):h||(z=ti(s,f),z!=null&&g.push(mo(s,z,I)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function e_(t,n){return n=Wy(n),Wy(t)===n}function st(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,s,l);break;case"style":Ol(t,l,f);break;case"data":if(n!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=pa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=pa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),da(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,da(t,s,l))}}function fd(t,n,s,l,h,f){switch(s){case"style":Ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[qt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):da(t,s,l)}}}function Jt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,g,s,null)}}h&&st(t,n,"srcSet",s.srcSet,s,null),l&&st(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var T=f=g=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:st(t,n,l,F,s,null)}}uu(t,f,T,I,z,g,h,!1);return;case"select":Me("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:st(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Is(t,!!l,n,!1):s!=null&&Is(t,!!l,s,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:st(t,n,g,T,s,null)}xs(t,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,n,I,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)Me(fo[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,z,l,s,null)}return;default:if(ga(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&fd(t,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&st(t,n,T,l,s,null))}function XE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,z=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||st(t,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&st(t,n,j,q,l,K)}}ma(t,g,T,I,z,F,f,h);return;case"select":q=g=T=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||st(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&st(t,n,h,f,l,I)}n=T,s=g,l=q,j!=null?Is(t,!!s,j,!1):!!l!=!!s&&(n!=null?Is(t,!!s,n,!0):Is(t,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,g,h,l,f)}cu(t,j,q);return;case"option":for(var re in s)if(j=s[re],s.hasOwnProperty(re)&&j!=null&&!l.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:st(t,n,re,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:st(t,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)j=s[_e],s.hasOwnProperty(_e)&&j!=null&&!l.hasOwnProperty(_e)&&st(t,n,_e,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:st(t,n,z,j,l,q)}return;default:if(ga(n)){for(var rt in s)j=s[rt],s.hasOwnProperty(rt)&&j!==void 0&&!l.hasOwnProperty(rt)&&fd(t,n,rt,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||fd(t,n,F,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&st(t,n,k,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||st(t,n,K,j,l,q)}function t_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $E(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&t_(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>T)break;var F=I.transferSize,K=I.initiatorType;F&&t_(K)&&(I=I.responseEnd,g+=F*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(eb)}:s_;function eb(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function a_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),$a(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")go(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,go(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&go(t.ownerDocument.body);s=h}while(s);$a(n)}function l_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),fa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function nb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Fn(t.nextSibling),t===null))return null;return t}function o_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ib(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function u_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function c_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function h_(t,n,s){switch(n=dc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function go(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var Qn=new Map,f_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=te.d;te.d={f:sb,r:rb,D:ab,C:lb,L:ob,m:ub,X:hb,S:cb,M:fb};function sb(){var t=fs.f(),n=rc();return t||n}function rb(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?xp(n):fs.r(t)}var Ya=typeof document>"u"?null:document;function d_(t,n,s){var l=Ya;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Jt(n,"link",t),xt(n),l.head.appendChild(n)))}}function ab(t){fs.D(t),d_("dns-prefetch",t,null)}function lb(t,n){fs.C(t,n),d_("preconnect",t,n)}function ob(t,n,s){fs.L(t,n,s);var l=Ya;if(l&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Xa(t)}Qn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(po(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),Jt(n,"link",t),xt(n),l.head.appendChild(n)))}}function ub(t,n){fs.m(t,n);var s=Ya;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!Qn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Qn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yo(f)))return}l=s.createElement("link"),Jt(l,"link",t),xt(l),s.head.appendChild(l)}}}function cb(t,n,s){fs.S(t,n,s);var l=Ya;if(l&&t){var h=bi(l).hoistableStyles,f=Ka(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(po(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Qn.get(f))&&Ed(t,s);var I=g=l.createElement("link");xt(I),Jt(I,"link",t),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function hb(t,n){fs.X(t,n);var s=Ya;if(s&&t){var l=bi(s).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(t=w({src:t,async:!0},n),(n=Qn.get(h))&&bd(t,n),f=s.createElement("script"),xt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fb(t,n){fs.M(t,n);var s=Ya;if(s&&t){var l=bi(s).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&bd(t,n),f=s.createElement("script"),xt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m_(t,n,s,l){var h=(h=be.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=bi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ka(s.href);var f=bi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(po(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Qn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qn.set(t,s),f||db(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(s),s=bi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+hn(t)+'"'}function po(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function db(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",s),xt(n),t.head.appendChild(n))}function Xa(t){return'[src="'+hn(t)+'"]'}function yo(t){return"script[async]"+t}function p_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(s.href)+'"]');if(l)return n.instance=l,xt(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Jt(l,"style",h),gc(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ka(s.href);var f=t.querySelector(po(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;l=g_(s),(h=Qn.get(h))&&Ed(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Jt(f,"link",l),n.state.loading|=4,gc(f,s.precedence,t),n.instance=f;case"script":return f=Xa(s.src),(h=t.querySelector(yo(f)))?(n.instance=h,xt(h),h):(l=s,(h=Qn.get(f))&&(l=w({},s),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Jt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,s.precedence,t));return n.instance}function gc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function y_(t,n,s){if(pc===null){var l=new Map,h=pc=new Map;h.set(s,l)}else h=pc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ti]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function __(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function mb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function gb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(l.href),f=n.querySelector(po(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,xt(f);return}f=n.ownerDocument||n,l=g_(l),(h=Qn.get(h))&&Ed(l,h),f=f.createElement("link"),xt(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Jt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function pb(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*$E());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(yb,t),_c=null,yc.call(t))}function yb(t,n){if(!(n.state.loading&4)){var s=_c.get(t);if(s)var l=s.get(null);else{s=new Map,_c.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:pe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function _b(t,n,s,l,h,f,g,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function T_(t,n,s,l,h,f,g,T,I,z,F,K){return t=new _b(t,n,s,g,I,z,F,K,T),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),t}function E_(t){return t?(t=Ra,t):Ra}function b_(t,n,s,l,h,f){h=E_(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=qs(t,l,n),s!==null&&(yn(s,t,n),Xl(s,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ad(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function A_(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&yn(n,t,67108864),Ad(t,67108864)}}function w_(t){if(t.tag===13||t.tag===31){var n=Dn();n=Cr(n);var s=zr(t,n);s!==null&&yn(s,t,n),Ad(t,n)}}var Tc=!0;function vb(t,n,s,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,wd(t,n,s,l)}finally{te.p=f,G.T=h}}function Tb(t,n,s,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,wd(t,n,s,l)}finally{te.p=f,G.T=h}}function wd(t,n,s,l){if(Tc){var h=Rd(l);if(h===null)hd(t,n,l,Ec,s),C_(t,l);else if(bb(h,t,n,s,l))l.stopPropagation();else if(C_(t,l),n&4&&-1<Eb.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-bt(g);T.entanglements[1]|=I,g&=~I}ki(f),(Ye&6)===0&&(ic=vt()+500,ho(0))}}break;case 31:case 13:T=zr(f,2),T!==null&&yn(T,f,2),rc(),Ad(f,2)}if(f=Rd(l),f===null&&hd(t,n,l,Ec,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,s)}}function Rd(t){return t=Un(t),Cd(t)}var Ec=null;function Cd(t){if(Ec=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case ws:return 2;case mi:return 8;case En:case Rs:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var Id=!1,Ws=null,er=null,tr=null,vo=new Map,To=new Map,nr=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(n.pointerId)}}function Eo(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&A_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function bb(t,n,s,l,h){switch(n){case"focusin":return Ws=Eo(Ws,t,n,s,l,h),!0;case"dragenter":return er=Eo(er,t,n,s,l,h),!0;case"mouseover":return tr=Eo(tr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,Eo(vo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,To.set(f,Eo(To.get(f)||null,t,n,s,l,h)),!0}return!1}function I_(t){var n=Ei(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ml=l,s.target.dispatchEvent(l),Ml=null}else return n=kn(s),n!==null&&A_(n),t.blockedOn=s,!1;n.shift()}return!0}function x_(t,n,s){bc(t)&&s.delete(n)}function Sb(){Id=!1,Ws!==null&&bc(Ws)&&(Ws=null),er!==null&&bc(er)&&(er=null),tr!==null&&bc(tr)&&(tr=null),vo.forEach(x_),To.forEach(x_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sb)))}var Ac=null;function N_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Cd(l||s)===null)continue;break}var f=kn(s);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function $a(t){function n(I){return Sc(I,t)}Ws!==null&&Sc(Ws,t),er!==null&&Sc(er,t),tr!==null&&Sc(tr,t),vo.forEach(n),To.forEach(n);for(var s=0;s<nr.length;s++){var l=nr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&nr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[qt]||null;if(typeof f=="function")g||N_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qt]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),N_(s)}}}function D_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}wc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Dn();b_(s,l,t,n,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;b_(t.current,2,null,t,null,null),rc(),n[vi]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var s=0;s<nr.length&&n!==0&&n<nr[s].priority;s++);nr.splice(s,0,t),s===0&&I_(t)}};var O_=e.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{$n=Rc.inject(Ab),Yt=Rc}catch{}}return So.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(t,1,!1,null,null,s,l,null,h,f,g,D_),t[vi]=n.current,cd(t),new xd(n)},So.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=zp,g=jp,T=Bp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=T_(t,1,!0,n,s??null,l,h,I,f,g,T,D_),n.context=E_(null),s=n.current,l=Dn(),l=Cr(l),h=Bs(l),h.callback=null,qs(s,h,l),s=l,n.current.lanes=s,wr(n,s),ki(n),t[vi]=n.current,cd(t),new wc(n)},So.version="19.2.3",So}var H_;function kb(){if(H_)return Od.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=Vb(),Od.exports}var Ub=kb();const Lb=()=>{};var G_={};const Av=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Pb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[E],i[w],i[M],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Pb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new zb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),w!==64){const J=y<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=Av(r);return wv.encodeByteArray(e,!0)},Gc=function(r){return jb(r).replace(/\./g,"")},Rv=function(r){try{return wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Rv(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return Lb()||qb()||Hb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>hh()?.emulatorHosts?.[r],Fb=r=>{const e=Cv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Iv=()=>hh()?.config,xv=r=>hh()?.[`_${r}`];class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function gl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}function Yb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Io={};function Kb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?r.emulator.push(e):r.prod.push(e);return r}function Xb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F_=!1;function Dv(r,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Io[r]===e||Io[r]||F_)return;Io[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function E(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Xb(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),ee=i("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),fe=i("preprendIcon"),ge=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;p(pe),E(Z,ee);const xe=y();_(ge,fe),pe.append(ge,J,Z,xe),document.body.appendChild(pe)}c?(J.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Zb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const rS="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?aS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,p,a)}}function aS(r,e){return r.replace(lS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const lS=/\{\$([^}]+)}/g;function oS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(Q_(c)&&Q_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Ho(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uS(r,e){const i=new cS(r,e);return i.subscribe.bind(i)}class cS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function cn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class fS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Wr?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const pS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},yS=Le.INFO,_S={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},vS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=_S[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const TS=(r,e)=>e.some(i=>r instanceof i);let Y_,K_;function ES(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,$d=new WeakMap,Mv=new WeakMap,Ld=new WeakMap,wm=new WeakMap;function SS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(cr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),wm.set(e,r),e}function AS(r){if($d.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){Zd=r(Zd)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return Mv.set(a,e.sort?e.sort():[e]),cr(a)}:bS().includes(r)?function(...e){return r.apply(Pd(this),e),cr(Ov.get(this))}:function(...e){return cr(r.apply(Pd(this),e))}}function CS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&AS(r),TS(r,ES())?new Proxy(r,Zd):r)}function cr(r){if(r instanceof IDBRequest)return SS(r);if(Ld.has(r))return Ld.get(r);const e=CS(r);return e!==r&&(Ld.set(r,e),wm.set(e,r)),e}const Pd=r=>wm.get(r);function IS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=cr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(cr(d.result),_.oldVersion,_.newVersion,cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const xS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],zd=new Map;function X_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=NS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||xS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return zd.set(e,c),c}wS(r=>({...r,get:(e,i,a)=>X_(e,i)||r.get(e,i,a),has:(e,i)=>!!X_(e,i)||r.has(e,i)}));class DS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",$_="0.14.6";const ys=new Am("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",PS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",eA="@firebase/storage-compat",tA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",sA="firebase",rA="12.6.0";const Wd="[DEFAULT]",aA={[Jd]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[PS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[eA]:"fire-gcs-compat",[tA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const Fc=new Map,lA=new Map,em=new Map;function Z_(r,e){try{r.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ll(r){const e=r.name;if(em.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const i of Fc.values())Z_(i,r);for(const i of lA.values())Z_(i,r);return!0}function Rm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new qo("app","Firebase",oA);class uA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const pl=rA;function Vv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=Iv()),!i)throw hr.create("no-options");const c=Fc.get(o);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new gS(o);for(const _ of em.values())d.addComponent(_);const p=new uA(i,a,d);return Fc.set(o,p),p}function kv(r=Wd){const e=Fc.get(r);if(!e&&r===Wd&&Iv())return Vv();if(!e)throw hr.create("no-app",{appName:r});return e}function fr(r,e,i){let a=aA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}ll(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,Vo="firebase-heartbeat-store";let jd=null;function Uv(){return jd||(jd=IS(cA,hA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function fA(r){try{const i=(await Uv()).transaction(Vo),a=await i.objectStore(Vo).get(Lv(r));return await i.done,a}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function J_(r,e){try{const a=(await Uv()).transaction(Vo,"readwrite");await a.objectStore(Vo).put(e,Lv(r)),await a.done}catch(i){if(i instanceof Ss)ys.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const dA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const o=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function pA(r,e=dA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),e0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),e0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function e0(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function _A(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function vA(r){ll(new ia("platform-logger",e=>new DS(e),"PRIVATE")),ll(new ia("heartbeat",e=>new gA(e),"PRIVATE")),fr(Jd,$_,r),fr(Jd,$_,"esm2020"),fr("fire-js","")}vA("");var TA="firebase",EA="12.6.0";fr(TA,EA,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=Pv,zv=new qo("auth","Firebase",Pv());const Qc=new Am("@firebase/auth");function SA(r,...e){Qc.logLevel<=Le.WARN&&Qc.warn(`Auth (${pl}): ${r}`,...e)}function Vc(r,...e){Qc.logLevel<=Le.ERROR&&Qc.error(`Auth (${pl}): ${r}`,...e)}function _s(r,...e){throw Cm(r,...e)}function zi(r,...e){return Cm(r,...e)}function jv(r,e,i){const a={...bA(),[e]:i};return new qo("auth","Firebase",a).create(e,{appName:r.name})}function ps(r){return jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return zv.create(r,...e)}function Ee(r,e,...i){if(!r)throw Cm(e,...i)}function ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vc(e),new Error(e)}function vs(r,e){r||ms(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function AA(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||Wb()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Go{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=$b()||eS()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(r,e){vs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Bv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xA=new Go(3e4,6e4);function Fo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yl(r,e,i,a,o={}){return qv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ho({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return Jb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&gl(r.emulatorConfig.host)&&(y.credentials="include"),Bv.fetch()(await Hv(r,r.config.apiHost,i,p),y)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...CA,...e};try{const o=new NA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(r,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jv(r,E,y);_s(r,E)}}catch(o){if(o instanceof Ss)throw o;_s(r,"network-request-failed",{message:String(o)})}}async function xm(r,e,i,a,o={}){const c=await yl(r,e,i,a,o);return"mfaPendingCredential"in c&&_s(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Im(r.config,o):`${r.config.apiScheme}://${o}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class NA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),xA.get())})}}function Cc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=zi(r,e,a);return o.customData._tokenResponse=i,o}async function DA(r,e){return yl(r,"POST","/v1/accounts:delete",e)}async function Yc(r,e){return yl(r,"POST","/v1/accounts:lookup",e)}function xo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OA(r,e=!1){const i=cn(r),a=await i.getIdToken(e),o=Nm(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:xo(Bd(o.auth_time)),issuedAtTime:xo(Bd(o.iat)),expirationTime:xo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Nm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rv(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const e=Nm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ko(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ss&&MA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const e=r.auth,i=await r.getIdToken(),a=await ko(r,Yc(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Gv(o.providerUserInfo):[],d=UA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function kA(r){const e=cn(r);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Gv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LA(r,e){const i=await qv(r,{},async()=>{const a=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Hv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&gl(r.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PA(r,e){return yl(r,"POST","/v2/accounts:revokeToken",Fo(r,e))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await LA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new nl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function sr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ko(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return OA(this,e)}reload(){return kA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await ko(this,DA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:H,providerData:J,stsTokenManager:ee}=i;Ee(w&&ee,e,"internal-error");const Z=nl.fromJSON(this.name,ee);Ee(typeof w=="string",e,"internal-error"),sr(a,e.name),sr(o,e.name),Ee(typeof M=="boolean",e,"internal-error"),Ee(typeof H=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(p,e.name),sr(_,e.name),sr(y,e.name),sr(E,e.name);const fe=new oi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(fe.providerData=J.map(ge=>({...ge}))),_&&(fe._redirectEventId=_),fe}static async _fromIdTokenResponse(e,i,a=!1){const o=new nl;o.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Gv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new nl;p.updateFromIdToken(a);const _=new oi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const i0=new Map;function gs(r){vs(r instanceof Function,"Expected a class definition");let e=i0.get(r);return e?(vs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,i0.set(r,e),e)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fv.type="NONE";const s0=Fv;function kc(r,e,i){return`firebase:${r}:${e}:${i}`}class il{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new il(gs(s0),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gs(s0);const d=kc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await Yc(e,{idToken:E}).catch(()=>{});if(!M)break;w=await oi._fromGetAccountInfoResponse(e,M,E)}else w=oi._fromJSON(e,E);y!==c&&(p=w),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new il(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new il(c,e,a))}}function r0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=ln()){return/firefox\//i.test(r)}function Yv(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(r=ln()){return/crios\//i.test(r)}function Xv(r=ln()){return/iemobile/i.test(r)}function $v(r=ln()){return/android/i.test(r)}function Zv(r=ln()){return/blackberry/i.test(r)}function Jv(r=ln()){return/webos/i.test(r)}function Dm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zA(r=ln()){return Dm(r)&&!!window.navigator?.standalone}function jA(){return tS()&&document.documentMode===10}function Wv(r=ln()){return Dm(r)||$v(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function e1(r,e=[]){let i;switch(r){case"Browser":i=r0(ln());break;case"Worker":i=`${r0(ln())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${pl}/${a}`}class BA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qA(r,e={}){return yl(r,"GET","/v2/passwordPolicy",Fo(r,e))}const HA=6;class GA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class FA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(ps(this));const i=e?cn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qA(this),i=new GA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await PA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qo(r){return cn(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(r){Om=r}function YA(r){return Om.loadJS(r)}function KA(){return Om.gapiScript}function XA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $A(r,e){const i=Rm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(gr(c,e??{}))return o;_s(o,"already-initialized")}return i.initialize({options:e})}function ZA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function JA(r,e,i){const a=Qo(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=t1(e),{host:d,port:p}=WA(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(gr(y,a.config.emulator)&&gr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,gl(d)?(Nv(`${c}//${d}${_}`),Dv("Auth",!0)):e2()}function t1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WA(r){const e=t1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:l0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:l0(d)}}}function l0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function e2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class n1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function sl(r,e){return xm(r,"POST","/v1/accounts:signInWithIdp",Fo(r,e))}const t2="http://localhost";class sa extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new sa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return sl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,sl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,sl(e,i)}buildRequest(){const e={requestUri:t2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ho(i)}return e}}class i1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yo extends i1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends Yo{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends Yo{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends Yo{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function n2(r,e){return xm(r,"POST","/v1/accounts:signUp",Fo(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await oi._fromIdTokenResponse(e,a,o),d=o0(a);return new Ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=o0(a);return new Ts({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function i2(r){if(Yn(r.app))return Promise.reject(ps(r));const e=Qo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await n2(e,{returnSecureToken:!0}),a=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Xc extends Ss{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Xc(e,i,a,o)}}function s1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,e,a):c})}async function s2(r,e,i=!1){const a=await ko(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",a)}async function r2(r,e,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const c=await ko(r,s1(a,o,e,r),i);Ee(c.idToken,a,"internal-error");const d=Nm(c.idToken);Ee(d,a,"internal-error");const{sub:p}=d;return Ee(r.uid===p,a,"user-mismatch"),Ts._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_s(a,"user-mismatch"),c}}async function a2(r,e,i=!1){if(Yn(r.app))return Promise.reject(ps(r));const a="signIn",o=await s1(r,a,e),c=await Ts._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function l2(r,e){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Fo(r,e))}async function o2(r,e){if(Yn(r.app))return Promise.reject(ps(r));const i=Qo(r),a=await l2(i,{token:e,returnSecureToken:!0}),o=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function u2(r,e,i,a){return cn(r).onIdTokenChanged(e,i,a)}function c2(r,e,i){return cn(r).beforeAuthStateChanged(e,i)}function h2(r,e,i,a){return cn(r).onAuthStateChanged(e,i,a)}const $c="__sak";class r1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const f2=1e3,d2=10;class a1 extends r1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,d2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const m2=a1;class l1 extends r1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}l1.type="SESSION";const o1=l1;function g2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await g2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Mm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Mm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function y2(r){ji().location.href=r}function u1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function _2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){return navigator?.serviceWorker?.controller||null}function T2(){return u1()?self:null}const c1="firebaseLocalStorageDb",E2=1,Zc="firebaseLocalStorage",h1="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function b2(){const r=indexedDB.deleteDatabase(c1);return new Ko(r).toPromise()}function im(){const r=indexedDB.open(c1,E2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Zc,{keyPath:h1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Zc)?e(a):(a.close(),await b2(),e(await im()))})})}async function u0(r,e,i){const a=dh(r,!0).put({[h1]:e,value:i});return new Ko(a).toPromise()}async function S2(r,e){const i=dh(r,!1).get(e),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function c0(r,e){const i=dh(r,!0).delete(e);return new Ko(i).toPromise()}const A2=800,w2=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>w2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await u0(e,$c,"1"),await c0(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>S2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const R2=f1;new Go(3e4,6e4);function C2(r,e){return e?gs(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vm extends n1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return sl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function I2(r){return a2(r.auth,new Vm(r),r.bypassAuthState)}function x2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),r2(i,new Vm(r),r.bypassAuthState)}async function N2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),s2(i,new Vm(r),r.bypassAuthState)}class d1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:_s(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D2=new Go(2e3,1e4);class tl extends d1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D2.get())};e()}}tl.currentPopupAction=null;const O2="pendingRedirect",Uc=new Map;class M2 extends d1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const a=await V2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V2(r,e){const i=L2(e),a=U2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function k2(r,e){Uc.set(r._key(),e)}function U2(r){return gs(r._redirectPersistence)}function L2(r){return kc(O2,r.config.apiKey,r.name)}async function P2(r,e,i=!1){if(Yn(r.app))return Promise.reject(ps(r));const a=Qo(r),o=C2(a,e),d=await new M2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const z2=600*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!m1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function m1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function B2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(r);default:return!1}}async function q2(r,e={}){return yl(r,"GET","/v1/projects",e)}const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function F2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await q2(r);for(const i of e)try{if(Q2(i))return}catch{}_s(r,"unauthorized-domain")}function Q2(r){const e=tm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!G2.test(i))return!1;if(H2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Y2=new Go(3e4,6e4);function f0(){const r=ji().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function K2(r){return new Promise((e,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(zi(r,"network-request-failed"))},timeout:Y2.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const o=XA("iframefcb");return ji()[o]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},YA(`${KA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function X2(r){return Lc=Lc||K2(r),Lc}const $2=new Go(5e3,15e3),Z2="__/auth/iframe",J2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ew=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tw(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Im(e,J2):`https://${r.config.authDomain}/${Z2}`,a={apiKey:e.apiKey,appName:r.name,v:pl},o=ew.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ho(a).slice(1)}`}async function nw(r){const e=await X2(r),i=ji().gapi;return Ee(i,r,"internal-error"),e.open({where:document.body,url:tw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},$2.get());function _(){ji().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sw=500,rw=600,aw="_blank",lw="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ow(r,e,i,a=sw,o=rw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...iw,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(p=Kv(y)?aw:i),Qv(y)&&(e=e||lw,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[H,J])=>`${M}${H}=${J},`,"");if(zA(y)&&p!=="_self")return uw(e||"",p),new d0(null);const w=window.open(e||"",p,E);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function uw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const cw="__/auth/handler",hw="emulator/auth/handler",fw=encodeURIComponent("fac");async function m0(r,e,i,a,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:pl,eventId:o};if(e instanceof i1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",oS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof Yo){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await r._getAppCheckToken(),y=_?`#${fw}=${encodeURIComponent(_)}`:"";return`${dw(r)}?${Ho(p).slice(1)}${y}`}function dw({config:r}){return r.emulator?Im(r,hw):`https://${r.authDomain}/${cw}`}const qd="webStorageSupport";class mw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=P2,this._overrideRedirectResult=k2}async _openPopup(e,i,a,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(e,i,a,tm(),o);return ow(e,c,Mm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await m0(e,i,a,tm(),o);return y2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await nw(e),a=new j2(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},o=>{const c=o?.[0]?.[qd];c!==void 0&&i(!!c),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=F2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Yv()||Dm()}}const gw=mw;var g0="@firebase/auth",p0="1.11.1";class pw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _w(r){ll(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e1(r)},y=new FA(a,o,c,_);return ZA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ll(new ia("auth-internal",e=>{const i=Qo(e.getProvider("auth").getImmediate());return(a=>new pw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(g0,p0,yw(r)),fr(g0,p0,"esm2020")}const vw=300,Tw=xv("authIdTokenMaxAge")||vw;let y0=null;const Ew=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Tw)return;const o=i?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bw(r=kv()){const e=Rm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=$A(r,{popupRedirectResolver:gw,persistence:[R2,m2,o1]}),a=xv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ew(c.toString());c2(i,d,()=>d(i.currentUser)),u2(i,p=>d(p))}}const o=Cv("auth");return o&&JA(i,`http://${o}`),i}function Sw(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=zi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Sw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_w("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,g1;(function(){var r;function e(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,N,U){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],N=x.g[2];let U=x.g[3],R;R=A+(U^C&(N^U))+V[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(U^C&(N^U))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(N^A&(C^N))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(C^U&(A^C))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(A^N&(U^A))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(N^U&(C^N))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(C^N))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(A^C))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(U^A))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(N^U))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(C^N^U)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^U)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^N)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^C)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^A)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(N^(C|~U))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~U))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~N))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~C))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[N++]=x.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=x[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[A++]=this.g[C]>>>V&255;return x};function c(x,A){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function d(x,A){this.h=A;const C=[];let V=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;V&&U==A||(C[N]=U,V=!1)}this.g=C}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return Z(y(-x));const A=[];let C=1;for(let V=0;x>=C;V++)A[V]=x/C|0,C*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Z(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=w;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var w=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(ee(this))return-Z(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(ee(this))return"-"+Z(this).toString(x);const A=y(Math.pow(x,6));var C=this;let V="";for(;;){const N=xe(C,A).g;C=fe(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,J(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function ee(x){return x.h==-1}r.l=function(x){return x=fe(this,x),ee(x)?-1:J(x)?0:1};function Z(x){const A=x.g.length,C=[];for(let V=0;V<A;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}r.abs=function(){return ee(this)?Z(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(x.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function fe(x,A){return x.add(Z(A))}r.j=function(x){if(J(this)||J(x))return w;if(ee(this))return ee(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(ee(x))return Z(this.j(Z(x)));if(this.l(H)<0&&x.l(H)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,at=x.i(N)>>>16,dt=x.i(N)&65535;C[2*V+2*N]+=R*dt,ge(C,2*V+2*N),C[2*V+2*N+1]+=U*dt,ge(C,2*V+2*N+1),C[2*V+2*N+1]+=R*at,ge(C,2*V+2*N+1),C[2*V+2*N+2]+=U*at,ge(C,2*V+2*N+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new d(C,0)};function ge(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function pe(x,A){this.g=x,this.h=A}function xe(x,A){if(J(A))throw Error("division by zero");if(J(x))return new pe(w,w);if(ee(x))return A=xe(Z(x),A),new pe(Z(A.g),Z(A.h));if(ee(A))return A=xe(x,Z(A)),new pe(Z(A.g),A.h);if(x.g.length>30){if(ee(x)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(x)<=0;)C=Ke(C),V=Ke(V);var N=Re(C,1),U=Re(V,1);for(V=Re(V,2),C=Re(C,2);!J(V);){var R=U.add(V);R.l(x)<=0&&(N=N.add(C),U=R),V=Re(V,1),C=Re(C,1)}return A=fe(x,N.j(A)),new pe(N,A)}for(N=w;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),R=U.j(A);ee(R)||R.l(x)>0;)C-=V,U=y(C),R=U.j(A);J(U)&&(U=M),N=N.add(U),x=fe(x,R)}return new pe(N,x)}r.B=function(x){return xe(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function Ke(x){const A=x.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Re(x,A){const C=A>>5;A%=32;const V=x.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=A>0?x.i(U+C)>>>A|x.i(U+C+1)<<32-A:x.i(U+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,g1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,dr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,Ao,y1,Pc,sm,_1,v1,T1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return m.prototype[L].apply(b,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const b=pe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new ee(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Re=!1,x=new ge,A=()=>{const u=Promise.resolve(void 0);Ke=()=>{u.then(C)}};function C(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(at,N),at.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=be(u,m,b,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new te(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function be(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),_t={};function ut(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],v,b,L);return null}return v=le(v),u&&u[dt]?u.J(m,v,p(b)?!!b.capture:!1,L):hi(u,m,v,!1,b,L)}function hi(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Ce=$e(u);if(Ce||(u[Ve]=Ce=new ie(u)),v=Ce.add(m,v,b,W,B),v.proxy)return v;if(b=As(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ce(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function As(){function u(v){return m.call(u.src,u.listener,v)}const m=ye;return u}function fi(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)fi(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=le(v),u&&u[dt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=be(m,v,b,L),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$e(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,v,b,L)),(v=u>-1?m[u]:null)&&de(v))}function de(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])ve(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ce(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=$e(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ve]=null)):ue(u)}}}function ce(u){return u in _t?_t[u]:_t[u]="on"+u}function ye(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&de(u),u=v.call(b,m)}return u}function $e(u){return u=u[Ve],u instanceof ie?u:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function le(u){return typeof u=="function"?u:(u[Bt]||(u[Bt]=function(m){return u.handleEvent(m)}),u[Bt])}function De(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}w(De,V),De.prototype[dt]=!0,De.prototype.removeEventListener=function(u,m,v,b){fi(this,u,m,v,b)};function tt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),ne(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=Qt(B,b,!0,m)&&L;if(B=m.g=u,L=Qt(B,b,!0,m)&&L,L=Qt(B,b,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=Qt(B,b,!1,m)&&L}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ue(v[b]);delete u.g[m],u.h--}}this.G=null},De.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},De.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Qt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Ce=W.listener,St=W.ha||W.src;W.fa&&ve(u.i,W),L=Ce.call(St,b)!==!1&&L}}return L&&!b.defaultPrevented}function di(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xn(u){u.g=di(()=>{u.g=null,u.i&&(u.i=!1,Xn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(u){V.call(this),this.h=u,this.g={}}w(Mn,V);var ws=[];function mi(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&de(m)},u),u.g={}}Mn.prototype.N=function(){Mn.Z.N.call(this),mi(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=d.JSON.stringify,Rs=d.JSON.parse,Yi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bn(){}function tu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){N.call(this,"d")}w(Yt,N);function Vn(){N.call(this,"c")}w(Vn,N);var bt={},nu=null;function ca(){return nu=nu||new De}bt.Ia="serverreachability";function iu(u){N.call(this,bt.Ia,u)}w(iu,N);function gi(u){const m=ca();tt(m,new iu(m))}bt.STAT_EVENT="statevent";function Ar(u,m){N.call(this,bt.STAT_EVENT,u),this.stat=m}w(Ar,N);function Ct(u){const m=ca();tt(m,new Ar(m,u))}bt.Ja="timingevent";function pi(u,m){N.call(this,bt.Ja,u),this.size=m}w(pi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var W="",Ce=B.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var St=Ce[Qe].split("=");if(St.length>1){const mt=St[0];St=St[1];const Pn=mt.split("_");W=Pn.length>=2&&Pn[1]=="type"?W+(mt+"="+St+"&"):W+(mt+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,b,L,B,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return En(B)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Cr(){}w(Cr,bn),Cr.prototype.g=function(){return new XMLHttpRequest},Sl=new Cr;function Ki(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var It={},qt={};function vi(u,m,v){u.M=1,u.A=Ir(Nt(m)),u.u=v,u.R=!0,ha(u,null)}function ha(u,m){u.F=Date.now(),Ti(u),u.B=Nt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ga(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new vt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ws[0]=L.toString()),L=ws);for(let B=0;B<L.length;B++){const W=ut(v,L[B],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=ni(this.g),St=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||St==7||(St==8||Qe<=0?gi(3):gi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ct(12),Sn(this),kn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=lu(this,v),mt==qt){Ce==4&&(this.m=4,Ct(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Ct(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,mt,null),bi(this,mt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Pl(W),W.P=!0,Ct(11))}}else _i(this.i,this.l,v,null),bi(this,v);Ce==4&&Sn(this),this.o&&!this.K&&(Ce==4?pu(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Sn(this),kn(this)}}}catch{}finally{}};function kh(u){if(!au(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qt:(v=Number(m.substring(v,b)),isNaN(v)?It:(b+=1,b+v>m.length?qt:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function Ti(u){u.T=Date.now()+u.H,fa(u,u.H)}function fa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(gi(),Ct(17)),Sn(this),this.m=2,kn(this)):fa(this,this.T-u)};function kn(u){u.j.I==0||u.K||pu(u.j,u)}function Sn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Vs(v);else break e;kr(v),Ct(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qe=L[m];const mt=Qe[0];if(!(mt<=v.K))if(v.K=mt,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Pn=Qe[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Di=Qe[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ii=Qe[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const Ur=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=b.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Rl(B,B.h),B.h=null))}if(b.G){const Ea=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,Ze(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var W=u;if(b.na=vu(b,b.L?b.ba:null,b.W),W.L){Cl(b.h,W);var Ce=W,St=b.O;St&&(Ce.H=St),Ce.D&&(Ei(Ce),Ti(Ce)),b.g=W}else mu(b);v.i.length>0&&xi(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Ni(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ni(v,7):Ul(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}gi(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function Al(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Rl(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Al.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,xl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Cs(this,m[4]),this.h=wi(m[5]||"",!0),xl(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xr(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xr(m,ma,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xr(v,v.charAt(0)=="/"?Nl:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xr(v,cu)),u.join("")},An.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Cs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Ce=L[W++];Ce=="."?b&&W==L.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&W==L.length&&B.push("")):(B.push(Ce),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?xl(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new An(u)}function Ht(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xl(u,m,v){m instanceof xs?(u.i=m,pa(u.i,u.l)):(v||(m=xr(m,Is)),u.i=new xs(m,u.l))}function Ze(u,m,v){u.i.set(m,v)}function Ir(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,uu=/[#\?:]/g,Nl=/[#\?]/g,Is=/[#\?@]/g,cu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&da(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=xs.prototype,r.add=function(u,m){fn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){fn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return fn(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Ol(u,m){fn(u);let v=[];if(typeof m=="string")Dl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return fn(this),this.i=null,u=Ns(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ki(v);v=Ol(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ki(v[B])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(hu(this,b),ga(this,L,v))},u)),u.j=m}function ei(u,m){const v=new Zn;if(d.Image){const b=new Image;b.onload=E(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ml(u,m){const v=new Zn,b=new AbortController,L=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ds(){this.g=new Yi}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,bn),Ri.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){De.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Nr,De),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):ti(this),this.readyState==3&&ya(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},r.Na=function(u){this.g&&(this.response=u,Os(this))},r.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return je(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Ln(v),typeof u=="string"?v!=null&&Ki(v):Ze(u,m,v))}function nt(u){De.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,De);var Ci=/^https?$/i,Vl=["POST","PUT"];r=nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Xi(u)}function kl(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),Xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},r.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!Ci.test(W?W.toLowerCase():"")}v=b}if(v)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",kl(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||tt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rs(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ru(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Fe(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ct(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),xi(this)};function Ul(u){if(_a(u),u.I==3){var m=u.V++,v=Nt(u.J);if(Ze(v,"SID",u.M),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),Vr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Ir(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}_u(u)}function Vs(u){u.g&&(Pl(u),u.g.cancel(),u.g=null)}function _a(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!wl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ke||A(),Re||(Ke(),Re=!0),x.add(m,u),u.D=0}}function va(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=du(this,L,m),v=Nt(this.J),Ze(v,"RID",u),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Vr(this,v),B&&(this.R?m="headers="+Ki(Ln(B))+"&"+m:this.u&&Dr(v,this.u,B)),Rl(this.h,L),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",m),Ze(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||wl(this.h)||Ll(this))};function Ll(u,m){var v;m?v=m.l:v=u.V++;const b=Nt(u.J);Ze(b,"SID",u.M),Ze(b,"RID",v),Ze(b,"AID",u.K),Vr(u,b),u.u&&u.o&&Dr(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Rl(u.h,v),vi(v,b,m)}function Vr(u,m){u.H&&je(u.H,function(v,b){Ze(m,b,v)}),u.l&&je({},function(v,b){Ze(m,b,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const St=["count="+v];Ce==-1?v>0?(Ce=L[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Qe=!0;for(let mt=0;mt<v;mt++){var B=L[mt].g;const Pn=L[mt].map;if(B-=Ce,B<0)Ce=Math.max(0,L[mt].g-100),Qe=!1;else try{B="req"+B+"_"||"";try{var W=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Di,ii]of W){let si=ii;p(ii)&&(si=En(ii)),St.push(B+Di+"="+encodeURIComponent(si))}}catch(Di){throw St.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(Pn)}}if(Qe){W=St.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ke||A(),Re||(Ke(),Re=!0),x.add(m,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Vs(this),gu(this))};function Pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Nt(m)),v.u=null,v.R=!0,ha(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Vs(this),kr(this),Ct(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){Ta(u),Pl(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,Cl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ca(),tt(b,new pi(b,v)),xi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&va(u,m)||b==2&&kr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(b,"https"),Ir(b),L?ei(b.toString(),v):Ml(b.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),_u(u),_a(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Il(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var b=v instanceof An?Nt(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),Cs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);b&&Ht(B,b),m&&(B.g=m),L&&Cs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Ze(b,v,m),Ze(b,"VER",u.ka),Vr(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new Ri({ab:v})):new nt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new on(u,m)};function on(u,m){De.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}w(on,De),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ul(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=En(u),u=v);m.i.push(new xt(m.Ya++,u)),m.I==3&&xi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,on.Z.N.call(this)};function bu(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,Yt);function Su(){Vn.call(this),this.status=1}w(Su,Vn);function Zi(u){this.g=u}w(Zi,Eu),Zi.prototype.ra=function(){tt(this.g,"a")},Zi.prototype.qa=function(u){tt(this.g,new bu(u))},Zi.prototype.pa=function(u){tt(this.g,new Su)},Zi.prototype.oa=function(){tt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,T1=function(){return new ks},v1=function(){return ca()},_1=bt,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Pc=Rr,bl.COMPLETE="complete",y1=bl,tu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",De.prototype.listen=De.prototype.J,Ao=tu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,p1=nt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",T0="4.9.2";let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let _l="12.3.0";const ra=new Am("@firebase/firestore");function Za(){return ra.logLevel}function se(r,...e){if(ra.logLevel<=Le.DEBUG){const i=e.map(km);ra.debug(`Firestore (${_l}): ${r}`,...i)}}function Es(r,...e){if(ra.logLevel<=Le.ERROR){const i=e.map(km);ra.error(`Firestore (${_l}): ${r}`,...i)}}function ol(r,...e){if(ra.logLevel<=Le.WARN){const i=e.map(km);ra.warn(`Firestore (${_l}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Te(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,E1(r,a,i)}function E1(r,e,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Xe(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||E1(e,o,a)}function we(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class b1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Rw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new b1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Cw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Iw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Cw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const a=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Nw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Hd(o)===Hd(c)?Pe(o,c):Hd(o)?1:-1}return Pe(r.length,e.length)}const Dw=55296,Ow=57343;function Hd(r){const e=r.charCodeAt(0);return e>=Dw&&e<=Ow}function ul(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const b0="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class pt extends Pi{construct(e,i,a){return new pt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const Mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return Mw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new en([b0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(pt.fromString(e))}static fromName(e){return new me(pt.fromString(e).popFirst(5))}static empty(){return new me(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new pt(e.slice()))}}function Vw(r,e,i){if(!i)throw new oe($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kw(r,e,i,a){if(e===!0&&a===!0)throw new oe($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!me.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ut(r,e){const i={typeString:r};return e&&(i.value=e),i}function Xo(r,e){if(!S1(r))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new oe($.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,w0=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*w0);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<A0)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xo(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function Uw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new pr(o,me.empty(),e)}function Lw(r){return new pr(r.readTime,r.key,Uo)}class pr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(Se.min(),me.empty(),Uo)}static max(){return new pr(Se.max(),me.empty(),Uo)}}function Pw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(r.documentKey,e.documentKey),i!==0?i:Pe(r.largestBatchId,e.largestBatchId))}const zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==zw)throw r;se("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Bw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Tl(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Pm=-1;function gh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function qw(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const A1="";function Hw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=R0(e)),e=Gw(r.get(i),e);return R0(e)}function Gw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case A1:i+="";break;default:i+=c}}return i}function R0(r){return r+A1+""}function C0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function br(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function w1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Wt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let i=new jt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new R1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const i=Fw.exec(r);if(Xe(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const C1="server_timestamp",I1="__type__",x1="__previous_value__",N1="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[I1]?.stringValue===C1}function ph(r){const e=r.mapValue.fields[x1];return zm(e)?ph(e):e}function Lo(r){const e=yr(r.mapValue.fields[N1].timestampValue);return new ft(e.seconds,e.nanos)}class Qw{constructor(e,i,a,o,c,d,p,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const Wc="(default)";class Po{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const D1="__type__",Yw="__max__",Nc={mapValue:{}},O1="__vector__",eh="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Xw(r)?9007199254740991:Kw(r)?10:11:Te(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const i=vr(r);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lo(r).isEqual(Lo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Rt(o.doubleValue),p=Rt(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return ul(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(C0(d)!==C0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Fi(d[_],p[_])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function zo(r,e){return(r.values||[]).find((i=>Fi(i,e)))!==void 0}function cl(r,e){if(r===e)return 0;const i=vr(r),a=vr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Rt(c.integerValue||c.doubleValue),_=Rt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return x0(r.timestampValue,e.timestampValue);case 4:return x0(Lo(r),Lo(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=_r(c),_=_r(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Pe(p[y],_[y]);if(E!==0)return E}return Pe(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(Rt(c.latitude),Rt(d.latitude));return p!==0?p:Pe(Rt(c.longitude),Rt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[eh]?.arrayValue,E=_[eh]?.arrayValue,w=Pe(y?.values?.length||0,E?.values?.length||0);return w!==0?w:N0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const M=rm(_[w],E[w]);if(M!==0)return M;const H=cl(p[_[w]],y[E[w]]);if(H!==0)return H}return Pe(_.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function x0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const i=yr(r),a=yr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function N0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=cl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function hl(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return me.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function zc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Kw(r){return(r?.mapValue?.fields||{})[D1]?.stringValue===O1}function No(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return br(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=No(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=No(r.arrayValue.values[i]);return e}return{...r}}function Xw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Yw}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=No(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){br(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Tn(No(this.value))}}function M1(r){const e=[];return br(r.fields,((i,a)=>{const o=new en([i]);if(jc(a)){const c=M1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new On(e)}class an{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function M0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=cl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function $w(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class V1{}class zt extends V1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Jw(e,i,a):i==="array-contains"?new tR(e,a):i==="in"?new nR(e,a):i==="not-in"?new iR(e,a):i==="array-contains-any"?new sR(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Ww(e,a):new eR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends V1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return k1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(r){return r.op==="and"}function U1(r){return Zw(r)&&k1(r)}function Zw(r){for(const e of r.filters)if(e instanceof Qi)return!1;return!0}function om(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+hl(r.value);if(U1(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function L1(r,e){return r instanceof zt?(function(a,o){return o instanceof zt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(r,e):r instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&L1(d,o.filters[p])),!0):!1})(r,e):void Te(19439)}function P1(r){return r instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${hl(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(P1).join(" ,")+"}"})(r):"Filter"}class Jw extends zt{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ww extends zt{constructor(e,i){super(e,"in",i),this.keys=z1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class eR extends zt{constructor(e,i){super(e,"not-in",i),this.keys=z1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z1(r,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class tR extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&zo(i.arrayValue,this.value)}}class nR extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&zo(this.value.arrayValue,i)}}class iR extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zo(this.value.arrayValue,i)}}class sR extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zo(this.value.arrayValue,a)))}}class rR{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function k0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new rR(r,e,i,a,o,c,d)}function Bm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>hl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>hl(a))).join(",")),e.Te=i}return e.Te}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$w(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!L1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V0(r.startAt,e.startAt)&&V0(r.endAt,e.endAt)}function um(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aR(r,e,i,a,o,c,d,p){return new yh(r,e,i,a,o,c,d,p)}function _h(r){return new yh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lR(r){return r.collectionGroup!==null}function Do(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new jt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new nh(en.keyField(),a))}return e.Ie}function Bi(r){const e=we(r);return e.Ee||(e.Ee=oR(e,Do(r))),e.Ee}function oR(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function cm(r,e,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return qm(Bi(r),Bi(e))&&r.limitType===e.limitType}function j1(r){return`${Bm(Bi(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>P1(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>hl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>hl(o))).join(",")),`Target(${a})`})(Bi(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Do(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Do(a),o)||a.endAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Do(a),o))})(r,e)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B1(r){return(e,i)=>{let a=!1;for(const o of Do(r)){const c=cR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function cR(r,e,i){const a=r.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?cl(_,y):Te(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}const hR=new yt(me.comparator);function bs(){return hR}const q1=new yt(me.comparator);function wo(...r){let e=q1;for(const i of r)e=e.insert(i.key,i);return e}function H1(r){let e=q1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Oo()}function G1(){return Oo()}function Oo(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const fR=new yt(me.comparator),dR=new jt(me.comparator);function ze(...r){let e=dR;for(const i of r)e=e.add(i);return e}const mR=new jt(Pe);function gR(){return mR}function Hm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function F1(r){return{integerValue:""+r}}function pR(r,e){return qw(e)?F1(e):Hm(r,e)}class Eh{constructor(){this._=void 0}}function yR(r,e,i){return r instanceof ih?(function(o,c){const d={fields:{[I1]:{stringValue:C1},[N1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=ph(c)),c&&(d.fields[x1]=c),{mapValue:d}})(i,e):r instanceof fl?Y1(r,e):r instanceof jo?K1(r,e):(function(o,c){const d=Q1(o,c),p=L0(d)+L0(o.Ae);return lm(d)&&lm(o.Ae)?F1(p):Hm(o.serializer,p)})(r,e)}function _R(r,e,i){return r instanceof fl?Y1(r,e):r instanceof jo?K1(r,e):i}function Q1(r,e){return r instanceof sh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ih extends Eh{}class fl extends Eh{constructor(e){super(),this.elements=e}}function Y1(r,e){const i=X1(e);for(const a of r.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class jo extends Eh{constructor(e){super(),this.elements=e}}function K1(r,e){let i=X1(e);for(const a of r.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function L0(r){return Rt(r.integerValue||r.doubleValue)}function X1(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class vR{constructor(e,i){this.field=e,this.transform=i}}function TR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof fl&&o instanceof fl||a instanceof jo&&o instanceof jo?ul(a.elements,o.elements,Fi):a instanceof sh&&o instanceof sh?Fi(a.Ae,o.Ae):a instanceof ih&&o instanceof ih})(r.transform,e.transform)}class ER{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function $1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gm(r.key,ci.none()):new $o(r.key,r.data,ci.none());{const i=r.data,a=Tn.empty();let o=new jt(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sr(r.key,a,new On(o.toArray()),ci.none())}}function bR(r,e,i){r instanceof $o?(function(o,c,d){const p=o.value.clone(),_=z0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Sr?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=z0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Z1(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Mo(r,e,i,a){return r instanceof $o?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),E=j0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof Sr?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=j0(c.fieldTransforms,_,d),E=d.data;return E.setAll(Z1(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function SR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Q1(a.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function P0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ul(a,o,((c,d)=>TR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $o extends bh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends bh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function z0(r,e,i){const a=new Map;Xe(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,_R(d,p,i[o]))}return a}function j0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,yR(c,d,e))}return a}class Gm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&bR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Mo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Mo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=G1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=$1(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((i,a)=>P0(i,a)))&&ul(this.baseMutations,e.baseMutations,((i,a)=>P0(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return fR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class RR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CR{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,qe;function IR(r){switch(r){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function J1(r){if(r===void 0)return Es("GRPC error has no .code"),$.UNKNOWN;switch(r){case kt.OK:return $.OK;case kt.CANCELLED:return $.CANCELLED;case kt.UNKNOWN:return $.UNKNOWN;case kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case kt.INTERNAL:return $.INTERNAL;case kt.UNAVAILABLE:return $.UNAVAILABLE;case kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case kt.NOT_FOUND:return $.NOT_FOUND;case kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case kt.ABORTED:return $.ABORTED;case kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case kt.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:r})}}(qe=kt||(kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function xR(){return new TextEncoder}const NR=new dr([4294967295,4294967295],0);function B0(r){const e=xR().encode(r),i=new g1;return i.update(e),new Uint8Array(i.digest())}function q0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([o,c],0)]}class Qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(a<0)throw new Ro(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(dr.fromNumber(a)));return o.compare(NR)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B0(e),[a,o]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=B0(e),[a,o]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(Se.min(),o,new yt(Pe),bs(),ze())}}class Zo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zo(a,i,ze(),ze(),ze())}}class qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class W1{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class H0{constructor(){this.ve=0,this.Fe=G0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new Zo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Dc(),this.He=Dc(),this.Ye=new yt(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(um(c))if(a===0){const d=new me(c.path);this.et(i,d,an.newNoDocument(d,Se.min()))}else Xe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof R1)return ol("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Qm(d,o,c)}catch(_){return ol(_ instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const _=new me(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,a);return this.je=bs(),this.Je=Dc(),this.He=Dc(),this.Ye=new yt(Pe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new H0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new jt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new jt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new yt(me.comparator)}function G0(){return new yt(me.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class kR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UR(r,e){return rh(r,e.toTimestamp())}function qi(r){return Xe(!!r,49232),Se.fromTimestamp((function(i){const a=yr(i);return new ft(a.seconds,a.nanos)})(r))}function Ym(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function nT(r){const e=pt.fromString(r);return Xe(lT(e),10190,{key:e.toString()}),e}function dm(r,e){return Ym(r.databaseId,e.path)}function Gd(r,e){const i=nT(e);if(i.get(1)!==r.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new me(sT(i))}function iT(r,e){return Ym(r.databaseId,e)}function LR(r){const e=nT(r);return e.length===4?pt.emptyPath():sT(e)}function mm(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function PR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?$.UNKNOWN:J1(y.code);return new oe(E,y.message||"")})(d);i=new eT(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):Se.min(),p=new Tn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new qc(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?qi(a.readTime):Se.min(),d=an.newNoDocument(o,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new CR(o,c),p=a.targetId;i=new W1(p,d)}}return i}function zR(r,e){let i;if(e instanceof $o)i={update:F0(r,e.key,e.value)};else if(e instanceof Gm)i={delete:dm(r,e.key)};else if(e instanceof Sr)i={update:F0(r,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof AR))return Te(16599,{Vt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:UR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),i}function jR(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(Se.min())&&(d=qi(c)),new ER(d,o.transformResults||[])})(i,e)))):[]}function BR(r,e){return{documents:[iT(r,e.path)]}}function qR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,o);const c=(function(y){if(y.length!==0)return aT(Qi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:Wa(M.field),direction:FR(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function HR(r){let e=LR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Xe(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=rT(w);return M instanceof Qi&&U1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new nh(el(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,gh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,H=w.values||[];return new th(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,H=w.values||[];return new th(H,M)})(i.endAt)),aR(e,o,d,c,p,"F",_,y)}function GR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=el(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=el(i.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(i){return zt.create(el(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>rT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(r):Te(30097,{filter:r})}function FR(r){return OR[r]}function QR(r){return MR[r]}function YR(r){return VR[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function el(r){return en.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof zt?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:QR(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const a=i.getFilters().map((o=>aT(o)));return a.length===1?a[0]:{compositeFilter:{op:YR(i.op),filters:a}}})(r):Te(54877,{filter:r})}function KR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ur{constructor(e,i,a,o,c=Se.min(),d=Se.min(),p=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XR{constructor(e){this.yt=e}}function $R(r){const e=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}class ZR{constructor(){this.Cn=new JR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(pr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class JR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new jt(pt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(pt.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(oT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}const Y0="LruGarbageCollector",WR=1048576;function K0([r,e],[i,a]){const o=Pe(r,i);return o===0?Pe(e,a):o}class eC{constructor(e){this.Ir=e,this.buffer=new jt(K0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();K0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(Y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Tl(i)?se(Y0,"Ignoring IndexedDB error during garbage collection: ",i):await vl(i)}await this.Vr(3e5)}))}}class nC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(mh.ce);const a=new eC(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Za()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function iC(r,e){return new nC(r,e)}class sC{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class aC{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Mo(a.mutation,o,On.empty(),ft.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=wo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=bs();const d=Oo(),p=(function(){return Oo()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Sr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Mo(E.mutation,y,E.mutation.getFieldMask(),ft.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new rC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Oo();let o=new yt(((d,p)=>d-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||On.empty();E=p.applyToLocalView(y,E),a.set(_,E);const w=(o.get(p.batchId)||ze()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,w=G1();E.forEach((M=>{if(!c.has(M)){const H=$1(i.get(M),a.get(M));H!==null&&w.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):lR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ta());let p=Uo,_=c;return d.next((y=>X.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,ze()))).next((E=>({batchId:p,changes:H1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let o=wo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=wo();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new yh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let p=wo();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Mo(E.mutation,y,On.empty(),ft.now()),Th(i,y)&&(p=p.insert(_,y))})),p}))}}class lC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:$R(o.bundledQuery),readTime:qi(o.readTime)}})(i)),X.resolve()}}class oC{constructor(){this.overlays=new yt(me.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ta(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new yt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ta(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ta(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RR(i,a));let c=this.qr.get(i);c===void 0&&(c=ze(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class uC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Km{constructor(){this.Qr=new jt(Ft.$r),this.Ur=new jt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ft(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new me(new pt([])),a=new Ft(i,e),o=new Ft(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new me(new pt([])),a=new Ft(i,e),o=new Ft(i,e+1);let c=ze();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return me.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||me.comparator(e.key,i.key)}}class cC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Ft.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new jt(Pe);return i.forEach((o=>{const c=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new me(c),0);let p=new jt(Pe);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Xe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ft(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ft(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hC{constructor(e){this.ri=e,this.docs=(function(){return new yt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=bs();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Pw(Lw(E),a)<=0||(o.has(E.key)||Th(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new fC(this)}getSize(e){return X.resolve(this.size)}}class fC extends sC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class dC{constructor(e){this.persistence=e,this.si=new oa((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new dl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class uT{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new uC,this.referenceDelegate=e(this),this.Pi=new dC(this),this.indexManager=new ZR,this.remoteDocumentCache=(function(o){return new hC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new XR(i),this.Ii=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new oC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new cC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){se("MemoryPersistence","Starting transaction:",e);const o=new mC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class mC extends jw{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Km,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=me.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.pi=new oa((a=>Hw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=iC(this,i)}static mi(e,i){return new ah(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $m{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $m(e,i.fromCache,a,o)}}class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nS()?8:Bw(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Za()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Za()<=Le.DEBUG&&se("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Za()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):X.resolve())}ys(e,i){if(U0(i))return X.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,cm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return U0(i)||o.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Za()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(i)),this.vs(e,d,i,Uw(o,Uo)).next((p=>p)))}))}Ds(e,i){let a=new jt(B1(e));return i.forEach(((o,c)=>{Th(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Za()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,pr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",yC=3e8;class _C{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new yt(Pe),this.xs=new oa((c=>Bm(c)),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function vC(r,e,i,a){return new _C(r,e,i,a)}async function cT(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=ze();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function TC(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const w=y.batch,M=w.keys();let H=X.resolve();return M.forEach((J=>{H=H.next((()=>E.getEntry(_,J))).next((ee=>{const Z=y.docVersions.get(J);Xe(Z!==null,48541),ee.version.compareTo(Z)<0&&(w.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),E.addEntry(ee)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function hT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function EC(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let H=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),o=o.insert(w,H),(function(ee,Z,fe){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=yC?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(M,H,E)&&p.push(i.Pi.updateTargetData(c,H))}));let _=bs(),y=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(bC(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(Se.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function bC(r,e,i){let a=ze(),o=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):se(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function SC(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function AC(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function gm(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tl(d))throw d;se(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function X0(r,e,i){const a=we(r);let o=Se.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const w=we(_),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Bi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:ze()))).next((p=>(wC(a,uR(e),p),{documents:p,Qs:c})))))}function wC(r,e,i){let a=r.Os.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class $0{constructor(){this.activeTargetIds=gR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CC{Oo(e){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function pm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Fd="RestConnection",IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=pm(),p=this.zo(e,i.toUriEncodedString());se(Fd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),E=gl(y);return this.Jo(e,p,_,a,E).then((w=>(se(Fd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ol(Fd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=IC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class NC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class DC extends xC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=pm();return new Promise(((p,_)=>{const y=new p1;y.setWithCredentials(!0),y.listenOnce(y1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();se(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Pc.TIMEOUT:se(sn,`RPC '${e}' ${d} timed out`),_(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=y.getStatus();if(se(sn,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const ee=(function(fe){const ge=fe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN})(J.status);_(new oe(ee,J.message))}else _(new oe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new oe($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{se(sn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);se(sn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T1(),p=v1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");se(sn,`Creating RPC '${e}' stream ${o}: ${E}`,_);const w=d.createWebChannel(E,_);this.I_(w);let M=!1,H=!1;const J=new NC({Yo:Z=>{H?se(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(M||(se(sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),se(sn,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),ee=(Z,fe,ge)=>{Z.listen(fe,(pe=>{try{ge(pe)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return ee(w,Ao.EventType.OPEN,(()=>{H||(se(sn,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ee(w,Ao.EventType.CLOSE,(()=>{H||(H=!0,se(sn,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(w))})),ee(w,Ao.EventType.ERROR,(Z=>{H||(H=!0,ol(sn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),ee(w,Ao.EventType.MESSAGE,(Z=>{if(!H){const fe=Z.data[0];Xe(!!fe,16349);const ge=fe,pe=ge?.error||ge[0]?.error;if(pe){se(sn,`RPC '${e}' stream ${o} received error:`,pe);const xe=pe.status;let Ke=(function(A){const C=kt[A];if(C!==void 0)return J1(C)})(xe),Re=pe.message;Ke===void 0&&(Ke=$.INTERNAL,Re="Unknown error status: "+xe+" with message "+pe.message),H=!0,J.a_(new oe(Ke,Re)),w.close()}else se(sn,`RPC '${e}' stream ${o} received:`,fe),J.u_(fe)}})),ee(p,_1.STAT_EVENT,(Z=>{Z.stat===sm.PROXY?se(sn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===sm.NOPROXY&&se(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}function Ah(r){return new kR(r,!0)}class fT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class dT{constructor(e,i,a,o,c,d,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OC extends dT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=PR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?qi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=um(_)?{documents:BR(c,_)}:{query:qR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=GR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.q_(i)}}class MC extends dT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=jR(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>zR(this.serializer,a)))};this.q_(i)}}class VC{}class kC extends VC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,fm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class LC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ua(this)&&(se(aa,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await Jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new UC(a,o)}}async function wh(r){if(ua(r))for(const e of r.da)await e(!0)}async function Jo(r){for(const e of r.da)await e(!1)}function mT(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tg(i)?eg(i):El(i).O_()&&Wm(i,e))}function Jm(r,e){const i=we(r),a=El(i);i.Ia.delete(e),a.O_()&&gT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ua(i)&&i.Ra.set("Unknown"))}function Wm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}El(r).Y_(e)}function gT(r,e){r.Va.Ue(e),El(r).Z_(e)}function eg(r){r.Va=new DR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Ra.ua()}function tg(r){return ua(r)&&!El(r).x_()&&r.Ia.size>0}function ua(r){return we(r).Ea.size===0}function pT(r){r.Va=void 0}async function PC(r){r.Ra.set("Online")}async function zC(r){r.Ia.forEach(((e,i)=>{Wm(r,e)}))}async function jC(r,e){pT(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function BC(r,e,i){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){se(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(r,a)}else if(e instanceof qc?r.Va.Ze(e):e instanceof W1?r.Va.st(e):r.Va.tt(e),!i.isEqual(Se.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),gT(c,_);const w=new ur(E.target,_,y,E.sequenceNumber);Wm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){se(aa,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,e,i){if(!Tl(e))throw e;r.Ea.add(1),await Jo(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function yT(r,e){return e().catch((i=>lh(r,i,e)))}async function Rh(r){const e=we(r),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;qC(e);)try{const o=await SC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,HC(e,o)}catch(o){await lh(e,o)}_T(e)&&vT(e)}function qC(r){return ua(r)&&r.Ta.length<10}function HC(r,e){r.Ta.push(e);const i=Tr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _T(r){return ua(r)&&!Tr(r).x_()&&r.Ta.length>0}function vT(r){Tr(r).start()}async function GC(r){Tr(r).ra()}async function FC(r){const e=Tr(r);for(const i of r.Ta)e.ea(i.mutations)}async function QC(r,e,i){const a=r.Ta.shift(),o=Fm.from(a,e,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function YC(r,e){e&&Tr(r).X_&&await(async function(a,o){if((function(d){return IR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Tr(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(r,e),_T(r)&&vT(r)}async function ev(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),se(aa,"RemoteStore received new credentials");const a=ua(i);i.Ea.add(3),await Jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function KC(r,e){const i=we(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Jo(i),i.Ra.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PC.bind(null,r),t_:zC.bind(null,r),r_:jC.bind(null,r),H_:BC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),pT(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new MC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GC.bind(null,r),r_:YC.bind(null,r),ta:FC.bind(null,r),na:QC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new ng(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(Es("AsyncQueue",`${e}: ${r}`),Tl(r))return new oe($.UNAVAILABLE,`${e}: ${r}`);throw r}class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=wo(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new rl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new yt(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ml{constructor(e,i,a,o,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ml(e,i,rl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class XC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $C{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=nv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function nv(){return new oa((r=>j1(r)),vh)}async function TT(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new XC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ig(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sg(i)}async function ET(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ZC(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&sg(i)}function JC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function sg(r){r.Ca.forEach((e=>{e.next()}))}var ym,iv;(iv=ym||(ym={})).Ma="default",iv.Cache="cache";class bT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ml(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class ST{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class WC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=B1(e),this.tu=new rl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new tv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const M=o.get(E),H=Th(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;M&&H?M.data.isEqual(H.data)?J!==ee&&(a.track({type:3,doc:H}),Z=!0):this.su(M,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),Z=!0):M&&!H&&(a.track({type:1,doc:M}),Z=!0,(_||y)&&(p=!0)),Z&&(H?(d=d.add(H),c=ee?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(H,J){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:Z})}};return ee(H)-ee(J)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ml(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new ST(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class eI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class tI{constructor(e){this.key=e,this.hu=!1}}class nI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>j1(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(me.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iI(r,e,i=!0){const a=NT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await wT(a,e,i,!0),o}async function sI(r,e){const i=NT(r);await wT(i,e,!0,!1)}async function wT(r,e,i,a){const o=await AC(r.localStore,Bi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await rI(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,o),p}async function rI(r,e,i,a,o){r.pu=(w,M,H)=>(async function(ee,Z,fe,ge){let pe=Z.view.ru(fe);pe.Cs&&(pe=await X0(ee.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,pe))));const xe=ge&&ge.targetChanges.get(Z.targetId),Ke=ge&&ge.targetMismatches.get(Z.targetId)!=null,Re=Z.view.applyChanges(pe,ee.isPrimaryClient,xe,Ke);return rv(ee,Z.targetId,Re.au),Re.snapshot})(r,w,M,H);const c=await X0(r.localStore,e,!0),d=new WC(e,c.Qs),p=d.ru(c.documents),_=Zo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,_);rv(r,i,y.au);const E=new eI(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function aI(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),_m(a,o.targetId)})).catch(vl)):(_m(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function lI(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function oI(r,e,i){const a=gI(r);try{const o=await(function(d,p){const _=we(d),y=ft.now(),E=p.reduce(((H,J)=>H.add(J.key)),ze());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=bs(),ee=ze();return _.Ns.getEntries(H,E).next((Z=>{J=Z,J.forEach(((fe,ge)=>{ge.isValidDocument()||(ee=ee.add(fe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next((Z=>{w=Z;const fe=[];for(const ge of p){const pe=SR(ge,w.get(ge.key).overlayedDocument);pe!=null&&fe.push(new Sr(ge.key,pe,M1(pe.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,fe,p)})).next((Z=>{M=Z;const fe=Z.applyToLocalDocumentSet(w,ee);return _.documentOverlayCache.saveOverlays(H,Z.batchId,fe)}))})).then((()=>({batchId:M.batchId,changes:H1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new yt(Pe)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Wo(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=ig(o,"Failed to persist write");i.reject(c)}}async function RT(r,e){const i=we(r);try{const a=await EC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xe(d.hu,14607):o.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await Wo(i,a,e)}catch(a){await vl(a)}}function sv(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=we(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&sg(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function uI(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new yt(me.comparator);d=d.insert(c,an.newNoDocument(c,Se.min()));const p=ze().add(c),_=new Sh(Se.min(),new Map,new yt(Pe),d,p);await RT(a,_),a.du=a.du.remove(c),a.Au.delete(e),ag(a)}else await gm(a.localStore,e,!1).then((()=>_m(a,e,i))).catch(vl)}async function cI(r,e){const i=we(r),a=e.batch.batchId;try{const o=await TC(i.localStore,e);IT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wo(i,o)}catch(o){await vl(o)}}async function hI(r,e,i){const a=we(r);try{const o=await(function(d,p){const _=we(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Xe(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);IT(a,e,i),CT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wo(a,o)}catch(o){await vl(o)}}function CT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function IT(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||xT(r,a)}))}function xT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ag(r))}function rv(r,e,i){for(const a of i)a instanceof ST?(r.Ru.addReference(a.key,e),fI(r,a)):a instanceof AT?(se(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||xT(r,a.key)):Te(19791,{wu:a})}function fI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(se(rg,"New document in limbo: "+i),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new me(pt.fromString(e)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new ur(Bi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Wo(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=$m.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const E=we(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(H=>E.persistence.referenceDelegate.addReference(w,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>E.persistence.referenceDelegate.removeReference(w,M.targetId,H)))))))))}catch(w){if(!Tl(w))throw w;se(Zm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const H=E.Ms.get(M),J=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ee)}}})(a.localStore,c))}async function dI(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){se(rg,"User change. New user:",e.toKey());const a=await cT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new oe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wo(i,a.Ls)}}function mI(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function NT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.Pu.H_=ZC.bind(null,e.eventManager),e.Pu.yu=JC.bind(null,e.eventManager),e}function gI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return vC(this.persistence,new pC,e.initialUser,this.serializer)}Cu(e){return new uT(Xm.mi,this.serializer)}Du(e){return new RC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class pI extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new uT((a=>ah.mi(a,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $C})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new DC(c)})(e.databaseInfo);return(function(c,d,p,_){return new kC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new LC(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new CC})())}createSyncEngine(e,i){return(function(o,c,d,p,_,y,E){const w=new nI(o,c,d,p,_,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);se(aa,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class DT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class yI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{se(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(se(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yd(r,e){r.asyncQueue.verifyOperationInProgress(),se(Er,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await cT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function av(r,e){r.asyncQueue.verifyOperationInProgress();const i=await _I(r);se(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>ev(e.remoteStore,o))),r._onlineComponents=e}async function _I(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Er,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new oh)}}else se(Er,"Using default OfflineComponentProvider"),await Yd(r,new pI(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Er,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(se(Er,"Using default OnlineComponentProvider"),await av(r,new vm))),r._onlineComponents}function vI(r){return OT(r).then((e=>e.syncEngine))}async function Tm(r){const e=await OT(r),i=e.eventManager;return i.onListen=iI.bind(null,e.syncEngine),i.onUnlisten=aI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=lI.bind(null,e.syncEngine),i}function TI(r,e,i={}){const a=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new DT({next:M=>{E.Nu(),d.enqueueAndForget((()=>ET(c,w)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new bT(_h(p.path),E,{includeMetadataChanges:!0,qa:!0});return TT(c,w)})(await Tm(r),r.asyncQueue,e,i,a))),a.promise}function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const lv=new Map;const VT="firestore.googleapis.com",ov=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=ov}else this.host=e.host,this.ssl=e.ssl??ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WR)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Aw;switch(a.type){case"firstParty":return new Iw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=lv.get(i);a&&(se("ComponentProvider","Removing Datastore"),lv.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,e,i,a={}){r=ui(r,lg);const o=gl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Nv(`https://${p}`),Dv("Firestore",!0)),c.host!==VT&&c.host!==p&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!gr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=Yb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(w)}r._authCredentials=new ww(new b1(y,E))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Lt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Xo(i,Lt._jsonSchema))return new Lt(e,a||null,new me(pt.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ut("string",Lt._jsonSchemaVersion),referencePath:Ut("string")};class Bo extends Ch{constructor(e,i,a){super(e,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new me(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function Ui(r,e,...i){if(r=cn(r),arguments.length===1&&(e=Um.newId()),Vw("doc","path",e),r instanceof lg){const a=pt.fromString(e,...i);return S0(a),new Lt(r,null,new me(a))}{if(!(r instanceof Lt||r instanceof Bo))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...i));return S0(a),new Lt(r.firestore,r instanceof Bo?r.converter:null,new me(a))}}const cv="AsyncQueue";class hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&se(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;se(cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ng.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function fv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class la extends lg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function bI(r,e){const i=typeof r=="object"?r:kv(),a=typeof r=="string"?r:Wc,o=Rm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Fb("firestore");c&&EI(o,...c)}return o}function og(r){if(r._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new Qw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(tn.fromBase64String(e))}catch(i){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xo(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ut("string",Kn._jsonSchemaVersion),bytes:Ut("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xh{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Xo(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ut("string",Hi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xo(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ut("string",Gi._jsonSchemaVersion),vectorValues:Ut("object")};const AI=/^__.*__$/;class wI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $o(e,this.data,i,this.fieldTransforms)}}class kT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Nh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&AI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,o=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const e=r._freezeSettings(),i=Ah(r._databaseId);return new RI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function CI(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);cg("Data must be an object, but it was:",d,a);const p=PT(a,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Em(e,w,i);if(!d.contains(M))throw new oe($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);jT(E,M)||E.push(M)}_=new On(E),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new wI(new Tn(p),_,y)}class Dh extends xh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function II(r,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ug extends xh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=II(this,e,!0),a=this.vc.map((c=>eu(c,i))),o=new fl(a);return new vR(e.path,o)}isEqual(e){return e instanceof ug&&gr(this.vc,e.vc)}}function xI(r,e,i,a){const o=r.Cc(1,e,i);cg("Data must be an object, but it was:",o,a);const c=[],d=Tn.empty();br(a,((_,y)=>{const E=hg(e,_,i);y=cn(y);const w=o.yc(E);if(y instanceof Dh)c.push(E);else{const M=eu(y,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new On(c);return new kT(d,p,o.fieldTransforms)}function NI(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[Em(e,a,i)],_=[o];if(c.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Em(e,c[M])),_.push(c[M+1]);const y=[],E=Tn.empty();for(let M=p.length-1;M>=0;--M)if(!jT(y,p[M])){const H=p[M];let J=_[M];J=cn(J);const ee=d.yc(H);if(J instanceof Dh)y.push(H);else{const Z=eu(J,ee);Z!=null&&(y.push(H),E.set(H,Z))}}const w=new On(y);return new kT(E,w,d.fieldTransforms)}function eu(r,e){if(zT(r=cn(r)))return cg("Unsupported field value:",e,r),PT(r,e);if(r instanceof xh)return(function(a,o){if(!UT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=eu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:rh(o.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:tT(o.serializer,a._byteString)};if(a instanceof Lt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,p){return{mapValue:{fields:{[D1]:{stringValue:O1},[eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Lm(a)}`)})(r,e)}function PT(r,e){const i={};return w1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(r,((a,o)=>{const c=eu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Hi||r instanceof Kn||r instanceof Lt||r instanceof xh||r instanceof Gi)}function cg(r,e,i){if(!zT(i)||!S1(i)){const a=Lm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Em(r,e,i){if((e=cn(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return hg(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const DI=new RegExp("[~\\*/\\[\\]]");function hg(r,e,i){if(e.search(DI)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new oe($.INVALID_ARGUMENT,p+r+_)}function jT(r,e){return r.some((i=>i.isEqual(e)))}class BT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OI extends BT{data(){return super.data()}}function qT(r,e){return typeof e=="string"?hg(r,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function MI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VI{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new Hi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const i=yr(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=pt.fromString(e);Xe(lT(a),9688,{name:e});const o=new Po(a.get(1),a.get(3)),c=new me(a.popFirst(5));return o.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Co{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends BT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Ut("string",na._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Hc extends na{data(e={}){return super.data(e)}}class al{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:UI(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function mv(r){r=ui(r,Lt);const e=ui(r.firestore,la);return TI(og(e),r._key).then((i=>GT(e,r,i)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Ut("string",al._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class HT extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}function LI(r,e,i){r=ui(r,Lt);const a=ui(r.firestore,la),o=kI(r.converter,e);return fg(a,[CI(LT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ci.none())])}function Jr(r,e,i,...a){r=ui(r,Lt);const o=ui(r.firestore,la),c=LT(o);let d;return d=typeof(e=cn(e))=="string"||e instanceof Ih?NI(c,"updateDoc",r._key,e,i,a):xI(c,"updateDoc",r._key,e),fg(o,[d.toMutation(r._key,ci.exists(!0))])}function PI(r){return fg(ui(r.firestore,la),[new Gm(r._key,ci.none())])}function gv(r,...e){r=cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||dv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Lt)d=ui(r.firestore,la),p=_h(r._key.path),c={next:_=>{e[a]&&e[a](GT(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=ui(r,Ch);d=ui(_.firestore,la),p=_._query;const y=new HT(d);c={next:E=>{e[a]&&e[a](new al(d,y,_,E))},error:e[a+1],complete:e[a+2]},MI(r._query)}return(function(y,E,w,M){const H=new DT(M),J=new bT(E,H,w);return y.asyncQueue.enqueueAndForget((async()=>TT(await Tm(y),J))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>ET(await Tm(y),J)))}})(og(d),p,o,c)}function fg(r,e){return(function(a,o){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>oI(await vI(a),o,c))),c.promise})(og(r),e)}function GT(r,e,i){const a=i.docs.get(e._key),o=new HT(r);return new na(r,o,e._key,a,new Co(i.hasPendingWrites,i.fromCache),e.converter)}function Mc(...r){return new ug("arrayUnion",r)}(function(e,i=!0){(function(o){_l=o})(pl),ll(new ia("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new la(new Rw(a.getProvider("auth-internal")),new xw(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),fr(v0,T0,e),fr(v0,T0,"esm2020")})();const zI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),pv=r=>{const e=jI(r);return e.charAt(0).toUpperCase()+e.slice(1)},FT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),BI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HI=et.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>et.createElement("svg",{ref:_,...qI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:FT("lucide",o),...!c&&!BI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>et.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ot=(r,e)=>{const i=et.forwardRef(({className:a,...o},c)=>et.createElement(HI,{ref:c,iconNode:e,className:FT(`lucide-${zI(pv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=pv(r),i};const GI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yv=ot("arrow-right",GI);const FI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],QI=ot("bird",FI);const YI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_v=ot("book-open",YI);const KI=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Oh=ot("cat",KI);const XI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vv=ot("circle-check-big",XI);const $I=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Tv=ot("crown",$I);const ZI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JI=ot("eye",ZI);const WI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],ex=ot("fish",WI);const tx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],nx=ot("hammer",tx);const ix=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],sx=ot("hand",ix);const rx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ax=ot("history",rx);const lx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QT=ot("house",lx);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YT=ot("info",ox);const ux=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=ot("log-out",ux);const cx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hx=ot("message-square",cx);const fx=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],dx=ot("paw-print",fx);const mx=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],gx=ot("rabbit",mx);const px=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],yx=ot("rat",px);const _x=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vx=ot("rotate-ccw",_x);const Tx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],KT=ot("skull",Tx);const Ex=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],bx=ot("snail",Ex);const Sx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ev=ot("sparkles",Sx);const Ax=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wx=ot("triangle-alert",Ax);const Rx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Cx=ot("trophy",Rx);const Ix=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],xx=ot("turtle",Ix);const Nx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dx=ot("user",Nx);const Ox=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ch=ot("x",Ox),Mx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:a9758ba9c41e4b5a6aa637"},XT=Vv(Mx),Kd=bw(XT),Li=bI(XT),ds=typeof __app_id<"u"?__app_id:"royal-menagerie-game",Vx="19",_n={RAT:{name:"Rat",icon:yx,color:"text-gray-200",bg:"bg-gray-800",border:"border-gray-600"},CAT:{name:"Cat",icon:Oh,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-700"},DOG:{name:"Dog",icon:dx,color:"text-white",bg:"bg-black",border:"border-gray-500"},RABBIT:{name:"Rabbit",icon:gx,color:"text-pink-200",bg:"bg-pink-900",border:"border-pink-700"},TURTLE:{name:"Turtle",icon:xx,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-700"},FISH:{name:"Fish",icon:ex,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-700"},BIRD:{name:"Bird",icon:QI,color:"text-sky-200",bg:"bg-sky-900",border:"border-sky-700"},SNAIL:{name:"Snail",icon:bx,color:"text-fuchsia-200",bg:"bg-fuchsia-900",border:"border-fuchsia-700"}},kx=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},bv=({onClose:r})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[S.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 uppercase tracking-widest",children:"ROYAL GUIDE"}),S.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"The Court of Deception"})]}),S.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:S.jsx(ch,{size:24})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 text-gray-300",children:[S.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 p-4 md:p-6 rounded-2xl border border-purple-700/30",children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[S.jsx(Cx,{className:"text-yellow-400",size:24})," The Objective"]}),S.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["There is only ",S.jsx("strong",{children:"ONE LOSER"}),". Everyone else wins.",S.jsx("br",{}),S.jsx("br",{}),"You lose if you collect:",S.jsx("br",{}),"1. ",S.jsx("strong",{children:"4 cards"})," of the same Animal.",S.jsx("br",{}),"2. ",S.jsx("strong",{children:"1 card"})," of every Animal (8 total).",S.jsx("br",{}),"3. Or run out of cards in your hand when you need to play."]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[S.jsx(hx,{className:"text-purple-400",size:24})," Gameplay"]}),S.jsxs("div",{className:"space-y-4 border-l-2 border-gray-700 ml-4 pl-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-white text-lg",children:"1. The Offer"}),S.jsxs("p",{children:['Pick a card from your hand, pass it face-down to a player, and declare an animal name (e.g., "This is a Rat"). You can'," ",S.jsx("strong",{children:"Lie"})," or tell the ",S.jsx("strong",{children:"Truth"}),"."]})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-white text-lg",children:"2. The Response"}),S.jsx("p",{children:"The receiver has two choices:"}),S.jsxs("ul",{className:"list-disc ml-6 mt-1 space-y-1",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Guess:"}),' Say "True" or "False". If they guess right, YOU get the card face-up. If they guess wrong, THEY get the card.']}),S.jsxs("li",{children:[S.jsx("strong",{children:"Peek & Pass:"})," Peek at the card, then pass it to a ",S.jsx("em",{children:"new"})," player with a new claim."]})]})]})]})]})]}),S.jsx("div",{className:"p-4 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:S.jsx("button",{onClick:r,className:"bg-purple-600 hover:bg-purple-500 text-white px-10 py-3 rounded-xl font-bold text-lg shadow-xl",children:"Enter the Court"})})]})}),Sv=({onConfirmLeave:r,onConfirmLobby:e,onCancel:i,isHost:a,inGame:o})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Court?"}),S.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:o?"Leaving now will disrupt the proceedings!":"Leaving the lobby will disconnect you."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),o&&a&&S.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[S.jsx(QT,{size:18})," Return Court to Lobby"]}),S.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[S.jsx(bm,{size:18})," ",o&&a?"End Game for All":"Leave Game"]})]})]})}),Ux=({type:r,message:e,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:S.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-purple-900/90 border-purple-500 text-purple-100":""}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:S.jsx(a,{size:64,className:"animate-bounce"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Xd=()=>S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-purple-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-900/10 mix-blend-overlay"})]}),Lx=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(Oh,{size:12,className:"text-purple-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"ROYAL MENAGERIE"})]}),Px=({title:r,text:e,onClose:i,type:a="info",card:o=null})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:S.jsx("div",{className:"bg-gray-800 border-2 border-purple-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:S.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?S.jsx(wx,{className:"text-red-500 w-12 h-12"}):a==="loss"?S.jsx(KT,{className:"text-red-500 w-12 h-12 animate-bounce"}):S.jsx(YT,{className:"text-purple-400 w-12 h-12"}),S.jsx("h3",{className:"text-2xl font-bold text-white",children:r}),S.jsx("p",{className:"text-gray-300 text-lg",children:e}),o&&S.jsxs("div",{className:"my-2",children:[S.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"The Card Was"}),S.jsx(ea,{type:o,small:!0})]}),S.jsx("button",{onClick:i,className:"w-full py-3 rounded-lg font-bold text-white bg-purple-600 hover:bg-purple-500 transition-colors",children:a==="loss"?"Accept Fate":"Understood"})]})})}),ea=({type:r,onClick:e,disabled:i,highlight:a,small:o,tiny:c,isFaceDown:d})=>{if(d)return S.jsx("div",{onClick:e,className:`relative rounded-xl border-2 border-purple-800 bg-purple-950 shadow-lg flex items-center justify-center
            ${o?"w-12 h-16":"w-24 h-36 md:w-32 md:h-48"} 
            ${i?"opacity-50":"cursor-pointer hover:scale-105 transition-transform"}`,children:S.jsx(Oh,{className:"text-purple-700 opacity-20",size:o?16:48})});const p=_n[r];if(!p)return S.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded"});const _=o?"w-12 h-16 md:w-16 md:h-24":"w-24 h-36 md:w-32 md:h-48",y=o?"w-6 h-6 md:w-8 md:h-8":"w-12 h-12 md:w-16 md:h-16",E=o?"text-[8px] md:text-[10px]":"text-sm md:text-base";return c?S.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${p.bg} border border-gray-400`,title:p.name,children:S.jsx(p.icon,{className:`${p.color} w-3 h-3`})}):S.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-4 shadow-lg transition-all flex flex-col items-center justify-center gap-1 md:gap-2
        ${_}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":p.border}
        ${p.bg} 
        ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsx(p.icon,{className:`${p.color} ${y} drop-shadow-md`})}),S.jsx("div",{className:`font-black uppercase tracking-wider ${E} ${p.color} w-full text-center pb-2 md:pb-4`,children:S.jsx("span",{children:p.name})})]})},zx=({logs:r,onClose:e})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:S.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] flex flex-col border border-gray-700 md:rounded-xl",children:[S.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[S.jsx("h3",{className:"text-white font-bold text-lg",children:"Court Records"}),S.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:S.jsx(ch,{className:"text-gray-400"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>S.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function jx(){const[r,e]=et.useState(null),[i,a]=et.useState("menu"),[o,c]=et.useState(""),[d,p]=et.useState(""),[_,y]=et.useState(""),[E,w]=et.useState(null),[M,H]=et.useState(!1),[J,ee]=et.useState(""),[Z,fe]=et.useState(!1),[ge,pe]=et.useState(null),[xe,Ke]=et.useState(null),[Re,x]=et.useState(null),[A,C]=et.useState(!1),[V,N]=et.useState(!1),[U,R]=et.useState(!1),[at,dt]=et.useState(!1),[G,te]=et.useState(null),[ue,je]=et.useState(null),[Fe,O]=et.useState(!1);et.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await o2(Kd,__initial_auth_token):await i2(Kd)})(),h2(Kd,e)},[]),et.useEffect(()=>{const de=gv(Ui(Li,"game_hub_settings","config"),ce=>{ce.exists()&&ce.data()[Vx]?.maintenance?O(!0):O(!1)});return()=>de()},[]),et.useEffect(()=>{if(!d||!r)return;const de=gv(Ui(Li,"artifacts",ds,"public","data","rooms",d),ce=>{if(ce.exists()){const ye=ce.data();if(!ye.players.some($e=>$e.id===r.uid)){p(""),a("menu"),ee("You have left the court.");return}w(ye),ye.status==="lobby"?a("lobby"):a("game")}else p(""),a("menu"),ee("The court has been dissolved.")});return()=>de()},[d,r]);const Y=(de,ce,ye,$e)=>{te({type:de,message:ce,subtext:ye,icon:$e}),setTimeout(()=>te(null),3e3)},ne=async()=>{if(!o)return ee("Name required");H(!0);const de=Math.random().toString(36).substring(2,7).toUpperCase(),ce={roomId:de,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,hand:[],faceUpCards:[],eliminated:!1,ready:!1}],turnState:null,turnIndex:0,logs:[],winnerId:null};await LI(Ui(Li,"artifacts",ds,"public","data","rooms",de),ce),p(de),a("lobby"),H(!1)},ie=async()=>{if(!_||!o)return ee("Code and Name required");H(!0);const de=Ui(Li,"artifacts",ds,"public","data","rooms",_),ce=await mv(de);if(!ce.exists()){ee("Room not found"),H(!1);return}const ye=ce.data();if(ye.status!=="lobby"){ee("Game in progress"),H(!1);return}if(ye.players.length>=7){ee("Room full"),H(!1);return}if(!ye.players.find($e=>$e.id===r.uid)){const $e=[...ye.players,{id:r.uid,name:o,hand:[],faceUpCards:[],eliminated:!1,ready:!1}];await Jr(de,{players:$e})}p(_),H(!1)},ve=async()=>{if(!d||!r)return;const de=Ui(Li,"artifacts",ds,"public","data","rooms",d),ce=await mv(de);if(ce.exists()){const ye=ce.data();if(ye.hostId===r.uid||ye.players.length<=1)await PI(de);else{const Bt=ye.players.filter(le=>le.id!==r.uid);await Jr(de,{players:Bt})}}p(""),a("menu"),w(null),R(!1)},be=async()=>{if(!E||E.hostId!==r.uid)return;const de=E.players.map(ce=>({...ce,hand:[],faceUpCards:[],eliminated:!1,ready:!1}));await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{status:"lobby",players:de,turnState:null,logs:[],winnerId:null})},Ve=async()=>{!E||E.hostId!==r.uid||_t()},_t=async()=>{if(E.hostId!==r.uid)return;const de=E.players.map(De=>({...De,hand:[],faceUpCards:[],eliminated:!1})),ce=de.length;let ye=[];Object.keys(_n).forEach(De=>{for(let tt=0;tt<9;tt++)ye.push(De)}),ye=kx(ye);const $e=ye.length%ce;for(let De=0;De<$e;De++)ye.pop();ce<4&&(ye.pop(),ye.pop(),ye.pop());let Bt=0;for(;ye.length>0;)de[Bt].hand.push(ye.pop()),Bt=(Bt+1)%ce;const le=Math.floor(Math.random()*ce);await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{status:"playing",players:de,turnIndex:le,turnState:null,winnerId:null,logs:[{id:Date.now().toString(),text:"The Royal Menagerie is open! Let the deception begin.",type:"neutral"}]})},ut=async()=>{if(!ge||!xe||!Re)return;const de=[...E.players],ce=de.findIndex(le=>le.id===r.uid),ye=de[ce],$e=ye.hand.indexOf(ge);if($e===-1)return;ye.hand.splice($e,1);const Bt={activeCard:ge,declaredType:Re,holderId:xe,originId:r.uid,passedTrace:[r.uid]};await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{players:de,turnState:Bt,logs:Mc({id:Date.now().toString(),text:`${ye.name} passed a card to ${E.players.find(le=>le.id===xe).name} claiming it is a ${_n[Re].name}.`,type:"neutral"})}),pe(null),Ke(null),x(null)},hi=async de=>{const ce=E.turnState,ye=ce.activeCard,$e=ce.declaredType,Bt=ye===$e,le=de&&Bt||!de&&!Bt,De=le?ce.originId:r.uid,tt=le?r.uid:ce.originId,Qt=[...E.players],di=Qt.findIndex(bn=>bn.id===De);Qt[di].faceUpCards.push(ye);const Xn=Qt[di].name,vt=Qt.find(bn=>bn.id===tt).name;let Mn=le?`${vt} correctly guessed! ${Xn} takes the ${_n[ye].name}.`:`${vt} guessed wrong! They take the ${_n[ye].name}.`;r.uid===tt?Y("success","CORRECT!",`${Xn} takes the card`,vv):r.uid===De?Y("failure","WRONG!",`You take the ${_n[ye].name}`,ch):Y("neutral","RESULT",Mn,YT);const ws=Qt[di],mi={};ws.faceUpCards.forEach(bn=>mi[bn]=(mi[bn]||0)+1);let En=!1,Rs="";Object.values(mi).some(bn=>bn>=4)?(En=!0,Rs=`collected 4 ${_n[ye].name}s`):Object.keys(mi).length===8?(En=!0,Rs="collected every animal type"):ws.hand.length===0&&(En=!0,Rs="ran out of cards to play");const Yi={players:Qt,turnState:null,turnIndex:di,logs:Mc({id:Date.now().toString(),text:Mn,type:le?"success":"danger"})};En&&(Yi.status="finished",Yi.winnerId=De,Yi.logs=Mc({id:Date.now().toString(),text:`GAME OVER! ${Xn} ${Rs} and is the Royal Fool!`,type:"danger"})),await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),Yi)},As=async()=>{if(!xe||!Re)return;const de=E.turnState,ce=[...de.passedTrace,r.uid],ye={...de,holderId:xe,originId:r.uid,declaredType:Re,passedTrace:ce};await Jr(Ui(Li,"artifacts",ds,"public","data","rooms",d),{turnState:ye,logs:Mc({id:Date.now().toString(),text:`${E.players.find($e=>$e.id===r.uid).name} looked and passed the card.`,type:"neutral"})}),N(!1),Ke(null),x(null)},fi=(de=[])=>E.players.filter(ce=>ce.id!==r.uid&&!de.includes(ce.id)&&!ce.eliminated);if(Fe)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(nx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The Queen is feeding the royal animals. The animals will return after some rest."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx(Ev,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx(Ev,{size:16})]})})})})]});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(Xd,{}),at&&S.jsx(bv,{onClose:()=>dt(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(Oh,{size:80,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),S.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-400 to-pink-600 font-serif tracking-widest drop-shadow-md",children:"ROYAL MENAGERIE"}),S.jsx("p",{className:"text-purple-200/60 tracking-[0.3em] uppercase mt-2",children:"The Court of Deception"})]}),S.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[J&&S.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:J}),S.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Your Title (Name)",value:o,onChange:de=>c(de.target.value)}),S.jsxs("button",{onClick:ne,disabled:M,className:"w-full bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.2)] transition-all",children:[S.jsx(Tv,{size:20})," Establish Court"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"CODE",value:_,onChange:de=>y(de.target.value.toUpperCase())}),S.jsx("button",{onClick:ie,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),S.jsxs("button",{onClick:()=>dt(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[S.jsx(_v,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const de=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(Xd,{}),U&&S.jsx(Sv,{onCancel:()=>R(!1),onConfirmLeave:ve,onConfirmLobby:()=>{be(),R(!1)},isHost:de,inGame:!1}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl mb-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[S.jsxs("h2",{className:"text-2xl font-serif text-purple-400",children:["Court: ",S.jsx("span",{className:"text-white font-mono",children:d})]}),S.jsx("button",{onClick:()=>R(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:S.jsx(bm,{size:16})})]}),S.jsxs("div",{className:"space-y-2 mb-8",children:[E.players.map(ce=>S.jsx("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:S.jsxs("span",{className:`font-bold flex items-center gap-2 ${ce.id===r.uid?"text-purple-400":"text-gray-300"}`,children:[ce.id===E.hostId&&S.jsx(Tv,{size:14,className:"text-yellow-500"}),ce.name]})},ce.id)),E.players.length<2&&S.jsx("div",{className:"text-gray-500 italic text-center",children:"Waiting for diplomats..."})]}),de?S.jsx("button",{onClick:_t,disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length>=2?"bg-green-700 hover:bg-green-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:E.players.length<2?"Awaiting Diplomats...":"Start the Masquerade"}):S.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"The Host is preparing the deck..."})]}),S.jsx(Lx,{})]})}if(i==="game"&&E){const de=E.hostId===r.uid,ce=E.players.find(le=>le.id===r.uid),ye=E.status==="playing"&&!E.turnState&&E.players[E.turnIndex].id===r.uid,$e=E.status==="playing"&&E.turnState&&E.turnState.holderId===r.uid,Bt=E.winnerId;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[S.jsx(Xd,{}),G&&S.jsx(Ux,{...G}),ue&&S.jsx(Px,{...ue,onClose:()=>je(null)}),Z&&S.jsx(zx,{logs:E.logs,onClose:()=>fe(!1)}),at&&S.jsx(bv,{onClose:()=>dt(!1)}),U&&S.jsx(Sv,{onCancel:()=>R(!1),onConfirmLeave:ve,onConfirmLobby:()=>{be(),R(!1)},isHost:de,inGame:!0}),S.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[S.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider",children:"ROYAL MENAGERIE"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>dt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:S.jsx(_v,{size:18})}),S.jsx("button",{onClick:()=>fe(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:S.jsx(ax,{size:18})}),S.jsx("button",{onClick:()=>R(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:S.jsx(bm,{size:18})})]})]}),E.status==="finished"&&S.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex flex-col items-center justify-center p-4 text-center animate-in fade-in",children:[S.jsx(KT,{size:64,className:"text-red-500 mb-6 animate-bounce"}),S.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white mb-2 uppercase tracking-widest",children:"Game Over"}),S.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-lg",children:[S.jsx("span",{className:"text-red-400 font-bold text-3xl block mb-2",children:E.players.find(le=>le.id===Bt)?.name}),"is the Royal Fool!"]}),de?S.jsxs("div",{className:"flex flex-col items-center gap-4 w-full max-w-xs",children:[S.jsxs("button",{onClick:Ve,className:"w-full py-3 rounded-xl font-bold text-lg bg-blue-600 hover:bg-blue-500 text-white flex items-center justify-center gap-2",children:[S.jsx(vx,{size:20})," Restart Court"]}),S.jsxs("button",{onClick:be,className:"w-full py-3 rounded-xl font-bold text-lg border-2 border-green-600 text-green-500 hover:bg-green-600/10 flex items-center justify-center gap-2",children:[S.jsx(QT,{size:20})," Return to Lobby"]})]}):S.jsx("div",{className:"text-gray-400 animate-pulse",children:"Waiting for Host..."})]}),S.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[S.jsx("div",{className:"flex flex-wrap justify-center gap-2 w-full mb-4",children:E.players.map((le,De)=>{if(le.id===r.uid)return null;const tt=E.turnState?E.turnState.holderId===le.id:E.turnIndex===De,Qt=ye&&ge||V,di=fi(V?E.turnState.passedTrace:[]),Xn=Qt&&di.some(vt=>vt.id===le.id);return S.jsxs("div",{onClick:()=>Xn?Ke(le.id):null,className:`relative bg-gray-900/90 p-2 rounded-lg border-2 w-28 md:w-36 flex flex-col items-center transition-all
                                      ${tt?"border-yellow-500 shadow-lg shadow-yellow-500/20":"border-gray-700"}
                                      ${Xn?"cursor-pointer ring-2 ring-green-500 hover:scale-105":""}
                                      ${xe===le.id?"bg-green-900/30 ring-4 ring-green-400":""}
                                   `,children:[S.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[S.jsx("span",{className:"text-xs font-bold truncate text-gray-300",children:le.name}),S.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-1.5 rounded",children:[S.jsx(sx,{size:10,className:"text-gray-400"}),S.jsx("span",{className:"text-xs font-bold",children:le.hand.length})]})]}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-1 min-h-[2rem]",children:[le.faceUpCards.sort().map((vt,Mn)=>S.jsx(ea,{type:vt,tiny:!0},Mn)),le.faceUpCards.length===0&&S.jsx("span",{className:"text-[10px] text-gray-600",children:"Safe... for now"})]}),tt&&S.jsx("div",{className:"absolute -top-2 bg-yellow-600 text-[10px] font-bold px-2 rounded-full text-white",children:"ACTIVE"})]},le.id)})}),S.jsx("div",{className:"my-2 bg-black/60 px-4 py-2 rounded-full backdrop-blur text-sm md:text-lg text-center font-bold text-gray-200 border border-gray-700",children:E.turnState?$e?S.jsx("span",{className:"text-yellow-400 animate-pulse",children:"Incoming Card! Is it true or false?"}):`${E.players.find(le=>le.id===E.turnState.holderId).name} is deciding...`:ye?S.jsx("span",{className:"text-green-400",children:"Your Turn! Select a card from hand."}):`Waiting for ${E.players[E.turnIndex].name}...`}),A&&S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-4 animate-in zoom-in",children:S.jsxs("div",{className:"bg-gray-800 w-full max-w-sm p-6 rounded-2xl border border-gray-600 flex flex-col items-center shadow-2xl relative",children:[S.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Sneak Peek"}),S.jsx("div",{className:"mb-6",children:S.jsx(ea,{type:E.turnState.activeCard})}),S.jsxs("div",{className:"flex gap-4 w-full",children:[S.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 bg-gray-700 rounded-lg text-white font-bold",children:"Back"}),S.jsx("button",{onClick:()=>{C(!1),N(!0)},className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold",children:"I'm Ready to Lie"})]})]})}),S.jsxs("div",{className:"w-full max-w-4xl bg-gray-900/95 p-4 rounded-t-3xl border-t border-purple-900/50 backdrop-blur-md",children:[ye&&ge&&!E.turnState&&S.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-xl border border-gray-700 animate-in slide-in-from-bottom",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Hidden"}),S.jsx(ea,{type:ge,small:!0})]}),S.jsx(yv,{className:"text-gray-500"}),S.jsxs("div",{className:"text-center w-32",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Target"}),xe?S.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:E.players.find(le=>le.id===xe).name}):S.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),S.jsxs("div",{className:"flex-1 w-full",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(_n).map(le=>S.jsxs("button",{onClick:()=>x(le),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                    ${Re===le?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                 `,children:[L_.createElement(_n[le].icon,{size:14}),_n[le].name]},le))})]}),S.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[S.jsx("button",{onClick:ut,disabled:!xe||!Re,className:"bg-green-600 hover:bg-green-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass Card"}),S.jsx("button",{onClick:()=>{pe(null),Ke(null),x(null)},className:"bg-red-900/50 hover:bg-red-900 text-red-300 py-2 rounded-lg w-full text-sm",children:"Cancel"})]})]})}),V&&S.jsx("div",{className:"mb-4 p-4 bg-gray-800 rounded-xl border border-gray-700 animate-in slide-in-from-bottom",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"The Card"}),S.jsx(ea,{type:E.turnState.activeCard,small:!0})]}),S.jsx(yv,{className:"text-gray-500"}),S.jsxs("div",{className:"text-center w-32",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Next Victim"}),xe?S.jsx("div",{className:"bg-gray-700 p-2 rounded font-bold",children:E.players.find(le=>le.id===xe).name}):S.jsx("div",{className:"text-yellow-500 text-sm animate-pulse",children:"Tap an Opponent"})]})]}),S.jsxs("div",{className:"flex-1 w-full",children:[S.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold block mb-1",children:"Declare (Lie or Truth)"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(_n).map(le=>S.jsxs("button",{onClick:()=>x(le),className:`p-2 rounded text-[10px] md:text-xs font-bold flex flex-col items-center gap-1 border transition-all
                                                    ${Re===le?"bg-purple-600 border-purple-400 text-white scale-105 shadow-lg":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}
                                                 `,children:[L_.createElement(_n[le].icon,{size:14}),_n[le].name]},le))})]}),S.jsxs("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[S.jsx("button",{onClick:As,disabled:!xe||!Re,className:"bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Pass It On"}),S.jsx("button",{onClick:()=>N(!1),className:"text-xs text-gray-500 hover:text-white mt-1",children:"Cancel"})]})]})}),$e&&!A&&!V&&S.jsxs("div",{className:"mb-4 p-6 bg-gray-800 rounded-xl border-2 border-yellow-500/50 animate-in zoom-in",children:[S.jsxs("h3",{className:"text-xl md:text-2xl font-black text-center text-white mb-2",children:[E.players.find(le=>le.id===E.turnState.originId).name," ","offers a card..."]}),S.jsxs("p",{className:"text-center text-gray-300 mb-6 text-lg",children:['"This is a'," ",S.jsx("strong",{className:"text-purple-400 text-xl uppercase",children:_n[E.turnState.declaredType].name}),'."']}),S.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4",children:[S.jsxs("button",{onClick:()=>hi(!0),className:"flex-1 bg-green-700 hover:bg-green-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(vv,{}),' "True!"']}),S.jsxs("button",{onClick:()=>hi(!1),className:"flex-1 bg-red-700 hover:bg-red-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(ch,{}),' "False!"']}),fi(E.turnState.passedTrace).length>0&&S.jsx("div",{className:"w-px bg-gray-600 mx-2 hidden md:block"}),fi(E.turnState.passedTrace).length>0&&S.jsxs("button",{onClick:()=>C(!0),className:"flex-1 bg-blue-700 hover:bg-blue-600 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2",children:[S.jsx(JI,{})," Peek & Pass"]})]})]}),!$e&&!V&&ce&&S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(Dx,{className:"text-purple-400",size:16}),S.jsx("span",{className:"font-bold text-gray-300",children:"My Hand"})]}),S.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:ce.hand.map((le,De)=>S.jsxs("div",{className:"relative group shrink-0",children:[ge===le&&ye&&!E.turnState&&S.jsx("div",{className:"absolute -top-8 left-0 right-0 text-center bg-yellow-500 text-black text-[10px] font-bold px-1 rounded animate-bounce z-20",children:"Selected"}),S.jsx(ea,{type:le,small:!0,highlight:ge===le,disabled:!ye||E.turnState,onClick:()=>!E.turnState&&ye?pe(le):null})]},De))}),S.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-gray-800",children:[S.jsxs("span",{className:"text-xs text-red-400 font-bold uppercase",children:["My Failures (",ce.faceUpCards.length,")"]}),S.jsx("div",{className:"flex gap-1",children:ce.faceUpCards.map((le,De)=>S.jsx(ea,{type:le,tiny:!0},De))})]})]})]})]})]})}return null}Ub.createRoot(document.getElementById("root")).render(S.jsx(et.StrictMode,{children:S.jsx(jx,{})}));
